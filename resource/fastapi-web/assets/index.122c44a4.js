import{b as ze,A as Re,u as Je,B as Qe,o as Ye,x as Ge,I as We,y as Ze,_ as Xe}from"./index.868bd898.js";/* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css                *//* empty css               *//* empty css              *//* empty css                *//* empty css                *//* empty css               *//* empty css              */import{c as xe,S as et}from"./sortable.esm.2109e0e3.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css              */import{aN as tt,x as at,d as nt,r as Pe,e as q,c as Oe,w as Te,bR as ot,B as n,C as _,aH as a,aG as e,aL as w,aM as r,bu as oe,aD as l,aJ as Ee,aI as Ve,u as f,F as W,D as lt,aE as ut,n as rt,g as it,aK as st,aF as ct,bB as dt,bC as pt,b2 as mt,bA as _t,b1 as ft,aS as ht,bD as yt,bE as vt,b5 as bt,bF as gt,ab as kt,aU as wt,bi as Ct,bj as Nt,bl as St,bm as Dt,b4 as Et,bG as Vt,bI as Ft,bO as Bt,bP as jt,ad as $t,bS as xt,bT as Ot,bQ as It,ba as At,b6 as Pt,aV as Tt,bJ as Lt}from"./arco.aed15247.js";import{u as zt}from"./loading.b5911e1d.js";import{q as qt}from"./base.87fcf6e2.js";import{g as Mt}from"./app.e9e213be.js";import{q as Ht}from"./model.a34f533d.js";import{u as Kt}from"./vue.0cc5b64a.js";import"./chart.9aa6eafa.js";function Ut(le){return ze.post("/api/v1/chat/page",le)}function Rt(le){return ze.get("/api/v1/chat/detail",{params:le,paramsSerializer:be=>qt.stringify(be)})}var qe={exports:{}};(function(le,be){(function(de,ge){le.exports=ge(Re)})(at,function(de){return function(){var ge={789:function(i){i.exports=de}},pe={};function U(i){var T=pe[i];if(T!==void 0)return T.exports;var C=pe[i]={exports:{}};return ge[i](C,C.exports,U),C.exports}U.d=function(i,T){for(var C in T)U.o(T,C)&&!U.o(i,C)&&Object.defineProperty(i,C,{enumerable:!0,get:T[C]})},U.o=function(i,T){return Object.prototype.hasOwnProperty.call(i,T)},U.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var ue={};return function(){function i(t,s){(s==null||s>t.length)&&(s=t.length);for(var m=0,k=new Array(s);m<s;m++)k[m]=t[m];return k}function T(t,s){if(t){if(typeof t=="string")return i(t,s);var m=Object.prototype.toString.call(t).slice(8,-1);return m==="Object"&&t.constructor&&(m=t.constructor.name),m==="Map"||m==="Set"?Array.from(t):m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m)?i(t,s):void 0}}function C(t){return function(s){if(Array.isArray(s))return i(s)}(t)||function(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}(t)||T(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function X(t,s,m){return s in t?Object.defineProperty(t,s,{value:m,enumerable:!0,configurable:!0,writable:!0}):t[s]=m,t}U.r(ue),U.d(ue,{default:function(){return Be}});var d=U(789),Q=(0,d.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var t=this.data,s=this.onClick;return(0,d.createVNode)("span",{class:"vjs-tree-brackets",onClick:s},[t])}}),re=(0,d.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(t,s){var m=s.emit;return{uiType:(0,d.computed)(function(){return t.isMultiple?"checkbox":"radio"}),model:(0,d.computed)({get:function(){return t.checked},set:function(k){return m("update:modelValue",k)}})}},render:function(){var t=this.uiType,s=this.model,m=this.$emit;return(0,d.createVNode)("label",{class:["vjs-check-controller",s?"is-checked":""],onClick:function(k){return k.stopPropagation()}},[(0,d.createVNode)("span",{class:"vjs-check-controller-inner is-".concat(t)},null),(0,d.createVNode)("input",{checked:s,class:"vjs-check-controller-original is-".concat(t),type:t,onChange:function(){return m("change",s)}},null)])}}),me=(0,d.defineComponent)({props:{nodeType:{required:!0,type:String},onClick:Function},render:function(){var t=this.nodeType,s=this.onClick,m=t==="objectStart"||t==="arrayStart";return m||t==="objectCollapsed"||t==="arrayCollapsed"?(0,d.createVNode)("span",{class:"vjs-carets vjs-carets-".concat(m?"open":"close"),onClick:s},[(0,d.createVNode)("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"caret-down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[(0,d.createVNode)("path",{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"},null)])]):null}});function R(t){return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},R(t)}function ee(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function Y(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,k=arguments.length>3?arguments[3]:void 0,F=k||{},$=F.key,K=F.index,o=F.type,M=o===void 0?"content":o,x=F.showComma,L=x!==void 0&&x,c=F.length,b=c===void 0?1:c,O=ee(t);if(O==="array"){var I=te(t.map(function(A,N,u){return Y(A,"".concat(s,"[").concat(N,"]"),m+1,{index:N,showComma:N!==u.length-1,length:b,type:M})}));return[Y("[",s,m,{showComma:!1,key:$,length:t.length,type:"arrayStart"})[0]].concat(I,Y("]",s,m,{showComma:L,length:t.length,type:"arrayEnd"})[0])}if(O==="object"){var j=Object.keys(t),Z=te(j.map(function(A,N,u){return Y(t[A],/^[a-zA-Z_]\w*$/.test(A)?"".concat(s,".").concat(A):"".concat(s,'["').concat(A,'"]'),m+1,{key:A,showComma:N!==u.length-1,length:b,type:M})}));return[Y("{",s,m,{showComma:!1,key:$,index:K,length:j.length,type:"objectStart"})[0]].concat(Z,Y("}",s,m,{showComma:L,length:j.length,type:"objectEnd"})[0])}return[{content:t,level:m,key:$,index:K,path:s,showComma:L,length:b,type:M}]}function te(t){if(typeof Array.prototype.flat=="function")return t.flat();for(var s=C(t),m=[];s.length;){var k=s.shift();Array.isArray(k)?s.unshift.apply(s,C(k)):m.push(k)}return m}function ie(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(t==null)return t;if(t instanceof Date)return new Date(t);if(t instanceof RegExp)return new RegExp(t);if(R(t)!=="object")return t;if(s.get(t))return s.get(t);if(Array.isArray(t)){var m=t.map(function($){return ie($,s)});return s.set(t,m),m}var k={};for(var F in t)k[F]=ie(t[F],s);return s.set(t,k),k}function ke(t,s){var m=Object.keys(t);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(t);s&&(k=k.filter(function(F){return Object.getOwnPropertyDescriptor(t,F).enumerable})),m.push.apply(m,k)}return m}function ae(t){for(var s=1;s<arguments.length;s++){var m=arguments[s]!=null?arguments[s]:{};s%2?ke(Object(m),!0).forEach(function(k){X(t,k,m[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(m)):ke(Object(m)).forEach(function(k){Object.defineProperty(t,k,Object.getOwnPropertyDescriptor(m,k))})}return t}var _e={showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},renderNodeKey:Function,renderNodeValue:Function,selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},showLineNumber:{type:Boolean,default:!1},selectOnClickNode:{type:Boolean,default:!0},nodeSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},showKeyValueSpace:{type:Boolean,default:!0},editable:{type:Boolean,default:!1},editableTrigger:{type:String,default:"click"},onNodeClick:{type:Function},onBracketsClick:{type:Function},onIconClick:{type:Function},onValueChange:{type:Function}},Fe=(0,d.defineComponent)({name:"TreeNode",props:ae(ae({},_e),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,style:Object,onSelectedChange:{type:Function}}),emits:["nodeClick","bracketsClick","iconClick","selectedChange","valueChange"],setup:function(t,s){var m=s.emit,k=(0,d.computed)(function(){return ee(t.node.content)}),F=(0,d.computed)(function(){return"vjs-value vjs-value-".concat(k.value)}),$=(0,d.computed)(function(){return t.showDoubleQuotes?'"'.concat(t.node.key,'"'):t.node.key}),K=(0,d.computed)(function(){return t.selectableType==="multiple"}),o=(0,d.computed)(function(){return t.selectableType==="single"}),M=(0,d.computed)(function(){return t.nodeSelectable(t.node)&&(K.value||o.value)}),x=(0,d.reactive)({editing:!1}),L=function(N){var u,g,S=(g=(u=N.target)===null||u===void 0?void 0:u.value)==="null"?null:g==="undefined"?void 0:g==="true"||g!=="false"&&(g[0]+g[g.length-1]==='""'||g[0]+g[g.length-1]==="''"?g.slice(1,-1):typeof Number(g)=="number"&&!isNaN(Number(g))||g==="NaN"?Number(g):g);m("valueChange",S,t.node.path)},c=(0,d.computed)(function(){var N,u=(N=t.node)===null||N===void 0?void 0:N.content;return u===null?u="null":u===void 0&&(u="undefined"),k.value==="string"?'"'.concat(u,'"'):u+""}),b=function(){var N=t.renderNodeValue;return N?N({node:t.node,defaultValue:c.value}):c.value},O=function(){m("bracketsClick",!t.collapsed,t.node.path)},I=function(){m("iconClick",!t.collapsed,t.node.path)},j=function(){m("selectedChange",t.node)},Z=function(){m("nodeClick",t.node),M.value&&t.selectOnClickNode&&m("selectedChange",t.node)},A=function(N){if(t.editable&&!x.editing){x.editing=!0;var u=function g(S){var D;S.target!==N.target&&((D=S.target)===null||D===void 0?void 0:D.parentElement)!==N.target&&(x.editing=!1,document.removeEventListener("click",g))};document.removeEventListener("click",u),document.addEventListener("click",u)}};return function(){var N,u=t.node;return(0,d.createVNode)("div",{class:{"vjs-tree-node":!0,"has-selector":t.showSelectController,"has-carets":t.showIcon,"is-highlight":t.highlightSelectedNode&&t.checked},onClick:Z,style:t.style},[t.showLineNumber&&(0,d.createVNode)("span",{class:"vjs-node-index"},[u.id+1]),t.showSelectController&&M.value&&u.type!=="objectEnd"&&u.type!=="arrayEnd"&&(0,d.createVNode)(re,{isMultiple:K.value,checked:t.checked,onChange:j},null),(0,d.createVNode)("div",{class:"vjs-indent"},[Array.from(Array(u.level)).map(function(g,S){return(0,d.createVNode)("div",{key:S,class:{"vjs-indent-unit":!0,"has-line":t.showLine}},null)}),t.showIcon&&(0,d.createVNode)(me,{nodeType:u.type,onClick:I},null)]),u.key&&(0,d.createVNode)("span",{class:"vjs-key"},[(N=t.renderNodeKey,N?N({node:t.node,defaultKey:$.value||""}):$.value),(0,d.createVNode)("span",{class:"vjs-colon"},[":".concat(t.showKeyValueSpace?" ":"")])]),(0,d.createVNode)("span",null,[u.type!=="content"&&u.content?(0,d.createVNode)(Q,{data:u.content.toString(),onClick:O},null):(0,d.createVNode)("span",{class:F.value,onClick:!t.editable||t.editableTrigger&&t.editableTrigger!=="click"?void 0:A,onDblclick:t.editable&&t.editableTrigger==="dblclick"?A:void 0},[t.editable&&x.editing?(0,d.createVNode)("input",{value:c.value,onChange:L,style:{padding:"3px 8px",border:"1px solid #eee",boxShadow:"none",boxSizing:"border-box",borderRadius:5,fontFamily:"inherit"}},null):b()]),u.showComma&&(0,d.createVNode)("span",null,[","]),t.showLength&&t.collapsed&&(0,d.createVNode)("span",{class:"vjs-comment"},[(0,d.createTextVNode)(" // "),u.length,(0,d.createTextVNode)(" items ")])])])}}});function we(t,s){var m=Object.keys(t);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(t);s&&(k=k.filter(function(F){return Object.getOwnPropertyDescriptor(t,F).enumerable})),m.push.apply(m,k)}return m}function P(t){for(var s=1;s<arguments.length;s++){var m=arguments[s]!=null?arguments[s]:{};s%2?we(Object(m),!0).forEach(function(k){X(t,k,m[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(m)):we(Object(m)).forEach(function(k){Object.defineProperty(t,k,Object.getOwnPropertyDescriptor(m,k))})}return t}var Be=(0,d.defineComponent)({name:"Tree",props:P(P({},_e),{},{data:{type:[String,Number,Boolean,Array,Object],default:null},collapsedNodeLength:{type:Number,default:1/0},deep:{type:Number,default:1/0},pathCollapsible:{type:Function,default:function(){return!1}},rootPath:{type:String,default:"root"},virtual:{type:Boolean,default:!1},height:{type:Number,default:400},itemHeight:{type:Number,default:20},selectedValue:{type:[String,Array],default:function(){return""}},collapsedOnClickBrackets:{type:Boolean,default:!0},style:Object,onSelectedChange:{type:Function}}),slots:["renderNodeKey","renderNodeValue"],emits:["nodeClick","bracketsClick","iconClick","selectedChange","update:selectedValue","update:data"],setup:function(t,s){var m=s.emit,k=s.slots,F=(0,d.ref)(),$=(0,d.computed)(function(){return Y(t.data,t.rootPath)}),K=function(u,g){return $.value.reduce(function(S,D){var E,B=D.level>=u||D.length>=g,z=(E=t.pathCollapsible)===null||E===void 0?void 0:E.call(t,D);return D.type!=="objectStart"&&D.type!=="arrayStart"||!B&&!z?S:P(P({},S),{},X({},D.path,1))},{})},o=(0,d.reactive)({translateY:0,visibleData:null,hiddenPaths:K(t.deep,t.collapsedNodeLength)}),M=(0,d.computed)(function(){for(var u=null,g=[],S=$.value.length,D=0;D<S;D++){var E=P(P({},$.value[D]),{},{id:D}),B=o.hiddenPaths[E.path];if(u&&u.path===E.path){var z=u.type==="objectStart",se=P(P(P({},E),u),{},{showComma:E.showComma,content:z?"{...}":"[...]",type:z?"objectCollapsed":"arrayCollapsed"});u=null,g.push(se)}else{if(B&&!u){u=E;continue}if(u)continue;g.push(E)}}return g}),x=(0,d.computed)(function(){var u=t.selectedValue;return u&&t.selectableType==="multiple"&&Array.isArray(u)?u:[u]}),L=(0,d.computed)(function(){return!t.selectableType||t.selectOnClickNode||t.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}),c=function(){var u=M.value;if(t.virtual){var g,S=t.height/t.itemHeight,D=((g=F.value)===null||g===void 0?void 0:g.scrollTop)||0,E=Math.floor(D/t.itemHeight),B=E<0?0:E+S>u.length?u.length-S:E;B<0&&(B=0);var z=B+S;o.translateY=B*t.itemHeight,o.visibleData=u.filter(function(se,G){return G>=B&&G<z})}else o.visibleData=u},b=function(){c()},O=function(u){var g,S,D=u.path,E=t.selectableType;if(E==="multiple"){var B=x.value.findIndex(function(H){return H===D}),z=C(x.value);B!==-1?z.splice(B,1):z.push(D),m("update:selectedValue",z),m("selectedChange",z,C(x.value))}else if(E==="single"&&x.value[0]!==D){var se=(g=x.value,S=1,function(H){if(Array.isArray(H))return H}(g)||function(H,ce){var J=H==null?null:typeof Symbol<"u"&&H[Symbol.iterator]||H["@@iterator"];if(J!=null){var Ce,Ne,fe=[],he=!0,Se=!1;try{for(J=J.call(H);!(he=(Ce=J.next()).done)&&(fe.push(Ce.value),!ce||fe.length!==ce);he=!0);}catch(je){Se=!0,Ne=je}finally{try{he||J.return==null||J.return()}finally{if(Se)throw Ne}}return fe}}(g,S)||T(g,S)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())[0],G=D;m("update:selectedValue",G),m("selectedChange",G,se)}},I=function(u){m("nodeClick",u)},j=function(u,g){if(u)o.hiddenPaths=P(P({},o.hiddenPaths),{},X({},g,1));else{var S=P({},o.hiddenPaths);delete S[g],o.hiddenPaths=S}},Z=function(u,g){t.collapsedOnClickBrackets&&j(u,g),m("bracketsClick",u)},A=function(u,g){j(u,g),m("iconClick",u)},N=function(u,g){var S=ie(t.data),D=t.rootPath;new Function("data","val","data".concat(g.slice(D.length),"=val"))(S,u),m("update:data",S)};return(0,d.watchEffect)(function(){L.value&&function(u){throw new Error("[VueJSONPretty] ".concat(u))}(L.value)}),(0,d.watchEffect)(function(){M.value&&c()}),(0,d.watch)(function(){return t.deep},function(u){u&&(o.hiddenPaths=K(u,t.collapsedNodeLength))}),(0,d.watch)(function(){return t.collapsedNodeLength},function(u){u&&(o.hiddenPaths=K(t.deep,u))}),function(){var u,g,S=(u=t.renderNodeKey)!==null&&u!==void 0?u:k.renderNodeKey,D=(g=t.renderNodeValue)!==null&&g!==void 0?g:k.renderNodeValue,E=o.visibleData&&o.visibleData.map(function(B){return(0,d.createVNode)(Fe,{key:B.id,node:B,collapsed:!!o.hiddenPaths[B.path],showDoubleQuotes:t.showDoubleQuotes,showLength:t.showLength,checked:x.value.includes(B.path),selectableType:t.selectableType,showLine:t.showLine,showLineNumber:t.showLineNumber,showSelectController:t.showSelectController,selectOnClickNode:t.selectOnClickNode,nodeSelectable:t.nodeSelectable,highlightSelectedNode:t.highlightSelectedNode,editable:t.editable,editableTrigger:t.editableTrigger,showIcon:t.showIcon,showKeyValueSpace:t.showKeyValueSpace,renderNodeKey:S,renderNodeValue:D,onNodeClick:I,onBracketsClick:Z,onIconClick:A,onSelectedChange:O,onValueChange:N,style:t.itemHeight&&t.itemHeight!==20?{lineHeight:"".concat(t.itemHeight,"px")}:{}},null)});return(0,d.createVNode)("div",{ref:F,class:{"vjs-tree":!0,"is-virtual":t.virtual},onScroll:t.virtual?b:void 0,style:t.showLineNumber?P({paddingLeft:"".concat(12*Number($.value.length.toString().length),"px")},t.style):t.style},[t.virtual?(0,d.createVNode)("div",{class:"vjs-tree-list",style:{height:"".concat(t.height,"px")}},[(0,d.createVNode)("div",{class:"vjs-tree-list-holder",style:{height:"".concat(M.value.length*t.itemHeight,"px")}},[(0,d.createVNode)("div",{class:"vjs-tree-list-holder-inner",style:{transform:"translateY(".concat(o.translateY,"px)")}},[E])])]):E])}}})}(),ue}()})})(qe);const Le=tt(qe.exports);const Jt={class:"container"},Qt={class:"action-icon"},Yt={class:"action-icon"},Gt={id:"tableSetting"},Wt={style:{"margin-right":"4px",cursor:"move"}},Zt={class:"title"},Xt={key:0,class:"circle red"},ea={key:1,class:"circle yellow"},ta={key:2,class:"circle"},aa={style:{margin:"10px 0 0 10px"}},na={key:1},oa={key:1},la={key:1},ua={key:1},ra={key:1},ia={key:1},sa={key:1},ca={key:1},da={key:1},pa={key:1},ma={key:1},_a={key:1},fa={key:1},ha={key:1},ya={key:1},va={key:1},ba={key:1},ga={key:1},ka={key:1},wa={key:1},Ca={key:1},Na={key:1},Sa={key:1},Da={key:1},Ea={key:1},Va={key:1},Fa={key:1},Ba={key:1},ja={key:1},$a={key:1},xa={key:1},Oa={key:1},Ia={key:1},Aa={key:1},Pa={key:1},Ta={key:1},La={key:1},za={key:1},qa={key:1},Ma={key:1},Ha={key:1},Ka={key:1},Ua={key:1},Ra={key:1},Ja={key:1},Qa={key:1},Ya={key:1},Ga={key:1},Wa={key:1},Za={key:1},Xa={key:1},en={key:1},tn={key:1},an={key:1},nn={key:1},on={key:1},ln={key:1},un={key:1},rn={key:1},sn={key:1},cn={name:"AppChatList"},dn=nt({...cn,setup(le){const be=Pe({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),de=q([]);(async()=>{try{const{data:c}=await Mt();de.value=c.items}catch{}})();const pe=q([]);(async()=>{try{const{data:c}=await Ht();pe.value=c.items}catch{}})();const ue=()=>({app_id:q(),trace_id:q(),user_id:q(),key:"",models:[],total_time:q(),status:q(),req_times:[]}),{loading:i,setLoading:T}=zt(!0),{t:C}=Je(),X=q([]),d=q(ue()),Q=q([]),re=q([]),me=q("medium"),R={current:1,pageSize:10,showTotal:!0,showPageSize:!0},ee=Pe({...R}),Y=Oe(()=>[{name:C("searchTable.size.mini"),value:"mini"},{name:C("searchTable.size.small"),value:"small"},{name:C("searchTable.size.medium"),value:"medium"},{name:C("searchTable.size.large"),value:"large"}]),te=localStorage.getItem("userRole"),ie=Oe(()=>[{title:C(te==="admin"?"chat.columns.user_id":"chat.columns.app_id"),dataIndex:te==="admin"?"user_id":"app_id",slotName:te==="admin"?"user_id":"app_id",align:"center",width:75},{title:C("chat.columns.model"),dataIndex:"model",slotName:"model",align:"center"},{title:C("chat.columns.prompt_tokens"),dataIndex:"prompt_tokens",slotName:"prompt_tokens",align:"center"},{title:C("chat.columns.completion_tokens"),dataIndex:"completion_tokens",slotName:"completion_tokens",align:"center"},{title:C("chat.columns.total_price"),dataIndex:"total_price",slotName:"total_price",align:"center"},{title:C("chat.columns.stream"),dataIndex:"stream",slotName:"stream",align:"center"},{title:C("chat.columns.conn_time"),dataIndex:"conn_time",slotName:"conn_time",align:"center"},{title:C("chat.columns.duration"),dataIndex:"duration",slotName:"duration",align:"center"},{title:C("chat.columns.total_time"),dataIndex:"total_time",slotName:"total_time",align:"center"},{title:C("chat.columns.internal_time"),dataIndex:"internal_time",slotName:"internal_time",align:"center"},{title:C("chat.columns.status"),dataIndex:"status",slotName:"status",align:"center",width:75},{title:C("chat.columns.req_time"),dataIndex:"req_time",slotName:"req_time",align:"center",width:132},{title:C("chat.columns.operations"),dataIndex:"operations",slotName:"operations",align:"center",width:75}]);te==="user"&&ie.value.splice(9,1);const ke=Oe(()=>[{label:C("chat.dict.status.1"),value:1},{label:C("chat.dict.status.2"),value:2},{label:C("chat.dict.status.-1"),value:-1}]),ae=async(c={...R})=>{T(!0);try{const{data:b}=await Ut(c);X.value=b.items,ee.current=c.current,ee.pageSize=c.pageSize,ee.total=b.paging.total}catch{}finally{T(!1)}},_e=()=>{ae({...R,...d.value})},Fe=c=>{ae({...R,...d.value,current:c})},we=c=>{R.pageSize=c,ae({...R,...d.value})};ae();const P=()=>{d.value=ue()},Be=(c,b)=>{me.value=c},t=(c,b,O)=>{c?Q.value.splice(O,0,b):Q.value=re.value.filter(I=>I.dataIndex!==b.dataIndex)},s=(c,b,O,I=!1)=>{const j=I?xe(c):c;return b>-1&&O>-1&&j.splice(b,1,j.splice(O,1,j[b]).pop()),j},m=c=>{c&&rt(()=>{const b=document.getElementById("tableSetting");new et(b,{onEnd(O){const{oldIndex:I,newIndex:j}=O;s(Q.value,I,j),s(re.value,I,j)}})})};Te(()=>ie.value,c=>{Q.value=xe(c),Q.value.forEach((b,O)=>{b.checked=!0}),re.value=xe(Q.value)},{deep:!0,immediate:!0});const k=q(!1),{copy:F,copied:$}=Kt(),{proxy:K}=it(),o=q({}),M=async c=>{k.value=!0,i.value=!0;try{const{data:b}=await Rt({id:c});o.value=b}catch{}finally{i.value=!1}},x=()=>{k.value=!1},L=c=>{F(c)};return Te($,()=>{$.value&&K.$message.success("\u590D\u5236\u6210\u529F")}),(c,b)=>{const O=Qe,I=st,j=ct,Z=dt,A=pt,N=mt,u=_t,g=ft,S=ht,D=yt,E=vt,B=bt,z=gt,se=kt,G=wt,H=Ye,ce=Ct,J=Nt,Ce=Ge,Ne=St,fe=Dt,he=We,Se=Ze,je=Et,Me=Vt,He=Ft,h=Bt,y=jt,ye=$t,v=xt,V=Ot,De=It,Ie=At,Ae=Pt,Ke=Tt,Ue=Lt,ne=ot("permission");return n(),_("div",Jt,[a(j,{class:"container-breadcrumb"},{default:e(()=>[a(I,null,{default:e(()=>[a(O)]),_:1}),a(I,null,{default:e(()=>[w(r(c.$t("menu.chat")),1)]),_:1}),a(I,null,{default:e(()=>[w(r(c.$t("menu.chat.list")),1)]),_:1})]),_:1}),a(Ue,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 20px"}},{default:e(()=>[a(E,null,{default:e(()=>[a(u,{flex:1},{default:e(()=>[a(B,{model:d.value,"label-col-props":{span:5},"wrapper-col-props":{span:18},"label-align":"left"},{default:e(()=>[a(E,{gutter:16},{default:e(()=>[oe((n(),l(u,{span:8},{default:e(()=>[a(N,{field:"app_id",label:c.$t("chat.form.app_id")},{default:e(()=>[a(A,{modelValue:d.value.app_id,"onUpdate:modelValue":b[0]||(b[0]=p=>d.value.app_id=p),placeholder:c.$t("chat.form.selectDefault"),"allow-clear":""},{default:e(()=>[(n(!0),_(Ee,null,Ve(de.value,p=>(n(),l(Z,{key:p.app_id,value:p.app_id,label:p.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[ne,["user"]]]),oe((n(),l(u,{span:8},{default:e(()=>[a(N,{field:"trace_id",label:c.$t("chat.form.trace_id")},{default:e(()=>[a(g,{modelValue:d.value.trace_id,"onUpdate:modelValue":b[1]||(b[1]=p=>d.value.trace_id=p),placeholder:c.$t("chat.form.trace_id.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[ne,["admin"]]]),oe((n(),l(u,{span:8},{default:e(()=>[a(N,{field:"user_id",label:c.$t("chat.form.user_id")},{default:e(()=>[a(g,{modelValue:d.value.user_id,"onUpdate:modelValue":b[2]||(b[2]=p=>d.value.user_id=p),placeholder:c.$t("chat.form.user_id.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[ne,["admin"]]]),oe((n(),l(u,{span:8},{default:e(()=>[a(N,{field:"key",label:c.$t("chat.form.key")},{default:e(()=>[a(g,{modelValue:d.value.key,"onUpdate:modelValue":b[3]||(b[3]=p=>d.value.key=p),placeholder:c.$t("chat.form.key.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[ne,["user"]]]),a(u,{span:8},{default:e(()=>[a(N,{field:"models",label:c.$t("chat.form.models")},{default:e(()=>[a(A,{modelValue:d.value.models,"onUpdate:modelValue":b[4]||(b[4]=p=>d.value.models=p),placeholder:c.$t("chat.form.selectDefault"),"max-tag-count":2,multiple:"","allow-search":"","allow-clear":""},{default:e(()=>[(n(!0),_(Ee,null,Ve(pe.value,p=>(n(),l(Z,{key:p.id,value:p.id,label:p.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(u,{span:8},{default:e(()=>[a(N,{field:"total_time",label:c.$t("chat.form.total_time")},{default:e(()=>[a(S,{modelValue:d.value.total_time,"onUpdate:modelValue":b[5]||(b[5]=p=>d.value.total_time=p),precision:0,placeholder:c.$t("chat.form.total_time.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(u,{span:8},{default:e(()=>[a(N,{field:"status",label:c.$t("chat.form.status")},{default:e(()=>[a(A,{modelValue:d.value.status,"onUpdate:modelValue":b[6]||(b[6]=p=>d.value.status=p),options:f(ke),placeholder:c.$t("chat.form.selectDefault"),"allow-clear":""},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),_:1}),a(u,{span:8},{default:e(()=>[a(N,{field:"req_times",label:c.$t("chat.form.req_times")},{default:e(()=>[a(D,{modelValue:d.value.req_times,"onUpdate:modelValue":b[7]||(b[7]=p=>d.value.req_times=p),"show-time":"",placeholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"]},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),a(z,{style:{height:"84px"},direction:"vertical"}),a(u,{flex:"86px",style:{"text-align":"right"}},{default:e(()=>[a(ce,{direction:"vertical",size:18},{default:e(()=>[a(G,{type:"primary",onClick:_e},{icon:e(()=>[a(se)]),default:e(()=>[w(" "+r(c.$t("chat.form.search")),1)]),_:1}),a(G,{onClick:P},{icon:e(()=>[a(H)]),default:e(()=>[w(" "+r(c.$t("chat.form.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(z,{style:{"margin-top":"0"}}),a(E,{style:{"margin-bottom":"16px"}},{default:e(()=>[a(u,{span:24,style:{display:"flex","align-items":"center","justify-content":"end"}},{default:e(()=>[a(J,{content:c.$t("searchTable.actions.refresh")},{default:e(()=>[W("div",{class:"action-icon",onClick:_e},[a(H,{size:"18"})])]),_:1},8,["content"]),a(fe,{onSelect:Be},{content:e(()=>[(n(!0),_(Ee,null,Ve(f(Y),p=>(n(),l(Ne,{key:p.value,value:p.value,class:lt({active:p.value===me.value})},{default:e(()=>[W("span",null,r(p.name),1)]),_:2},1032,["value","class"]))),128))]),default:e(()=>[a(J,{content:c.$t("searchTable.actions.density")},{default:e(()=>[W("div",Qt,[a(Ce,{size:"18"})])]),_:1},8,["content"])]),_:1}),a(J,{content:c.$t("searchTable.actions.columnSetting")},{default:e(()=>[a(Me,{trigger:"click",position:"bl",onPopupVisibleChange:m},{content:e(()=>[W("div",Gt,[(n(!0),_(Ee,null,Ve(re.value,(p,ve)=>(n(),_("div",{key:p.dataIndex,class:"setting"},[W("div",Wt,[a(Se)]),W("div",null,[a(je,{modelValue:p.checked,"onUpdate:modelValue":$e=>p.checked=$e,onChange:$e=>t($e,p,ve)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),W("div",Zt,r(p.title==="#"?"\u5E8F\u5217\u53F7":p.title),1)]))),128))])]),default:e(()=>[W("div",Yt,[a(he,{size:"18"})])]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),a(He,{"row-key":"id",loading:f(i),pagination:ee,columns:Q.value,data:X.value,bordered:!1,size:me.value,"row-selection":be,onPageChange:Fe,onPageSizeChange:we},{user_id:e(({record:p})=>[w(r(p.is_smart_match?"-":p.user_id),1)]),prompt_tokens:e(({record:p})=>[w(r(p.prompt_tokens?p.prompt_tokens:p.status===1&&p.billing_method===2?0:"-"),1)]),completion_tokens:e(({record:p})=>[w(r(p.completion_tokens?p.completion_tokens:p.status===1&&p.billing_method===2?0:"-"),1)]),total_price:e(({record:p})=>[w(r(p.total_price?`$${p.total_price}`:p.status===1&&p.billing_method===2?0:"-"),1)]),stream:e(({record:p})=>[w(r(c.$t(`chat.dict.stream.${p.stream}`)),1)]),conn_time:e(({record:p})=>[w(r(p.conn_time||"-"),1)]),duration:e(({record:p})=>[w(r(p.duration||"-"),1)]),total_time:e(({record:p})=>[w(r(p.total_time||"-"),1)]),status:e(({record:p})=>[p.status===-1?(n(),_("span",Xt)):p.status===2?(n(),_("span",ea)):(n(),_("span",ta)),w(" "+r(c.$t(`chat.dict.status.${p.status}`)),1)]),operations:e(({record:p})=>[a(G,{type:"text",size:"small",onClick:ve=>M(p.id)},{default:e(()=>[w(r(c.$t("chat.columns.operations.view")),1)]),_:2},1032,["onClick"])]),_:1},8,["loading","pagination","columns","data","size","row-selection"]),a(Ke,{title:"\u65E5\u5FD7\u8BE6\u60C5",visible:k.value,width:700,footer:!1,"unmount-on-close":"","render-to-body":"",onCancel:x},{default:e(()=>[W("div",aa,[oe((n(),l(De,{column:2,bordered:""},{default:e(()=>[a(v,{label:"Trace ID",span:2},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",na,[w(r(o.value.trace_id)+" ",1),a(ye,{class:"copy-btn",onClick:b[8]||(b[8]=p=>L(o.value.trace_id))})]))]),_:1}),a(v,{label:"\u8C03\u7528\u5BC6\u94A5",span:2},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",oa,[w(r(o.value.creator)+" ",1),a(ye,{class:"copy-btn",onClick:b[9]||(b[9]=p=>L(o.value.creator))})]))]),_:1}),a(v,{label:"\u7528\u6237ID"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{widths:["200px"],rows:1})]),_:1})):(n(),_("span",la,r(o.value.user_id||"-"),1))]),_:1}),a(v,{label:"\u5E94\u7528ID"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{widths:["200px"],rows:1})]),_:1})):(n(),_("span",ua,r(o.value.app_id||"-"),1))]),_:1}),a(v,{label:"\u516C\u53F8"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",ra,r(c.$t(`chat.dict.corp.${o.value.corp}`)),1))]),_:1}),a(v,{label:"\u6A21\u578B"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",ia,r(o.value.model||"-"),1))]),_:1}),a(v,{label:"\u6A21\u578B\u7C7B\u578B"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",sa,r(c.$t(`chat.dict.type.${o.value.type}`)),1))]),_:1}),a(v,{label:"\u6D41\u5F0F"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",ca,r(c.$t(`chat.dict.stream.${o.value.stream}`)),1))]),_:1}),a(v,{label:"\u63D0\u95EE",span:2},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",da,r(o.value.prompt||"-"),1))]),_:1}),a(v,{label:"\u56DE\u7B54",span:2},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",pa,r(o.value.completion||"-"),1))]),_:1}),a(v,{label:"\u8BA1\u8D39\u65B9\u5F0F"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",ma,r(c.$t(`chat.dict.billing_method.${o.value.billing_method}`)),1))]),_:1}),a(v,{label:"\u603B\u6D88\u8017\u4EE4\u724C\u6570"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",_a,r(o.value.total_tokens?o.value.total_tokens:o.value.status===1&&o.value.billing_method===2?0:"-"),1))]),_:1}),a(v,{label:"\u63D0\u95EE\u500D\u7387"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",fa,r(o.value.prompt_ratio||"-"),1))]),_:1}),a(v,{label:"\u56DE\u7B54\u500D\u7387"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",ha,r(o.value.completion_ratio||"-"),1))]),_:1}),a(v,{label:"\u63D0\u95EE\u4EE4\u724C\u6570"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",ya,r(o.value.prompt_tokens||"-"),1))]),_:1}),a(v,{label:"\u56DE\u7B54\u4EE4\u724C\u6570"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",va,r(o.value.completion_tokens||"-"),1))]),_:1}),a(v,{label:"\u8FDE\u63A5\u8017\u65F6"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",ba,[o.value.conn_time>1500?(n(),l(V,{key:0,color:"red"},{default:e(()=>[w(r(o.value.conn_time||"-")+" ms ",1)]),_:1})):o.value.conn_time>1e3?(n(),l(V,{key:1,color:"orange"},{default:e(()=>[w(r(o.value.conn_time||"-")+" ms ",1)]),_:1})):(n(),l(V,{key:2,color:"green"},{default:e(()=>[w(r(o.value.conn_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(v,{label:"\u6301\u7EED\u65F6\u957F"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",ga,[o.value.duration>9e4?(n(),l(V,{key:0,color:"red"},{default:e(()=>[w(r(o.value.duration||"-")+" ms ",1)]),_:1})):o.value.duration>6e4?(n(),l(V,{key:1,color:"orange"},{default:e(()=>[w(r(o.value.duration||"-")+" ms ",1)]),_:1})):(n(),l(V,{key:2,color:"green"},{default:e(()=>[w(r(o.value.duration||"-")+" ms",1)]),_:1}))]))]),_:1}),a(v,{label:"\u603B\u8017\u65F6"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",ka,[o.value.total_time>12e4?(n(),l(V,{key:0,color:"red"},{default:e(()=>[w(r(o.value.total_time||"-")+" ms ",1)]),_:1})):o.value.total_time>6e4?(n(),l(V,{key:1,color:"orange"},{default:e(()=>[w(r(o.value.total_time||"-")+" ms ",1)]),_:1})):(n(),l(V,{key:2,color:"green"},{default:e(()=>[w(r(o.value.total_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(v,{label:"\u7ED3\u679C"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",wa,r(c.$t(`chat.dict.status.${o.value.status}`)),1))]),_:1}),a(v,{label:"\u5BA2\u6237\u7AEFIP"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{widths:["200px"],rows:1})]),_:1})):(n(),_("span",Ca,r(o.value.client_ip||"-"),1))]),_:1}),a(v,{label:"\u8BF7\u6C42\u65F6\u95F4"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{widths:["200px"],rows:1})]),_:1})):(n(),_("span",Na,r(o.value.req_time||"-"),1))]),_:1})]),_:1})),[[ne,["user"]]]),oe((n(),l(De,{column:2,bordered:""},{default:e(()=>[a(v,{label:"Trace ID",span:2},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",Sa,[w(r(o.value.trace_id)+" ",1),a(ye,{class:"copy-btn",onClick:b[10]||(b[10]=p=>L(o.value.trace_id))})]))]),_:1}),a(v,{label:"\u8C03\u7528\u5BC6\u94A5",span:2},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",Da,[w(r(o.value.is_smart_match?"-":o.value.creator)+" ",1),o.value.is_smart_match?ut("",!0):(n(),l(ye,{key:0,class:"copy-btn",onClick:b[11]||(b[11]=p=>L(o.value.creator))}))]))]),_:1}),a(v,{label:"\u7528\u6237ID"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{widths:["200px"],rows:1})]),_:1})):(n(),_("span",Ea,r(o.value.is_smart_match?"-":o.value.user_id||"-"),1))]),_:1}),a(v,{label:"\u5E94\u7528ID"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{widths:["200px"],rows:1})]),_:1})):(n(),_("span",Va,r(o.value.is_smart_match?"-":o.value.app_id||"-"),1))]),_:1}),a(v,{label:"\u516C\u53F8"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",Fa,r(c.$t(`chat.dict.corp.${o.value.corp}`)),1))]),_:1}),a(v,{label:"\u6A21\u578B\u7C7B\u578B"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",Ba,r(c.$t(`chat.dict.type.${o.value.type}`)),1))]),_:1}),a(v,{label:"\u6A21\u578BID"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{widths:["200px"],rows:1})]),_:1})):(n(),_("span",ja,r(o.value.model_id||"-"),1))]),_:1}),a(v,{label:"\u6A21\u578B\u540D\u79F0"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{widths:["200px"],rows:1})]),_:1})):(n(),_("span",$a,r(o.value.name||"-"),1))]),_:1}),a(v,{label:"\u6A21\u578B"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",xa,r(o.value.model||"-"),1))]),_:1}),a(v,{label:"\u6D41\u5F0F"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",Oa,r(c.$t(`chat.dict.stream.${o.value.stream}`)),1))]),_:1}),a(v,{label:"\u542F\u7528\u4EE3\u7406"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",Ia,r(c.$t(`chat.dict.is_enable_model_agent.${o.value.is_enable_model_agent||!1}`)),1))]),_:1}),a(v,{label:"\u4EE3\u7406\u540D\u79F0"},{default:e(()=>{var p,ve;return[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{widths:["200px"],rows:1})]),_:1})):(n(),_("span",Aa,r(((ve=(p=o.value)==null?void 0:p.model_agent)==null?void 0:ve.name)||"-"),1))]}),_:1}),a(v,{label:"\u542F\u7528\u6A21\u578B\u8F6C\u53D1"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",Pa,r(c.$t(`chat.dict.is_forward.${o.value.is_forward||!1}`)),1))]),_:1}),a(v,{label:"\u8F6C\u53D1\u89C4\u5219"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",Ta,r(o.value.is_forward?c.$t(`chat.dict.forward_rule.${o.value.forward_config.forward_rule||"1"}`):"-"),1))]),_:1}),a(v,{label:"\u771F\u5B9E\u6A21\u578B\u540D\u79F0"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",La,r(o.value.is_forward?o.value.real_model_name:"-"),1))]),_:1}),a(v,{label:"\u771F\u5B9E\u6A21\u578B"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",za,r(o.value.is_forward?o.value.real_model:"-"),1))]),_:1}),a(v,{label:"\u5BC6\u94A5",span:2},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",qa,[w(r(o.value.key||"-")+" ",1),a(ye,{class:"copy-btn",onClick:b[12]||(b[12]=p=>L(o.value.key))})]))]),_:1}),a(v,{label:"\u63D0\u95EE",span:2},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",Ma,r(o.value.prompt||"-"),1))]),_:1}),a(v,{label:"\u56DE\u7B54",span:2},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",Ha,r(o.value.completion||"-"),1))]),_:1}),a(v,{label:"\u8BA1\u8D39\u65B9\u5F0F"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",Ka,r(c.$t(`chat.dict.billing_method.${o.value.billing_method}`)),1))]),_:1}),a(v,{label:"\u603B\u6D88\u8017\u4EE4\u724C\u6570"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",Ua,r(o.value.total_tokens?o.value.total_tokens:o.value.status===1&&o.value.billing_method===2?0:"-"),1))]),_:1}),a(v,{label:"\u63D0\u95EE\u500D\u7387"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",Ra,r(o.value.prompt_ratio||"-"),1))]),_:1}),a(v,{label:"\u56DE\u7B54\u500D\u7387"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",Ja,r(o.value.completion_ratio||"-"),1))]),_:1}),a(v,{label:"\u63D0\u95EE\u4EE4\u724C\u6570"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",Qa,r(o.value.prompt_tokens||"-"),1))]),_:1}),a(v,{label:"\u56DE\u7B54\u4EE4\u724C\u6570"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",Ya,r(o.value.completion_tokens||"-"),1))]),_:1}),a(v,{label:"\u8FDE\u63A5\u8017\u65F6"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",Ga,[o.value.conn_time>1500?(n(),l(V,{key:0,color:"red"},{default:e(()=>[w(r(o.value.conn_time||"-")+" ms ",1)]),_:1})):o.value.conn_time>1e3?(n(),l(V,{key:1,color:"orange"},{default:e(()=>[w(r(o.value.conn_time||"-")+" ms ",1)]),_:1})):(n(),l(V,{key:2,color:"green"},{default:e(()=>[w(r(o.value.conn_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(v,{label:"\u6301\u7EED\u65F6\u957F"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",Wa,[o.value.duration>9e4?(n(),l(V,{key:0,color:"red"},{default:e(()=>[w(r(o.value.duration||"-")+" ms ",1)]),_:1})):o.value.duration>6e4?(n(),l(V,{key:1,color:"orange"},{default:e(()=>[w(r(o.value.duration||"-")+" ms ",1)]),_:1})):(n(),l(V,{key:2,color:"green"},{default:e(()=>[w(r(o.value.duration||"-")+" ms",1)]),_:1}))]))]),_:1}),a(v,{label:"\u603B\u8017\u65F6"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",Za,[o.value.total_time>12e4?(n(),l(V,{key:0,color:"red"},{default:e(()=>[w(r(o.value.total_time||"-")+" ms ",1)]),_:1})):o.value.total_time>6e4?(n(),l(V,{key:1,color:"orange"},{default:e(()=>[w(r(o.value.total_time||"-")+" ms ",1)]),_:1})):(n(),l(V,{key:2,color:"green"},{default:e(()=>[w(r(o.value.total_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(v,{label:"\u5185\u8017"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",Xa,[o.value.internal_time>500?(n(),l(V,{key:0,color:"red"},{default:e(()=>[w(r(o.value.internal_time||"-")+" ms ",1)]),_:1})):o.value.internal_time>100?(n(),l(V,{key:1,color:"orange"},{default:e(()=>[w(r(o.value.internal_time||"-")+" ms ",1)]),_:1})):(n(),l(V,{key:2,color:"green"},{default:e(()=>[w(r(o.value.internal_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(v,{label:"\u7ED3\u679C"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",en,r(c.$t(`chat.dict.status.${o.value.status}`)),1))]),_:1}),a(v,{label:"\u672C\u5730IP"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{widths:["200px"],rows:1})]),_:1})):(n(),_("span",tn,r(o.value.local_ip||"-"),1))]),_:1}),a(v,{label:"\u5BA2\u6237\u7AEFIP"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{widths:["200px"],rows:1})]),_:1})):(n(),_("span",an,r(o.value.client_ip||"-"),1))]),_:1}),a(v,{label:"\u8FDC\u7A0BIP"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{widths:["200px"],rows:1})]),_:1})):(n(),_("span",nn,r(o.value.remote_ip||"-"),1))]),_:1}),a(v,{label:"\u8BF7\u6C42\u65F6\u95F4"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{widths:["200px"],rows:1})]),_:1})):(n(),_("span",on,r(o.value.req_time||"-"),1))]),_:1}),a(v,{label:"\u521B\u5EFA\u65F6\u95F4"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{widths:["200px"],rows:1})]),_:1})):(n(),_("span",ln,r(o.value.created_at||"-"),1))]),_:1}),a(v,{label:"\u9519\u8BEF\u4FE1\u606F",span:2},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:1})]),_:1})):(n(),_("span",un,r(o.value.err_msg||"-"),1))]),_:1})]),_:1})),[[ne,["admin"]]]),a(De,{layout:"inline-vertical",column:2,style:{"margin-top":"10px",position:"relative"}},{default:e(()=>[a(v,{span:2},{default:e(()=>[a(Ae,{type:"card"},{default:e(()=>[a(Ie,{key:"1",title:"\u63D0\u95EE\u4E0A\u4E0B\u6587"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:3})]),_:1})):(n(),l(ce,{key:1},{default:e(()=>[o.value.messages?(n(),l(f(Le),{key:0,path:"res",data:o.value.messages,"show-length":!0},null,8,["data"])):(n(),_("span",rn,"\u65E0"))]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}),oe((n(),l(De,{layout:"inline-vertical",column:2,style:{"margin-top":"10px",position:"relative"}},{default:e(()=>[a(v,{span:2},{default:e(()=>[a(Ae,{type:"card"},{default:e(()=>[a(Ie,{key:"1",title:"\u6A21\u578B\u4EE3\u7406"},{default:e(()=>[f(i)?(n(),l(y,{key:0,animation:!0},{default:e(()=>[a(h,{rows:3})]),_:1})):(n(),l(ce,{key:1},{default:e(()=>[o.value.model_agent?(n(),l(f(Le),{key:0,data:o.value.model_agent,"show-length":!0},null,8,["data"])):(n(),_("span",sn,"\u65E0"))]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})),[[ne,["admin"]]])])]),_:1},8,["visible"])]),_:1})])}}});const Pn=Xe(dn,[["__scopeId","data-v-d2864ab5"]]);export{Pn as default};
