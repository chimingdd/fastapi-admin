import{k as S,_ as M}from"./index.8581b340.js";/* empty css                *//* empty css                *//* empty css              *//* empty css               *//* empty css                *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css                */import{d as N,e as _,B as Q,C as x,aH as e,aG as l,aL as u,aM as p,F as b,u as s,bT as m,aK as E,aF as G,b1 as P,b2 as j,aS as A,bQ as K,bV as O,bW as W,bP as z,bO as J,aU as X,bi as Y,b5 as Z,bI as ee,bR as ae,g as le}from"./arco.a9260898.js";import{u as te}from"./loading.1f346a94.js";import{f as re}from"./vue.ad52ddbe.js";import{q as oe}from"./common.df364eef.js";import{g as ue}from"./admin_user.f1360406.js";import{b as se}from"./model.a22eff04.js";import"./chart.d103b168.js";const de={class:"container"},ne={class:"wrapper"},me={style:{"margin-left":"10px"}},pe={class:"submit-btn"},ie={name:"UserCreate"},ce=N({...ie,setup(_e){const{proxy:y}=le(),{loading:w,setLoading:i}=te(!1),g=re(),v=_([]);(async()=>{i(!0);try{const{data:a}=await se();v.value=a.items}catch{}finally{i(!1)}})();const $=_(),t=_({name:"",email:"",account:"",password:"",quota:_(),quota_expires_at:"",models:[],remark:""}),V=async()=>{var r;if(!await((r=$.value)==null?void 0:r.validate())){i(!0);try{await ue(t.value).then(()=>{y.$message.success("\u65B0\u5EFA\u6210\u529F"),g.push({name:"UserList"})})}catch{}finally{i(!1)}}},k=a=>{t.value.quota=a*5e5};return(a,r)=>{const q=S,f=E,U=G,c=P,n=j,C=A,d=K,D=O,B=W,H=z,I=J,h=X,F=Y,T=Z,R=ee,L=ae;return Q(),x("div",de,[e(U,{class:"container-breadcrumb"},{default:l(()=>[e(f,null,{default:l(()=>[e(q)]),_:1}),e(f,null,{default:l(()=>[u(p(a.$t("menu.user")),1)]),_:1}),e(f,null,{default:l(()=>[u(p(a.$t("menu.user.create")),1)]),_:1})]),_:1}),e(L,{loading:s(w),style:{width:"100%"}},{default:l(()=>[e(R,{class:"general-card","body-style":{padding:"0 20px 20px 20px"},bordered:!1},{default:l(()=>[b("div",ne,[e(T,{ref_key:"formRef",ref:$,model:t.value,class:"form","label-col-props":{span:5},"wrapper-col-props":{span:18}},{default:l(()=>[e(n,{field:"name",label:a.$t("user.label.name"),rules:[{required:!0,message:a.$t("user.error.name.required")},{match:/^.{1,30}$/,message:a.$t("user.error.name.pattern")}]},{default:l(()=>[e(c,{modelValue:t.value.name,"onUpdate:modelValue":r[0]||(r[0]=o=>t.value.name=o),placeholder:a.$t("user.placeholder.name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(n,{field:"email",label:a.$t("user.label.email"),rules:[{required:!0,message:a.$t("user.error.email.required")}]},{default:l(()=>[e(c,{modelValue:t.value.email,"onUpdate:modelValue":r[1]||(r[1]=o=>t.value.email=o),placeholder:a.$t("user.placeholder.email"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(n,{field:"account",label:a.$t("user.label.account"),rules:[{required:!0,message:a.$t("user.error.account.required")}]},{default:l(()=>[e(c,{modelValue:t.value.account,"onUpdate:modelValue":r[2]||(r[2]=o=>t.value.account=o),placeholder:a.$t("user.placeholder.account"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(n,{field:"password",label:a.$t("user.label.password"),rules:[{required:!0,message:a.$t("user.error.password.required")},{match:/^.{6,}$/,message:a.$t("user.error.password.pattern")}]},{default:l(()=>[e(c,{modelValue:t.value.password,"onUpdate:modelValue":r[3]||(r[3]=o=>t.value.password=o),placeholder:a.$t("user.placeholder.password"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(n,{field:"quota",label:a.$t("user.label.quota"),rules:[{required:!0,message:a.$t("user.error.quota.required")}]},{default:l(()=>[e(C,{modelValue:t.value.quota,"onUpdate:modelValue":r[4]||(r[4]=o=>t.value.quota=o),placeholder:a.$t("user.placeholder.quota"),precision:0,min:-9999999999999,max:9999999999999},null,8,["modelValue","placeholder"]),b("div",me," $"+p(t.value.quota?s(oe)(t.value.quota):"0"),1)]),_:1},8,["label","rules"]),e(n,null,{default:l(()=>[e(D,{type:"button",onChange:k},{default:l(()=>[e(d,{value:1},{default:l(()=>[u(" $1 ")]),_:1}),e(d,{value:2},{default:l(()=>[u(" $2 ")]),_:1}),e(d,{value:5},{default:l(()=>[u(" $5 ")]),_:1}),e(d,{value:10},{default:l(()=>[u(" $10 ")]),_:1}),e(d,{value:20},{default:l(()=>[u(" $20 ")]),_:1}),e(d,{value:50},{default:l(()=>[u(" $50 ")]),_:1}),e(d,{value:100},{default:l(()=>[u(" $100 ")]),_:1}),e(d,{value:200},{default:l(()=>[u(" $200 ")]),_:1}),e(d,{value:500},{default:l(()=>[u(" $500 ")]),_:1}),e(d,{value:1e3},{default:l(()=>[u(" $1000 ")]),_:1})]),_:1},8,["onChange"])]),_:1}),e(n,{field:"quota_expires_at",label:a.$t("user.label.quota_expires_at")},{default:l(()=>[e(B,{modelValue:t.value.quota_expires_at,"onUpdate:modelValue":r[5]||(r[5]=o=>t.value.quota_expires_at=o),placeholder:a.$t("user.placeholder.quota_expires_at"),"time-picker-props":{defaultValue:"23:59:59"},"disabled-date":o=>s(m)(o).isBefore(s(m)().subtract(1,"day")),style:{width:"100%"},"show-time":"",shortcuts:[{label:"1",value:()=>s(m)(t.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(1,"day")},{label:"7",value:()=>s(m)(t.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(7,"day")},{label:"15",value:()=>s(m)(t.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(15,"day")},{label:"30",value:()=>s(m)(t.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(30,"day")},{label:"90",value:()=>s(m)(t.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(90,"day")},{label:"180",value:()=>s(m)(t.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(180,"day")},{label:"365",value:()=>s(m)(t.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(365,"day")}]},null,8,["modelValue","placeholder","disabled-date","shortcuts"])]),_:1},8,["label"]),e(n,{field:"models",label:a.$t("user.label.models")},{default:l(()=>[e(H,{modelValue:t.value.models,"onUpdate:modelValue":r[6]||(r[6]=o=>t.value.models=o),"allow-search":!0,"allow-clear":!0,"tree-checkable":!0,data:v.value,placeholder:a.$t("user.placeholder.create.models"),"max-tag-count":3,scrollbar:!1,"tree-checked-strategy":"child"},null,8,["modelValue","data","placeholder"])]),_:1},8,["label"]),e(n,{field:"remark",label:a.$t("user.label.remark")},{default:l(()=>[e(I,{modelValue:t.value.remark,"onUpdate:modelValue":r[7]||(r[7]=o=>t.value.remark=o),placeholder:a.$t("user.placeholder.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(F,null,{default:l(()=>[b("div",pe,[e(h,{type:"secondary",onClick:r[8]||(r[8]=o=>a.$router.push({name:"UserList"}))},{default:l(()=>[u(p(a.$t("button.cancel")),1)]),_:1}),e(h,{type:"primary",onClick:V},{default:l(()=>[u(p(a.$t("button.submit")),1)]),_:1})])]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["loading"])])}}});const Se=M(ce,[["__scopeId","data-v-cdcf7392"]]);export{Se as default};
