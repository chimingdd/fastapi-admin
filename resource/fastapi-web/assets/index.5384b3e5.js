import{x as T,_ as O}from"./index.79469fea.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css                */import{d as z,e as m,B as p,C as f,aH as l,aG as t,aL as s,aM as u,F as k,aJ as U,aI as C,aD as L,u as G,aK as H,aF as J,bE as K,bA as j,bB as P,b2 as Q,b1 as W,aS as X,bM as Y,aT as Z,aU as x,bi as ee,b5 as le,bI as ae,bN as oe,g as te}from"./arco.3652aec2.js";import{u as re}from"./loading.83b7fc7f.js";import{f as ne}from"./vue.4b1b521c.js";import{d as de}from"./agent.dc8b13c4.js";import{q as se}from"./corp.56fe3169.js";import{q as ue}from"./model.2c1583e5.js";import"./chart.f81658ef.js";import"./base.87fcf6e2.js";const me={class:"container"},pe={class:"wrapper"},ie={class:"submit-btn"},ce={name:"ModelAgentCreate"},fe=z({...ce,setup(be){const{loading:q,setLoading:d}=re(!1),{proxy:B}=te(),I=ne(),b=m([]);(async()=>{d(!0);try{const{data:e}=await se();b.value=e.items}catch{}finally{d(!1)}})();const _=m([]);(async()=>{d(!0);try{const{data:e}=await ue();_.value=e.items}catch{}finally{d(!1)}})();const g=m(),r=m({corp:"",name:"",base_url:"",path:"",weight:m(),remark:"",models:[],key:"",is_agents_only:!0}),M=async()=>{var o;if(!await((o=g.value)==null?void 0:o.validate())){d(!0);try{await de(r.value).then(()=>{B.$message.success("\u65B0\u5EFA\u6210\u529F"),I.push({name:"ModelAgentList"})})}catch{}finally{d(!1)}}};return(e,o)=>{const v=T,i=H,F=J,y=K,h=j,$=P,n=Q,c=W,A=X,V=Y,S=Z,w=x,N=ee,R=le,D=ae,E=oe;return p(),f("div",me,[l(F,{class:"container-breadcrumb"},{default:t(()=>[l(i,null,{default:t(()=>[l(v)]),_:1}),l(i,null,{default:t(()=>[s(u(e.$t("menu.agent")),1)]),_:1}),l(i,null,{default:t(()=>[s(u(e.$t("menu.model.agent.create")),1)]),_:1})]),_:1}),l(E,{loading:G(q),style:{width:"100%"}},{default:t(()=>[l(D,{class:"general-card","body-style":{padding:"0 20px 20px 20px"},bordered:!1},{default:t(()=>[k("div",pe,[l(R,{ref_key:"formRef",ref:g,model:r.value,class:"form","label-col-props":{span:5},"wrapper-col-props":{span:18}},{default:t(()=>[l(y,{orientation:"left"},{default:t(()=>[s(u(e.$t("model.title.baseInfo")),1)]),_:1}),l(n,{field:"corp",label:e.$t("model.agent.label.corp"),rules:[{required:!0,message:e.$t("model.agent.error.corp.required")}]},{default:t(()=>[l($,{modelValue:r.value.corp,"onUpdate:modelValue":o[0]||(o[0]=a=>r.value.corp=a),placeholder:e.$t("model.agent.placeholder.corp"),"allow-search":""},{default:t(()=>[(p(!0),f(U,null,C(b.value,a=>(p(),L(h,{key:a.id,value:a.id,label:a.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),l(n,{field:"name",label:e.$t("model.agent.label.name"),rules:[{required:!0,message:e.$t("model.agent.error.name.required")},{match:/^.{1,100}$/,message:e.$t("model.agent.error.name.pattern")}]},{default:t(()=>[l(c,{modelValue:r.value.name,"onUpdate:modelValue":o[1]||(o[1]=a=>r.value.name=a),placeholder:e.$t("model.agent.placeholder.name")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),l(n,{field:"base_url",label:e.$t("model.agent.label.baseUrl"),rules:[{required:!0,message:e.$t("model.agent.error.baseUrl.required")}]},{default:t(()=>[l(c,{modelValue:r.value.base_url,"onUpdate:modelValue":o[2]||(o[2]=a=>r.value.base_url=a),placeholder:e.$t("model.agent.placeholder.baseUrl")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),l(n,{field:"path",label:e.$t("model.agent.label.path")},{default:t(()=>[l(c,{modelValue:r.value.path,"onUpdate:modelValue":o[3]||(o[3]=a=>r.value.path=a),placeholder:e.$t("model.agent.placeholder.path")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{field:"weight",label:e.$t("model.agent.label.weight")},{default:t(()=>[l(A,{modelValue:r.value.weight,"onUpdate:modelValue":o[4]||(o[4]=a=>r.value.weight=a),precision:0,min:0,max:99999,placeholder:e.$t("model.agent.placeholder.weight")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{field:"remark",label:e.$t("model.agent.label.remark")},{default:t(()=>[l(V,{modelValue:r.value.remark,"onUpdate:modelValue":o[5]||(o[5]=a=>r.value.remark=a),placeholder:e.$t("model.agent.placeholder.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(y,{orientation:"left"},{default:t(()=>[s(u(e.$t("model.title.advanced")),1)]),_:1}),l(n,{field:"models",label:e.$t("model.agent.label.models"),rules:[{required:!1}]},{default:t(()=>[l($,{modelValue:r.value.models,"onUpdate:modelValue":o[6]||(o[6]=a=>r.value.models=a),placeholder:e.$t("model.agent.placeholder.models"),"max-tag-count":3,multiple:"","allow-search":"","allow-clear":""},{default:t(()=>[(p(!0),f(U,null,C(_.value,a=>(p(),L(h,{key:a.id,value:a.id,label:a.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{field:"key",label:e.$t("model.agent.label.key")},{default:t(()=>[l(V,{modelValue:r.value.key,"onUpdate:modelValue":o[7]||(o[7]=a=>r.value.key=a),placeholder:e.$t("model.agent.placeholder.key"),"auto-size":{minRows:5,maxRows:10}},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(n,{field:"is_agents_only",label:e.$t("model.agent.label.isAgentsOnly")},{default:t(()=>[l(S,{modelValue:r.value.is_agents_only,"onUpdate:modelValue":o[8]||(o[8]=a=>r.value.is_agents_only=a)},null,8,["modelValue"])]),_:1},8,["label"]),l(N,null,{default:t(()=>[k("div",ie,[l(w,{type:"secondary",onClick:o[9]||(o[9]=a=>e.$router.push({name:"ModelAgentList"}))},{default:t(()=>[s(u(e.$t("button.cancel")),1)]),_:1}),l(w,{type:"primary",onClick:M},{default:t(()=>[s(u(e.$t("button.submit")),1)]),_:1})])]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["loading"])])}}});const De=O(fe,[["__scopeId","data-v-ef02093e"]]);export{De as default};
