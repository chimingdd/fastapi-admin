import{k as I,_ as L}from"./index.387a2346.js";/* empty css               *//* empty css               *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css              *//* empty css              */import{d as R,e as o,B as S,C as x,aH as t,aG as r,aL as m,aM as i,F as y,u,bP as d,aK as N,aF as K,b1 as P,b2 as T,bS as j,bK as E,aU as G,bi as H,b5 as J,bJ as M,bL as z,g as A}from"./arco.17b1a46f.js";import{u as O}from"./loading.44762de3.js";import{f as Q,g as W}from"./admin_user.f8e950bd.js";import{h as X,f as Y}from"./vue.32c094a4.js";import"./chart.d5ce7f1f.js";import"./base.87fcf6e2.js";const Z={class:"container"},ee={class:"wrapper"},ae={class:"submit-btn"},le={name:"UserUpdate"},te=R({...le,setup(re){const{proxy:$}=A(),{loading:h,setLoading:p}=O(!1),w=X(),g=Y(),f=o(),a=o({id:"",name:"",account:"",password:"",terminal:"web",quota_expires_at:"",rps:o(),rpm:o(),rpd:o(),tps:o(),tpm:o(),tpd:o(),ips:o(),ipm:o(),ipd:o(),remark:"",status:1});(async(l={id:w.query.id})=>{p(!0);try{const{data:e}=await Q(l);a.value.id=e.id,a.value.name=e.name,a.value.account=e.account,a.value.quota_expires_at=e.quota_expires_at,a.value.rps=e.rps,a.value.rpm=e.rpm,a.value.rpd=e.rpd,a.value.tps=e.tps,a.value.tpm=e.tpm,a.value.tpd=e.tpd,a.value.ips=e.ips,a.value.ipm=e.ipm,a.value.ipd=e.ipd,a.value.remark=e.remark,a.value.status=e.status}catch{}finally{p(!1)}})();const V=async()=>{var e;if(!await((e=f.value)==null?void 0:e.validate())){p(!0);try{await W(a.value).then(()=>{$.$message.success("\u66F4\u65B0\u6210\u529F"),g.push({name:"UserList"})})}catch{}finally{p(!1)}}};return(l,e)=>{const b=I,c=N,k=K,_=P,n=T,U=j,q=E,v=G,B=H,C=J,F=M,D=z;return S(),x("div",Z,[t(k,{class:"container-breadcrumb"},{default:r(()=>[t(c,null,{default:r(()=>[t(b)]),_:1}),t(c,null,{default:r(()=>[m(i(l.$t("menu.user")),1)]),_:1}),t(c,null,{default:r(()=>[m(i(l.$t("menu.user.update")),1)]),_:1})]),_:1}),t(D,{loading:u(h),style:{width:"100%"}},{default:r(()=>[t(F,{class:"general-card","body-style":{padding:"0 20px 20px 20px"},bordered:!1},{default:r(()=>[y("div",ee,[t(C,{ref_key:"formRef",ref:f,model:a.value,class:"form","label-col-props":{span:5},"wrapper-col-props":{span:18}},{default:r(()=>[t(n,{field:"name",label:l.$t("user.label.name"),rules:[{required:!0,message:l.$t("user.error.name.required")},{match:/^.{1,30}$/,message:l.$t("user.error.name.pattern")}]},{default:r(()=>[t(_,{modelValue:a.value.name,"onUpdate:modelValue":e[0]||(e[0]=s=>a.value.name=s),placeholder:l.$t("user.placeholder.name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(n,{field:"account",label:l.$t("user.label.account"),rules:[{required:!0,message:l.$t("user.error.account.required")}]},{default:r(()=>[t(_,{modelValue:a.value.account,"onUpdate:modelValue":e[1]||(e[1]=s=>a.value.account=s),placeholder:l.$t("user.placeholder.account"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(n,{field:"password",label:l.$t("user.label.password"),rules:[{match:/^.{6,}$/,message:l.$t("user.error.password.pattern")}]},{default:r(()=>[t(_,{modelValue:a.value.password,"onUpdate:modelValue":e[2]||(e[2]=s=>a.value.password=s),placeholder:l.$t("user.update.placeholder.password"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(n,{field:"quota_expires_at",label:l.$t("user.label.quota_expires_at")},{default:r(()=>[t(U,{modelValue:a.value.quota_expires_at,"onUpdate:modelValue":e[3]||(e[3]=s=>a.value.quota_expires_at=s),placeholder:l.$t("user.placeholder.quota_expires_at"),"time-picker-props":{defaultValue:"23:59:59"},"disabled-date":s=>u(d)(s).isBefore(u(d)()),style:{width:"100%"},"show-time":"",shortcuts:[{label:"1",value:()=>u(d)().add(1,"day")},{label:"7",value:()=>u(d)().add(7,"day")},{label:"15",value:()=>u(d)().add(15,"day")},{label:"30",value:()=>u(d)().add(30,"day")},{label:"90",value:()=>u(d)().add(90,"day")},{label:"180",value:()=>u(d)().add(180,"day")},{label:"365",value:()=>u(d)().add(365,"day")}]},null,8,["modelValue","placeholder","disabled-date","shortcuts"])]),_:1},8,["label"]),t(n,{field:"remark",label:l.$t("user.label.remark")},{default:r(()=>[t(q,{modelValue:a.value.remark,"onUpdate:modelValue":e[4]||(e[4]=s=>a.value.remark=s),placeholder:l.$t("user.placeholder.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(B,null,{default:r(()=>[y("div",ae,[t(v,{type:"secondary",onClick:e[5]||(e[5]=s=>l.$router.push({name:"UserList"}))},{default:r(()=>[m(i(l.$t("form.button.cancel")),1)]),_:1}),t(v,{type:"primary",onClick:V},{default:r(()=>[m(i(l.$t("form.button.submit")),1)]),_:1})])]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["loading"])])}}});const we=L(te,[["__scopeId","data-v-54f680ca"]]);export{we as default};
