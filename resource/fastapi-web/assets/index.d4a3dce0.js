import{u as pe,F as Xe,s as Ye,A as Ze,k as ea,B as aa,_ as ta}from"./index.94d25243.js";/* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css              */import{d as _e,e as f,B as n,C as r,aH as e,aG as a,u,aD as v,aM as i,aL as y,bA as la,bB as oa,bC as na,bD as sa,bE as ua,r as ce,c as W,w as me,aJ as N,aI as U,F as x,D as ia,g as da,n as ra,aK as ca,aF as ma,bF as pa,bG as _a,b2 as ya,bH as fa,b1 as va,bI as ka,b5 as ba,bJ as ga,ab as ha,aU as wa,bi as $a,bj as Ca,bk as Ea,bl as Fa,b4 as Da,bK as xa,ad as Ba,aT as Va,bL as Ia,bM as Aa,aV as Sa,a_ as qa,bN as za}from"./arco.1da04b1e.js";import{h as La,u as Na}from"./vue.e32cf078.js";import{u as ye}from"./loading.a94ed815.js";import{q as fe}from"./common.7a0e8d62.js";import{q as ve,a as Ua,s as Ka,b as Ma,c as Pa}from"./key.395729a4.js";import{c as X,S as Oa}from"./sortable.esm.44bb1dca.js";import{q as Ta}from"./model.d3614b2b.js";import{f as Ha}from"./agent.cbbc0ec1.js";import{q as ja}from"./provider.b0b684a6.js";import{M as Ra}from"./models.eecf9606.js";/* empty css                *//* empty css                */import"./chart.4f3c6f92.js";const Ga={style:{margin:"10px 0 30px 10px"}},Ja={key:1},Qa={key:1},Wa={key:1},Xa={key:1},Ya={key:1},Za={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},et={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},at={key:1},tt={key:1},lt={key:1},ot={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},nt={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},st={key:1},ut={key:1},it={name:"KeyDetail"},dt=_e({...it,props:{id:{type:String,default:""}},setup(Y){const O=Y,{t:d}=pe(),{loading:_,setLoading:k}=ye(!0),c=f({});return(async(B={id:O.id})=>{k(!0);try{const{data:I}=await ve(B);c.value=I}catch{}finally{k(!1)}})(),(B,I)=>{const s=la,m=oa,b=na,A=sa,F=ua;return n(),r("div",Ga,[e(F,{column:2,bordered:"","value-style":{width:"350px",padding:"5px 8px 5px 20px"}},{default:a(()=>[e(b,{label:u(d)("common.key"),span:2},{default:a(()=>[u(_)?(n(),v(m,{key:0,animation:!0},{default:a(()=>[e(s,{rows:1})]),_:1})):(n(),r("span",Ja,i(c.value.key),1))]),_:1},8,["label"]),e(b,{label:u(d)("common.provider")},{default:a(()=>[u(_)?(n(),v(m,{key:0,animation:!0},{default:a(()=>[e(s,{rows:1})]),_:1})):(n(),r("span",Qa,i(c.value.provider_name),1))]),_:1},8,["label"]),e(b,{label:u(d)("key.detail.label.used_quota")},{default:a(()=>[u(_)?(n(),v(m,{key:0,animation:!0},{default:a(()=>[e(s,{rows:1})]),_:1})):(n(),r("span",Wa,i(c.value.used_quota>0?`$${u(fe)(c.value.used_quota)}`:"$0.00"),1))]),_:1},8,["label"]),e(b,{label:u(d)("model.agent.detail.label.weight")},{default:a(()=>[u(_)?(n(),v(m,{key:0,animation:!0},{default:a(()=>[e(s,{rows:1})]),_:1})):(n(),r("span",Xa,i(c.value.weight),1))]),_:1},8,["label"]),e(b,{label:u(d)("common.status")},{default:a(()=>[u(_)?(n(),v(m,{key:0,animation:!0},{default:a(()=>[e(s,{rows:1})]),_:1})):(n(),r("span",Ya,[c.value.status===1?(n(),v(A,{key:0,color:"green"},{default:a(()=>[y(i(B.$t(`dict.status.${c.value.status}`)),1)]),_:1})):(n(),v(A,{key:1,color:"red"},{default:a(()=>[y(i(B.$t(`dict.status.${c.value.status}`)),1)]),_:1}))]))]),_:1},8,["label"]),e(b,{label:u(d)("key.detail.label.bind.models"),span:2},{default:a(()=>{var p,g;return[u(_)?(n(),v(m,{key:0,animation:!0},{default:a(()=>[e(s,{rows:1})]),_:1})):(n(),r("span",Za,i(((g=(p=c.value)==null?void 0:p.model_names)==null?void 0:g.join(`
`))||"-"),1))]}),_:1},8,["label"]),e(b,{label:u(d)("key.detail.label.model_agent_names"),span:2},{default:a(()=>{var p,g;return[u(_)?(n(),v(m,{key:0,animation:!0},{default:a(()=>[e(s,{rows:1})]),_:1})):(n(),r("span",et,i(((g=(p=c.value)==null?void 0:p.model_agent_names)==null?void 0:g.join(`
`))||"-"),1))]}),_:1},8,["label"]),e(b,{label:u(d)("key.detail.label.is_agents_only"),span:2},{default:a(()=>{var p;return[u(_)?(n(),v(m,{key:0,animation:!0},{default:a(()=>[e(s,{rows:1})]),_:1})):(n(),r("span",at,i(u(d)(`dict.${((p=c.value)==null?void 0:p.is_agents_only)||!1}`)),1))]}),_:1},8,["label"]),e(b,{label:u(d)("key.detail.label.is_never_disable"),span:2},{default:a(()=>{var p;return[u(_)?(n(),v(m,{key:0,animation:!0},{default:a(()=>[e(s,{rows:1})]),_:1})):(n(),r("span",tt,i(u(d)(`dict.${((p=c.value)==null?void 0:p.is_never_disable)||!1}`)),1))]}),_:1},8,["label"]),e(b,{label:u(d)("key.detail.label.is_auto_disabled"),span:2},{default:a(()=>{var p;return[u(_)?(n(),v(m,{key:0,animation:!0},{default:a(()=>[e(s,{rows:1})]),_:1})):(n(),r("span",lt,i(u(d)(`dict.${((p=c.value)==null?void 0:p.is_auto_disabled)||!1}`)),1))]}),_:1},8,["label"]),e(b,{label:u(d)("key.detail.label.auto_disabled_reason"),span:2},{default:a(()=>[u(_)?(n(),v(m,{key:0,animation:!0},{default:a(()=>[e(s,{rows:1})]),_:1})):(n(),r("span",ot,i(c.value.auto_disabled_reason||"-"),1))]),_:1},8,["label"]),e(b,{label:u(d)("common.remark"),span:2},{default:a(()=>[u(_)?(n(),v(m,{key:0,animation:!0},{default:a(()=>[e(s,{rows:1})]),_:1})):(n(),r("span",nt,i(c.value.remark||"-"),1))]),_:1},8,["label"]),e(b,{label:u(d)("common.created_at"),span:2},{default:a(()=>[u(_)?(n(),v(m,{key:0,animation:!0},{default:a(()=>[e(s,{rows:1})]),_:1})):(n(),r("span",st,i(c.value.created_at),1))]),_:1},8,["label"]),e(b,{label:u(d)("common.updated_at"),span:2},{default:a(()=>[u(_)?(n(),v(m,{key:0,animation:!0},{default:a(()=>[e(s,{rows:1})]),_:1})):(n(),r("span",ut,i(c.value.updated_at),1))]),_:1},8,["label"])]),_:1})])}}}),rt={class:"container"},ct={class:"action-icon"},mt={class:"action-icon"},pt={id:"tableSetting"},_t={style:{"margin-right":"4px",cursor:"move"}},yt={class:"title"},ft={key:0},vt={key:1},kt={name:"KeyList"},bt=_e({...kt,setup(Y){const{loading:O,setLoading:d}=ye(!0),{proxy:_}=da(),{t:k}=pe(),c=La(),Z=ce({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),B=()=>({type:2,provider_id:"",key:"",models:[],model_agents:f(),quota:f(),status:f(),remark:""}),I=f([]),s=f(B()),m=f([]),b=f([]),A=f("medium"),F=f([]),p=f(!0),g=f(!0),T=f(),S={current:1,pageSize:20,showTotal:!0,showPageSize:!0,pageSizeOptions:[20,50,100,500,1e3]},V=ce({...S}),ke=W(()=>[{name:k("size.mini"),value:"mini"},{name:k("size.small"),value:"small"},{name:k("size.medium"),value:"medium"},{name:k("size.large"),value:"large"}]),be=W(()=>[{title:k("key.columns.provider"),dataIndex:"provider_name",slotName:"provider_name",align:"center",width:120},{title:k("key.columns.key"),dataIndex:"key",slotName:"key",align:"center",width:230},{title:k("key.columns.models"),dataIndex:"models",slotName:"models",align:"center",ellipsis:!0,tooltip:!0},{title:k("key.columns.model_agents"),dataIndex:"model_agent_names",slotName:"model_agent_names",align:"center",ellipsis:!0,tooltip:!0},{title:k("key.columns.used_quota"),dataIndex:"used_quota",slotName:"used_quota",align:"center",ellipsis:!0,tooltip:!0},{title:k("common.weight"),dataIndex:"weight",slotName:"weight",align:"center",width:60},{title:k("key.columns.remark"),dataIndex:"remark",slotName:"remark",align:"center",ellipsis:!0,tooltip:!0},{title:k("key.columns.status"),dataIndex:"status",slotName:"status",align:"center",width:65},{title:k("key.columns.updated_at"),dataIndex:"updated_at",slotName:"updated_at",align:"center",width:132},{title:k("key.columns.operations"),dataIndex:"operations",slotName:"operations",align:"center",width:170}]),ge=W(()=>[{label:k("key.dict.status.1"),value:1},{label:k("key.dict.status.2"),value:2}]),ee=new Array(0);c.query.agent_id&&(ee[0]=c.query.agent_id);const K=async(t={...S,type:2,model_agents:ee})=>{d(!0);try{const{data:o}=await Ua(t);I.value=o.items,V.current=t.current,V.pageSize=t.pageSize,V.total=o.paging.total,o.items.length>0&&(s.value.provider_id||s.value.key||s.value.models.length>0||s.value.model_agents||s.value.status||s.value.remark)?g.value=!1:g.value=!0}catch{}finally{d(!1),T.value.selectAll(!1)}};K();const q=()=>{K({...S,...s.value})},he=t=>{K({...S,...s.value,current:t})},we=t=>{S.pageSize=t,K({...S,...s.value})},$e=()=>{s.value=B(),q()},Ce=(t,o)=>{A.value=t},Ee=(t,o,$)=>{t?m.value.splice($,0,o):m.value=b.value.filter(C=>C.dataIndex!==o.dataIndex)},ae=(t,o,$,C=!1)=>{const D=C?X(t):t;return o>-1&&$>-1&&D.splice(o,1,D.splice($,1,D[o]).pop()),D},Fe=t=>{t&&ra(()=>{const o=document.getElementById("tableSetting");new Oa(o,{onEnd($){const{oldIndex:C,newIndex:D}=$;ae(m.value,C,D),ae(b.value,C,D)}})})};me(()=>be.value,t=>{m.value=X(t),m.value.forEach((o,$)=>{o.checked=!0}),b.value=X(m.value)},{deep:!0,immediate:!0});const te=f([]);(async()=>{d(!0);try{const{data:t}=await ja();te.value=t.items}catch{}finally{d(!1)}})();const le=f([]);(async()=>{try{const{data:t}=await Ta();le.value=t.items}catch{}})();const oe=f([]);(async()=>{try{const{data:t}=await Ha();oe.value=t.items;const o=new Array(0);c.query.agent_id&&(o[0]=c.query.agent_id,s.value.model_agents=o)}catch{}})();const De=async t=>{d(!0);try{await Ka(t),_.$message.success("\u5220\u9664\u6210\u529F"),q()}catch{}finally{d(!1)}},xe=async t=>{d(!0);try{await Ma(t),_.$message.success("\u64CD\u4F5C\u6210\u529F"),q()}catch{}finally{d(!1)}},Be=t=>{F.value=t,p.value=!t.length},z=t=>{if(g.value&&F.value.length===0)_.$message.info("\u8BF7\u9009\u62E9\u6216\u67E5\u8BE2\u8981\u64CD\u4F5C\u7684\u6570\u636E");else{let o=`\u662F\u5426\u786E\u5B9A\u64CD\u4F5C\u6240\u9009\u7684${F.value.length}\u6761\u6570\u636E?`;switch(t.action){case"status":t.value===1?o=`\u662F\u5426\u786E\u5B9A\u542F\u7528\u6240\u9009\u7684${F.value.length}\u6761\u6570\u636E?`:o=`\u662F\u5426\u786E\u5B9A\u7981\u7528\u6240\u9009\u7684${F.value.length}\u6761\u6570\u636E?`;break;case"delete":o=`\u662F\u5426\u786E\u5B9A\u5220\u9664\u6240\u9009\u7684${F.value.length}\u6761\u6570\u636E?`;break;case"all-status":t.value===1?o=`\u662F\u5426\u786E\u5B9A\u5168\u90E8\u542F\u7528\u67E5\u8BE2\u7ED3\u679C\u7684${V.total}\u6761\u6570\u636E?`:o=`\u662F\u5426\u786E\u5B9A\u5168\u90E8\u7981\u7528\u67E5\u8BE2\u7ED3\u679C\u7684${V.total}\u6761\u6570\u636E?`;break;case"all-delete":o=`\u662F\u5426\u786E\u5B9A\u5168\u90E8\u5220\u9664\u67E5\u8BE2\u7ED3\u679C\u7684${V.total}\u6761\u6570\u636E?`;break}_.$modal.warning({title:"\u8B66\u544A",titleAlign:"center",content:o,hideCancel:!1,onOk:()=>{d(!0),t.ids=F.value,Pa({...t,...s.value}).then($=>{d(!1),_.$message.success("\u64CD\u4F5C\u6210\u529F, \u4EFB\u52A1\u5DF2\u63D0\u4EA4"),q(),T.value.selectAll(!1)})}})}},{copy:Ve,copied:ne}=Na(),Ie=async t=>{const{data:o}=await ve({id:t});Ve(o.key)};me(ne,()=>{ne.value&&_.$message.success("\u590D\u5236\u6210\u529F")});const H=f(!1),M=f(),Ae=t=>{H.value=!0,M.value=t},Se=()=>{H.value=!1},j=f(!1),se=f(),qe=t=>{j.value=!0,M.value=t,se.value="key"};return(t,o)=>{const $=Xe,C=ca,D=ma,R=pa,P=_a,L=ya,E=fa,ue=va,G=ka,ze=ba,ie=ga,Le=ha,h=wa,de=Ye,re=$a,J=Ca,Ne=Ze,Ue=Ea,Ke=Fa,Me=ea,Pe=aa,Oe=Da,Te=xa,He=Ba,je=Va,Re=Ia,Ge=Aa,Je=Sa,Qe=qa,We=za;return n(),r("div",rt,[e(D,{class:"container-breadcrumb"},{default:a(()=>[e(C,null,{default:a(()=>[e($)]),_:1}),e(C,null,{default:a(()=>[y(i(t.$t("menu.key")),1)]),_:1}),e(C,null,{default:a(()=>[y(i(t.$t("menu.key.model.list")),1)]),_:1})]),_:1}),e(We,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 20px"}},{default:a(()=>[e(G,null,{default:a(()=>[e(E,{flex:1},{default:a(()=>[e(ze,{model:s.value,"label-col-props":{span:5},"wrapper-col-props":{span:18},"label-align":"left"},{default:a(()=>[e(G,{gutter:16},{default:a(()=>[e(E,{span:8},{default:a(()=>[e(L,{field:"provider_id",label:t.$t("key.form.provider")},{default:a(()=>[e(P,{modelValue:s.value.provider_id,"onUpdate:modelValue":o[0]||(o[0]=l=>s.value.provider_id=l),placeholder:t.$t("key.form.selectDefault"),scrollbar:!1,"allow-search":"","allow-clear":""},{default:a(()=>[(n(!0),r(N,null,U(te.value,l=>(n(),v(R,{key:l.id,value:l.id,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(E,{span:7},{default:a(()=>[e(L,{field:"key",label:t.$t("key.form.key")},{default:a(()=>[e(ue,{modelValue:s.value.key,"onUpdate:modelValue":o[1]||(o[1]=l=>s.value.key=l),placeholder:t.$t("key.form.key.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(E,{span:9},{default:a(()=>[e(L,{field:"models",label:t.$t("key.form.models")},{default:a(()=>[e(P,{modelValue:s.value.models,"onUpdate:modelValue":o[2]||(o[2]=l=>s.value.models=l),placeholder:t.$t("key.form.selectDefault"),"max-tag-count":2,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:a(()=>[(n(!0),r(N,null,U(le.value,l=>(n(),v(R,{key:l.id,value:l.id,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(E,{span:8},{default:a(()=>[e(L,{field:"model_agents",label:t.$t("key.form.modelAgents")},{default:a(()=>[e(P,{modelValue:s.value.model_agents,"onUpdate:modelValue":o[3]||(o[3]=l=>s.value.model_agents=l),placeholder:t.$t("key.form.selectDefault"),"max-tag-count":2,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:a(()=>[(n(!0),r(N,null,U(oe.value,l=>(n(),v(R,{key:l.id,value:l.id,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(E,{span:7},{default:a(()=>[e(L,{field:"status",label:t.$t("key.form.status")},{default:a(()=>[e(P,{modelValue:s.value.status,"onUpdate:modelValue":o[4]||(o[4]=l=>s.value.status=l),placeholder:t.$t("key.form.selectDefault"),options:u(ge),scrollbar:!1,"allow-clear":""},null,8,["modelValue","placeholder","options"])]),_:1},8,["label"])]),_:1}),e(E,{span:9},{default:a(()=>[e(L,{field:"remark",label:t.$t("key.form.remark")},{default:a(()=>[e(ue,{modelValue:s.value.remark,"onUpdate:modelValue":o[5]||(o[5]=l=>s.value.remark=l),placeholder:t.$t("key.form.remark.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(ie,{style:{height:"84px"},direction:"vertical"}),e(E,{flex:"86px",style:{"text-align":"right"}},{default:a(()=>[e(re,{direction:"vertical",size:18},{default:a(()=>[e(h,{type:"primary",onClick:q},{icon:a(()=>[e(Le)]),default:a(()=>[y(" "+i(t.$t("key.form.search")),1)]),_:1}),e(h,{onClick:$e},{icon:a(()=>[e(de)]),default:a(()=>[y(" "+i(t.$t("key.form.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(ie,{style:{"margin-top":"0","margin-bottom":"16px"}}),e(G,{style:{"margin-bottom":"16px"}},{default:a(()=>[e(E,{span:12},{default:a(()=>[e(re,null,{default:a(()=>[e(h,{type:"primary",onClick:o[6]||(o[6]=l=>t.$router.push({name:"KeyCreate"}))},{default:a(()=>[y(i(t.$t("key.operation.create")),1)]),_:1}),e(h,{type:"primary",status:"success",disabled:p.value,title:p.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:o[7]||(o[7]=l=>z({action:"status",value:1}))},{default:a(()=>[y(" \u542F\u7528 ")]),_:1},8,["disabled","title"]),e(h,{type:"primary",status:"danger",disabled:p.value,title:p.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:o[8]||(o[8]=l=>z({action:"status",value:2}))},{default:a(()=>[y(" \u7981\u7528 ")]),_:1},8,["disabled","title"]),e(h,{type:"primary",status:"danger",disabled:p.value,title:p.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:o[9]||(o[9]=l=>z({action:"delete"}))},{default:a(()=>[y(" \u5220\u9664 ")]),_:1},8,["disabled","title"]),e(h,{type:"primary",status:"success",disabled:g.value,title:g.value?"\u8BF7\u67E5\u8BE2\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:o[10]||(o[10]=l=>z({action:"all-status",value:1}))},{default:a(()=>[y(" \u5168\u90E8\u542F\u7528 ")]),_:1},8,["disabled","title"]),e(h,{type:"primary",status:"danger",disabled:g.value,title:g.value?"\u8BF7\u67E5\u8BE2\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:o[11]||(o[11]=l=>z({action:"all-status",value:2}))},{default:a(()=>[y(" \u5168\u90E8\u7981\u7528 ")]),_:1},8,["disabled","title"]),e(h,{type:"primary",status:"danger",disabled:g.value,title:g.value?"\u8BF7\u67E5\u8BE2\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:o[12]||(o[12]=l=>z({action:"all-delete"}))},{default:a(()=>[y(" \u5168\u90E8\u5220\u9664 ")]),_:1},8,["disabled","title"])]),_:1})]),_:1}),e(E,{span:12,style:{display:"flex",height:"32px","align-items":"center","justify-content":"end"}},{default:a(()=>[e(J,{content:t.$t("actions.refresh")},{default:a(()=>[x("div",{class:"action-icon",onClick:q},[e(de,{size:"18"})])]),_:1},8,["content"]),e(Ke,{onSelect:Ce},{content:a(()=>[(n(!0),r(N,null,U(u(ke),l=>(n(),v(Ue,{key:l.value,value:l.value,class:ia({active:l.value===A.value})},{default:a(()=>[x("span",null,i(l.name),1)]),_:2},1032,["value","class"]))),128))]),default:a(()=>[e(J,{content:t.$t("actions.density")},{default:a(()=>[x("div",ct,[e(Ne,{size:"18"})])]),_:1},8,["content"])]),_:1}),e(J,{content:t.$t("actions.column_setting")},{default:a(()=>[e(Te,{trigger:"click",position:"bl",onPopupVisibleChange:Fe},{content:a(()=>[x("div",pt,[(n(!0),r(N,null,U(b.value,(l,w)=>(n(),r("div",{key:l.dataIndex,class:"setting"},[x("div",_t,[e(Pe)]),x("div",null,[e(Oe,{modelValue:l.checked,"onUpdate:modelValue":Q=>l.checked=Q,onChange:Q=>Ee(Q,l,w)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),x("div",yt,i(l.title==="#"?"\u5E8F\u5217\u53F7":l.title),1)]))),128))])]),default:a(()=>[x("div",mt,[e(Me,{size:"18"})])]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),e(Ge,{ref_key:"tableRef",ref:T,"row-key":"id",loading:u(O),pagination:V,columns:m.value,data:I.value,bordered:!1,size:A.value,"row-selection":Z,onPageChange:he,onPageSizeChange:we,onSelectionChange:Be},{key:a(({record:l})=>[y(i(l.key.length>11?l.key.substr(0,10)+l.key.substr(-10):l.key)+" ",1),e(He,{class:"copy-btn",onClick:w=>Ie(l.id)},null,8,["onClick"])]),models:a(({record:l})=>[l.models?(n(),r("span",ft,[e(h,{type:"text",size:"small",onClick:w=>qe(l.id)},{default:a(()=>[y(" \u67E5\u770B ")]),_:2},1032,["onClick"])])):(n(),r("span",vt,i("-")))]),model_agent_names:a(({record:l})=>{var w;return[y(i(((w=l==null?void 0:l.model_agent_names)==null?void 0:w.join(","))||"-"),1)]}),used_quota:a(({record:l})=>[y(" $"+i(l.used_quota>0?u(fe)(l.used_quota):"0.00"),1)]),remark:a(({record:l})=>[y(i(l.remark||"-"),1)]),status:a(({record:l})=>[e(je,{modelValue:l.status,"onUpdate:modelValue":w=>l.status=w,"checked-value":1,"unchecked-value":2,onChange:w=>xe({id:`${l.id}`,status:Number(`${l.status}`)})},null,8,["modelValue","onUpdate:modelValue","onChange"])]),operations:a(({record:l})=>[e(h,{type:"text",size:"small",onClick:w=>Ae(l.id)},{default:a(()=>[y(i(t.$t("key.columns.operations.view")),1)]),_:2},1032,["onClick"]),e(h,{type:"text",size:"small",onClick:w=>t.$router.push({name:"KeyUpdate",query:{id:`${l.id}`}})},{default:a(()=>[y(i(t.$t("key.columns.operations.update")),1)]),_:2},1032,["onClick"]),e(Re,{content:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u5417?",onOk:w=>De({id:`${l.id}`})},{default:a(()=>[e(h,{type:"text",size:"small"},{default:a(()=>[y(i(t.$t("key.columns.operations.delete")),1)]),_:1})]),_:2},1032,["onOk"])]),_:1},8,["loading","pagination","columns","data","size","row-selection"]),e(Je,{title:t.$t("menu.key.detail"),"unmount-on-close":"","render-to-body":"",width:700,footer:!1,visible:H.value,onCancel:Se},{default:a(()=>[e(dt,{id:M.value},null,8,["id"])]),_:1},8,["title","visible"]),e(Qe,{visible:j.value,"onUpdate:visible":o[13]||(o[13]=l=>j.value=l),title:"\u6A21\u578B","modal-style":{padding:"25px 15px 20px 15px"},"unmount-on-close":"","hide-cancel":"",simple:"",width:"1080px","ok-text":"\u5173\u95ED"},{default:a(()=>[e(Ra,{id:M.value,action:se.value},null,8,["id","action"])]),_:1},8,["visible"])]),_:1})])}}});const Yt=ta(bt,[["__scopeId","data-v-4ef7d3d2"]]);export{Yt as default};
