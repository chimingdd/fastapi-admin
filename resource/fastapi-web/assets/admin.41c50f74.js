import{u as B,a as x,_ as v}from"./index.55aa5e71.js";/* empty css               */import{d as w,e as h,r as R,t as C,B as i,aD as b,aG as r,aH as e,u as n,aL as L,aM as y,b3 as A,b4 as N,b5 as P,aW as T,b7 as U,g as D,b8 as W,C as z,F as o,ba as E,bb as G,bc as H}from"./arco.4eee3931.js";import{F as M}from"./index.e8969ba1.js";/* empty css               *//* empty css               */import{f as Q}from"./vue.a3868d4c.js";import{F as j}from"./forget.9fe7baab.js";import"./chart.01f9d9eb.js";const J=w({__name:"admin-login",setup(l){const{proxy:m}=D(),{t:a}=B(),_=Q(),p=x(),s=h(!1),F=R({form:{username:"",password:"",captcha:"",uuid:""},rules:{username:[{required:!0,message:a("login.account.error.required.username")}],password:[{required:!0,message:a("login.account.error.required.password")}],captcha:[{required:!0,message:a("login.account.error.required.captcha")}]}}),{form:c,rules:V}=C(F),k=({errors:d,values:t})=>{s.value||d||(s.value=!0,p.login({account:t.username,password:t.password,terminal:"web",channel:"admin",method:"account"}).then(()=>{const{redirect:f,...u}=_.currentRoute.value.query;_.push({name:f||"Workplace",query:{...u}}),window.localStorage.setItem("userRole","admin"),m.$message.success(a("login.success"))}).catch(()=>{}).finally(()=>{s.value=!1}))};return(d,t)=>{const f=A,u=N,q=P,S=T,$=U;return i(),b($,{ref:"formRef",model:n(c),rules:n(V),layout:"vertical",size:"large",class:"login-form",onSubmit:k},{default:r(()=>[e(u,{field:"username","hide-label":""},{default:r(()=>[e(f,{modelValue:n(c).username,"onUpdate:modelValue":t[0]||(t[0]=g=>n(c).username=g),placeholder:d.$t("login.account.placeholder.username"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1}),e(u,{field:"password","hide-label":""},{default:r(()=>[e(q,{modelValue:n(c).password,"onUpdate:modelValue":t[1]||(t[1]=g=>n(c).password=g),placeholder:d.$t("login.account.placeholder.password"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1}),e(S,{class:"btn",loading:s.value,type:"primary","html-type":"submit"},{default:r(()=>[L(y(d.$t("login.button")),1)]),_:1},8,["loading"])]),_:1},8,["model","rules"])}}});const K=v(J,[["__scopeId","data-v-8ec25069"]]),I=l=>(E("data-v-5de99d70"),l=l(),G(),l),O={class:"root"},X=I(()=>o("div",{class:"logo"},[o("img",{alt:"logo",src:"//p3-armor.byteimg.com/tos-cn-i-49unhts6dw/dfdba5317c0c20ce20e64fac803d52bc.svg~tplv-49unhts6dw-image.image"}),o("div",{class:"logo-text"},"\u667A\u5143 Fast API")],-1)),Y={class:"container"},Z=I(()=>o("div",{class:"left-banner"},null,-1)),ee={class:"login-card"},oe={class:"title"},ae={class:"footer"},te=w({__name:"admin",setup(l){h(!1);const m=h(!1);return(a,_)=>{const p=H,s=W;return i(),z("div",O,[X,o("div",Y,[Z,o("div",ee,[o("div",oe,y(a.$t("login.admin.welcome")),1),m.value?(i(),b(j,{key:0})):(i(),b(s,{key:1,class:"account-tab","default-active-key":"1"},{default:r(()=>[e(p,{key:"1",title:a.$t("login.account")},{default:r(()=>[e(K)]),_:1},8,["title"])]),_:1}))])]),o("div",ae,[e(M)])])}}});const _e=v(te,[["__scopeId","data-v-5de99d70"]]);export{_e as default};
