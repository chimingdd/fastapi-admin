import{d as w,u as B,a as x,b as R,r as h,e as A,t as T,o as i,f as v,w as r,g as e,h as n,j as C,k as y,I as L,F as N,l as P,B as U,m as z,n as D,_ as b,T as j,q as E,i as o,z as Q,A as W,D as G}from"./index.9d2a6f93.js";/* empty css               */import{F as H}from"./index.84de2d58.js";/* empty css               *//* empty css               */import{F as J}from"./forget.2863fe40.js";const K=w({__name:"admin-login",setup(l){const{proxy:_}=D(),{t:a}=B(),m=x(),p=R(),t=h(!1),k=A({form:{username:"",password:"",captcha:"",uuid:""},rules:{username:[{required:!0,message:a("login.account.error.required.username")}],password:[{required:!0,message:a("login.account.error.required.password")}],captcha:[{required:!0,message:a("login.account.error.required.captcha")}]}}),{form:c,rules:q}=T(k),F=({errors:u,values:s})=>{t.value||u||(t.value=!0,p.login({account:s.username,password:s.password,terminal:"web",channel:"admin",method:"account"}).then(()=>{const{redirect:f,...d}=m.currentRoute.value.query;m.push({name:f||"Workplace",query:{...d}}),window.localStorage.setItem("userRole","admin"),_.$message.success(a("login.success"))}).catch(()=>{}).finally(()=>{t.value=!1}))};return(u,s)=>{const f=L,d=N,V=P,S=U,$=z;return i(),v($,{ref:"formRef",model:n(c),rules:n(q),layout:"vertical",size:"large",class:"login-form",onSubmit:F},{default:r(()=>[e(d,{field:"username","hide-label":""},{default:r(()=>[e(f,{modelValue:n(c).username,"onUpdate:modelValue":s[0]||(s[0]=g=>n(c).username=g),placeholder:u.$t("login.account.placeholder.username"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1}),e(d,{field:"password","hide-label":""},{default:r(()=>[e(V,{modelValue:n(c).password,"onUpdate:modelValue":s[1]||(s[1]=g=>n(c).password=g),placeholder:u.$t("login.account.placeholder.password"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1}),e(S,{class:"btn",loading:t.value,type:"primary","html-type":"submit"},{default:r(()=>[C(y(u.$t("login.button")),1)]),_:1},8,["loading"])]),_:1},8,["model","rules"])}}});const M=b(K,[["__scopeId","data-v-8ec25069"]]),I=l=>(Q("data-v-85706934"),l=l(),W(),l),O={class:"root"},X=I(()=>o("div",{class:"logo"},[o("img",{alt:"logo",src:"https://www.fastapi.ai/logo.png"}),o("div",{class:"logo-text"},"\u667A\u5143 Fast API")],-1)),Y={class:"container"},Z=I(()=>o("div",{class:"left-banner"},null,-1)),ee={class:"login-card"},oe={class:"title"},ae={class:"footer"},se=w({__name:"admin",setup(l){h(!1);const _=h(!1);return(a,m)=>{const p=G,t=j;return i(),E("div",O,[X,o("div",Y,[Z,o("div",ee,[o("div",oe,y(a.$t("login.admin.welcome")),1),_.value?(i(),v(J,{key:0})):(i(),v(t,{key:1,class:"account-tab","default-active-key":"1"},{default:r(()=>[e(p,{key:"1",title:a.$t("login.account")},{default:r(()=>[e(M)]),_:1},8,["title"])]),_:1}))])]),o("div",ae,[e(H)])])}}});const de=b(se,[["__scopeId","data-v-85706934"]]);export{de as default};
