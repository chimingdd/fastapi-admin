import{u as gl,H as bl,p as yl,y as kl,i as Cl,z as $l,_ as El}from"./index.5762b235.js";/* empty css                *//* empty css                *//* empty css               *//* empty css              *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css               */import{d as Fl,r as xe,e as i,c as ee,w as hl,B as o,C as f,aH as t,aG as u,aL as n,aM as d,aJ as U,aI as S,aD as v,u as c,aE as $,F as q,D as wl,n as Bl,aK as Dl,aF as Vl,bA as ql,bB as Al,b2 as xl,bC as Il,b1 as zl,bD as Ul,b5 as Sl,bE as Ml,ab as Ll,aU as Ol,bi as Hl,bj as Nl,bl as Ql,bm as Pl,b4 as Tl,bF as Rl,aT as jl,bG as Gl,bH as Jl,aV as Zl,a_ as Kl,bZ as Wl,bI as Xl,g as Yl}from"./arco.86f0f56d.js";import{u as et}from"./loading.0ba7f8b6.js";import{p as D,q as j}from"./common.7a0e8d62.js";import{q as lt,s as tt,a as at,b as ut,c as ot,d as nt}from"./model.be83382d.js";import{c as re,S as it}from"./sortable.esm.07e6d21c.js";import{f as st}from"./agent.6cc26bdb.js";import{q as dt}from"./corp.70aa779b.js";import{_ as rt}from"./index.vue_vue_type_script_setup_true_lang.a5fa573e.js";import"./chart.dbe284dd.js";import"./vue.e2e8d4fd.js";import"./base.87fcf6e2.js";/* empty css                *//* empty css                */const mt={class:"container"},ct={class:"action-icon"},pt={class:"action-icon"},ft={id:"tableSetting"},vt={style:{"margin-right":"4px",cursor:"move"}},_t={class:"title"},gt={key:0},bt={key:1},yt={key:2},kt={key:3},Ct={key:4},$t={key:0},Et={key:1},Ft={key:2},ht={key:3},wt={key:4},Bt={key:5},Dt={name:"ModelList"},Vt=Fl({...Dt,setup(qt){const{loading:Ie,setLoading:y}=et(!0),{proxy:M}=Yl(),ze=xe({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),me=i([]);(async()=>{y(!0);try{const{data:l}=await dt();me.value=l.items}catch{}finally{y(!1)}})();const le=i([]);(async()=>{try{const{data:l}=await lt();le.value=l.items}catch{}})();const ce=i([]);(async()=>{try{const{data:l}=await st();ce.value=l.items}catch{}})();const Ue=async l=>{y(!0);try{await tt(l),M.$message.success("\u5220\u9664\u6210\u529F"),L()}catch{}finally{y(!1)}},pe=()=>({corp:"",name:"",model:"",type:i(),status:i(),remark:""}),{t:p}=gl(),k=i([]),_=i(pe()),A=i([]),G=i([]),te=i("medium"),g=i([]),s=i(!0),fe=i();let ve=!1;const I={current:1,pageSize:20,showTotal:!0,showPageSize:!0,pageSizeOptions:[20,50,100,500,1e3]},J=xe({...I}),Se=ee(()=>[{name:p("size.mini"),value:"mini"},{name:p("size.small"),value:"small"},{name:p("size.medium"),value:"medium"},{name:p("size.large"),value:"large"}]),Me=ee(()=>[{title:p("model.columns.corp"),dataIndex:"corp_name",slotName:"corp_name",align:"center",width:110},{title:p("model.columns.name"),dataIndex:"name",slotName:"name",align:"center",ellipsis:!0,tooltip:!0},{title:p("model.columns.model"),dataIndex:"model",slotName:"model",align:"center",ellipsis:!0,tooltip:!0},{title:p("model.columns.prompt_price"),dataIndex:"prompt_ratio",slotName:"prompt_ratio",align:"center"},{title:p("model.columns.completion_price"),dataIndex:"completion_ratio",slotName:"completion_ratio",align:"center"},{title:p("model.columns.status"),dataIndex:"status",slotName:"status",align:"center",width:65},{title:p("model.columns.updated_at"),dataIndex:"updated_at",slotName:"updated_at",align:"center",width:132},{title:p("model.columns.operations"),dataIndex:"operations",slotName:"operations",align:"center",width:170}]),Le=ee(()=>[{label:p("model.dict.type.1"),value:1},{label:p("model.dict.type.2"),value:2},{label:p("model.dict.type.3"),value:3},{label:p("model.dict.type.4"),value:4},{label:p("model.dict.type.100"),value:100}]),Oe=ee(()=>[{label:p("model.dict.status.1"),value:1},{label:p("model.dict.status.2"),value:2}]),Z=async(l={...I})=>{y(!0);try{const{data:a}=await at(l);k.value=a.items,J.current=l.current,J.pageSize=l.pageSize,J.total=a.paging.total,ve=a.items.length===0}catch{}finally{y(!1)}},L=()=>{Z({...I,..._.value})},He=l=>{Z({...I,..._.value,current:l})},Ne=l=>{I.pageSize=l,Z({...I,..._.value})};Z();const Qe=()=>{_.value=pe()},Pe=async l=>{y(!0);try{await ut(l),M.$message.success("\u64CD\u4F5C\u6210\u529F"),L()}catch{}finally{y(!1)}},Te=(l,a)=>{te.value=l},Re=(l,a,m)=>{l?A.value.splice(m,0,a):A.value=G.value.filter(w=>w.dataIndex!==a.dataIndex)},_e=(l,a,m,w=!1)=>{const V=w?re(l):l;return a>-1&&m>-1&&V.splice(a,1,V.splice(m,1,V[a]).pop()),V},je=l=>{l&&Bl(()=>{const a=document.getElementById("tableSetting");new it(a,{onEnd(m){const{oldIndex:w,newIndex:V}=m;_e(A.value,w,V),_e(G.value,w,V)}})})};hl(()=>Me.value,l=>{A.value=re(l),A.value.forEach((a,m)=>{a.checked=!0}),G.value=re(A.value)},{deep:!0,immediate:!0});const O=i(!1),ge=i(),h=i({}),be=i(),H=i(!1),K=i({}),Ge=async()=>{y(!0);try{h.value.url="",h.value.key="",h.value.is_config_model_agent=!0,O.value=!0}catch{}finally{y(!1)}},Je=async l=>{var m;if(await((m=ge.value)==null?void 0:m.validate())){O.value=!0,l(!1);return}y(!0);try{await ot(h.value),l(),window.location.reload()}catch{l(!1)}finally{y(!1)}},Ze=()=>{O.value=!1},Ke=async l=>{var m;if(await((m=be.value)==null?void 0:m.validate())){H.value=!0,l(!1);return}l(),b({action:"agent",value:"all",model_agents:K.value.model_agents})},We=()=>{H.value=!1},ye=i(),N=i(!1),W=i({}),Xe=async l=>{var m;if(await((m=ye.value)==null?void 0:m.validate())){N.value=!0,l(!1);return}l(),b({action:"forward",value:"all",target_model:W.value.target_model})},Ye=()=>{N.value=!1},ke=i(),Q=i(!1),X=i({}),el=async l=>{var m;if(await((m=ke.value)==null?void 0:m.validate())){Q.value=!0,l(!1);return}l(),b({action:"fallback",value:"all",fallback_model:X.value.fallback_model})},ll=()=>{Q.value=!1},tl=l=>{g.value=l,s.value=!l.length},b=l=>{if(g.value.length===0)M.$message.info("\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E");else{let a=`\u662F\u5426\u786E\u5B9A\u64CD\u4F5C\u6240\u9009\u7684${g.value.length}\u6761\u6570\u636E?`;switch(l.action){case"agent":l.value===!0?a=`\u662F\u5426\u786E\u5B9A\u542F\u7528\u6240\u9009${g.value.length}\u6761\u6570\u636E\u7684\u6A21\u578B\u4EE3\u7406?`:l.value===!1?a=`\u662F\u5426\u786E\u5B9A\u5173\u95ED\u6240\u9009${g.value.length}\u6761\u6570\u636E\u7684\u6A21\u578B\u4EE3\u7406?`:l.value==="all"&&(l.model_agents?a=`\u662F\u5426\u786E\u5B9A\u5C06\u6240\u9009${g.value.length}\u6761\u6570\u636E\u7684\u6A21\u578B\u4EE3\u7406\u542F\u7528\u5E76\u4F7F\u7528\u6240\u9009\u7684\u6A21\u578B\u4EE3\u7406?`:H.value=!0);break;case"forward":l.value===!0?a=`\u662F\u5426\u786E\u5B9A\u542F\u7528\u6240\u9009${g.value.length}\u6761\u6570\u636E\u7684\u6A21\u578B\u8F6C\u53D1?`:l.value===!1?a=`\u662F\u5426\u786E\u5B9A\u5173\u95ED\u6240\u9009${g.value.length}\u6761\u6570\u636E\u7684\u6A21\u578B\u8F6C\u53D1?`:l.value==="all"&&(l.target_model?a=`\u662F\u5426\u786E\u5B9A\u5C06\u6240\u9009${g.value.length}\u6761\u6570\u636E\u7684\u6A21\u578B\u8F6C\u53D1\u542F\u7528\u5E76\u5168\u90E8\u8F6C\u53D1\u5230\u6240\u9009\u6A21\u578B?`:N.value=!0);break;case"fallback":l.value===!0?a=`\u662F\u5426\u786E\u5B9A\u542F\u7528\u6240\u9009${g.value.length}\u6761\u6570\u636E\u7684\u540E\u5907\u6A21\u578B?`:l.value===!1?a=`\u662F\u5426\u786E\u5B9A\u5173\u95ED\u6240\u9009${g.value.length}\u6761\u6570\u636E\u7684\u540E\u5907\u6A21\u578B?`:l.value==="all"&&(l.fallback_model?a=`\u662F\u5426\u786E\u5B9A\u5C06\u6240\u9009${g.value.length}\u6761\u6570\u636E\u7684\u540E\u5907\u6A21\u578B\u542F\u7528\u5E76\u5168\u90E8\u540E\u5907\u5230\u6240\u9009\u6A21\u578B?`:Q.value=!0);break;case"status":l.value===1?a=`\u662F\u5426\u786E\u5B9A\u542F\u7528\u6240\u9009\u7684${g.value.length}\u6761\u6570\u636E?`:a=`\u662F\u5426\u786E\u5B9A\u7981\u7528\u6240\u9009\u7684${g.value.length}\u6761\u6570\u636E?`;break;case"delete":a=`\u662F\u5426\u786E\u5B9A\u5220\u9664\u6240\u9009\u7684${g.value.length}\u6761\u6570\u636E?`;break}if(l.action==="agent"&&l.value==="all"&&!l.model_agents||l.action==="forward"&&l.value==="all"&&!l.target_model||l.action==="fallback"&&l.value==="all"&&!l.fallback_model)return;M.$modal.warning({title:"\u8B66\u544A",titleAlign:"start",content:a,hideCancel:!1,onOk:()=>{y(!0),l.ids=g.value,nt(l).then(m=>{y(!1),M.$message.success("\u64CD\u4F5C\u6210\u529F"),L(),fe.value.selectAll(!1)})}})}},ae=i(!1),Ce=i([]),al=l=>{Ce.value=l,ae.value=!0},ue=i(!1),$e=i([]),Ee=i([]),Fe=l=>{ue.value=!0,$e.value[0]=l.text_quota,Ee.value=l.image_quotas},oe=i(!1),he=i([]),we=l=>{he.value[0]=l,oe.value=!0},ne=i(!1),Be=i(),ul=l=>{ne.value=!0,Be.value=l},ol=()=>{ne.value=!1};return(l,a)=>{const m=bl,w=Dl,V=Vl,Y=ql,z=Al,E=xl,B=Il,P=zl,ie=Ul,T=Sl,De=Ml,nl=Ll,r=Ol,Ve=yl,qe=Hl,se=Nl,il=kl,sl=Ql,dl=Pl,rl=Cl,ml=$l,cl=Tl,pl=Rl,Ae=jl,fl=Gl,R=Jl,vl=Zl,x=Kl,C=Wl,_l=Xl;return o(),f("div",mt,[t(V,{class:"container-breadcrumb"},{default:u(()=>[t(w,null,{default:u(()=>[t(m)]),_:1}),t(w,null,{default:u(()=>[n(d(l.$t("menu.model")),1)]),_:1}),t(w,null,{default:u(()=>[n(d(l.$t("menu.model.list")),1)]),_:1})]),_:1}),t(_l,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 20px"}},{default:u(()=>[t(ie,null,{default:u(()=>[t(B,{flex:1},{default:u(()=>[t(T,{model:_.value,"label-col-props":{span:5},"wrapper-col-props":{span:18},"label-align":"left"},{default:u(()=>[t(ie,{gutter:16},{default:u(()=>[t(B,{span:8},{default:u(()=>[t(E,{field:"corp",label:l.$t("model.form.corp")},{default:u(()=>[t(z,{modelValue:_.value.corp,"onUpdate:modelValue":a[0]||(a[0]=e=>_.value.corp=e),placeholder:l.$t("model.form.selectDefault"),"allow-search":"","allow-clear":""},{default:u(()=>[(o(!0),f(U,null,S(me.value,e=>(o(),v(Y,{key:e.id,value:e.id,label:e.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(B,{span:8},{default:u(()=>[t(E,{field:"name",label:l.$t("model.form.name")},{default:u(()=>[t(P,{modelValue:_.value.name,"onUpdate:modelValue":a[1]||(a[1]=e=>_.value.name=e),placeholder:l.$t("model.form.name.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(B,{span:8},{default:u(()=>[t(E,{field:"model",label:l.$t("model.form.model")},{default:u(()=>[t(P,{modelValue:_.value.model,"onUpdate:modelValue":a[2]||(a[2]=e=>_.value.model=e),placeholder:l.$t("model.form.model.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(B,{span:8},{default:u(()=>[t(E,{field:"type",label:l.$t("model.form.type")},{default:u(()=>[t(z,{modelValue:_.value.type,"onUpdate:modelValue":a[3]||(a[3]=e=>_.value.type=e),options:c(Le),placeholder:l.$t("model.form.selectDefault"),"allow-search":"","allow-clear":""},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),_:1}),t(B,{span:8},{default:u(()=>[t(E,{field:"status",label:l.$t("model.form.status")},{default:u(()=>[t(z,{modelValue:_.value.status,"onUpdate:modelValue":a[4]||(a[4]=e=>_.value.status=e),options:c(Oe),placeholder:l.$t("model.form.selectDefault"),"allow-clear":""},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),_:1}),t(B,{span:8},{default:u(()=>[t(E,{field:"remark",label:l.$t("model.form.remark")},{default:u(()=>[t(P,{modelValue:_.value.remark,"onUpdate:modelValue":a[5]||(a[5]=e=>_.value.remark=e),placeholder:l.$t("model.form.remark.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),t(De,{style:{height:"84px"},direction:"vertical"}),t(B,{flex:"86px",style:{"text-align":"right"}},{default:u(()=>[t(qe,{direction:"vertical",size:18},{default:u(()=>[t(r,{type:"primary",onClick:L},{icon:u(()=>[t(nl)]),default:u(()=>[n(" "+d(l.$t("model.form.search")),1)]),_:1}),t(r,{onClick:Qe},{icon:u(()=>[t(Ve)]),default:u(()=>[n(" "+d(l.$t("model.form.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(De,{style:{"margin-top":"0","margin-bottom":"16px"}}),t(ie,{style:{"margin-bottom":"16px"}},{default:u(()=>[t(B,{span:12},{default:u(()=>[t(qe,null,{default:u(()=>[t(r,{type:"primary",onClick:a[6]||(a[6]=e=>l.$router.push({name:"ModelCreate"}))},{default:u(()=>[n(d(l.$t("model.operation.create")),1)]),_:1}),c(ve)?(o(),v(r,{key:0,type:"primary",status:"success",onClick:a[7]||(a[7]=e=>Ge())},{default:u(()=>[n(" \u521D\u59CB\u5316 ")]),_:1})):$("",!0),k.value.length!==0?(o(),v(r,{key:1,type:"primary",status:"warning",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:a[8]||(a[8]=e=>b({action:"agent",value:"all"}))},{default:u(()=>[n(" \u5168\u90E8\u4EE3\u7406 ")]),_:1},8,["disabled","title"])):$("",!0),k.value.length!==0?(o(),v(r,{key:2,type:"primary",status:"success",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:a[9]||(a[9]=e=>b({action:"agent",value:!0}))},{default:u(()=>[n(" \u542F\u7528\u4EE3\u7406 ")]),_:1},8,["disabled","title"])):$("",!0),k.value.length!==0?(o(),v(r,{key:3,type:"primary",status:"danger",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:a[10]||(a[10]=e=>b({action:"agent",value:!1}))},{default:u(()=>[n(" \u5173\u95ED\u4EE3\u7406 ")]),_:1},8,["disabled","title"])):$("",!0),k.value.length!==0?(o(),v(r,{key:4,type:"primary",status:"warning",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:a[11]||(a[11]=e=>b({action:"forward",value:"all"}))},{default:u(()=>[n(" \u5168\u90E8\u8F6C\u53D1 ")]),_:1},8,["disabled","title"])):$("",!0),k.value.length!==0?(o(),v(r,{key:5,type:"primary",status:"success",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:a[12]||(a[12]=e=>b({action:"forward",value:!0}))},{default:u(()=>[n(" \u542F\u7528\u8F6C\u53D1 ")]),_:1},8,["disabled","title"])):$("",!0),k.value.length!==0?(o(),v(r,{key:6,type:"primary",status:"danger",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:a[13]||(a[13]=e=>b({action:"forward",value:!1}))},{default:u(()=>[n(" \u5173\u95ED\u8F6C\u53D1 ")]),_:1},8,["disabled","title"])):$("",!0),k.value.length!==0?(o(),v(r,{key:7,type:"primary",status:"warning",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:a[14]||(a[14]=e=>b({action:"fallback",value:"all"}))},{default:u(()=>[n(" \u5168\u90E8\u540E\u5907 ")]),_:1},8,["disabled","title"])):$("",!0),k.value.length!==0?(o(),v(r,{key:8,type:"primary",status:"success",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:a[15]||(a[15]=e=>b({action:"fallback",value:!0}))},{default:u(()=>[n(" \u542F\u7528\u540E\u5907 ")]),_:1},8,["disabled","title"])):$("",!0),k.value.length!==0?(o(),v(r,{key:9,type:"primary",status:"danger",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:a[16]||(a[16]=e=>b({action:"fallback",value:!1}))},{default:u(()=>[n(" \u5173\u95ED\u540E\u5907 ")]),_:1},8,["disabled","title"])):$("",!0),k.value.length!==0?(o(),v(r,{key:10,type:"primary",status:"success",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:a[17]||(a[17]=e=>b({action:"status",value:1}))},{default:u(()=>[n(" \u542F\u7528 ")]),_:1},8,["disabled","title"])):$("",!0),k.value.length!==0?(o(),v(r,{key:11,type:"primary",status:"danger",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:a[18]||(a[18]=e=>b({action:"status",value:2}))},{default:u(()=>[n(" \u7981\u7528 ")]),_:1},8,["disabled","title"])):$("",!0),k.value.length!==0?(o(),v(r,{key:12,type:"primary",status:"danger",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:a[19]||(a[19]=e=>b({action:"delete"}))},{default:u(()=>[n(" \u5220\u9664 ")]),_:1},8,["disabled","title"])):$("",!0)]),_:1})]),_:1}),t(B,{span:12,style:{display:"flex",height:"32px","align-items":"center","justify-content":"end"}},{default:u(()=>[t(se,{content:l.$t("actions.refresh")},{default:u(()=>[q("div",{class:"action-icon",onClick:L},[t(Ve,{size:"18"})])]),_:1},8,["content"]),t(dl,{onSelect:Te},{content:u(()=>[(o(!0),f(U,null,S(c(Se),e=>(o(),v(sl,{key:e.value,value:e.value,class:wl({active:e.value===te.value})},{default:u(()=>[q("span",null,d(e.name),1)]),_:2},1032,["value","class"]))),128))]),default:u(()=>[t(se,{content:l.$t("actions.density")},{default:u(()=>[q("div",ct,[t(il,{size:"18"})])]),_:1},8,["content"])]),_:1}),t(se,{content:l.$t("actions.column_setting")},{default:u(()=>[t(pl,{trigger:"click",position:"bl",onPopupVisibleChange:je},{content:u(()=>[q("div",ft,[(o(!0),f(U,null,S(G.value,(e,F)=>(o(),f("div",{key:e.dataIndex,class:"setting"},[q("div",vt,[t(ml)]),q("div",null,[t(cl,{modelValue:e.checked,"onUpdate:modelValue":de=>e.checked=de,onChange:de=>Re(de,e,F)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),q("div",_t,d(e.title==="#"?"\u5E8F\u5217\u53F7":e.title),1)]))),128))])]),default:u(()=>[q("div",pt,[t(rl,{size:"18"})])]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),t(R,{ref_key:"tableRef",ref:fe,"row-key":"id",loading:c(Ie),pagination:J,columns:A.value,data:k.value,bordered:!1,size:te.value,"row-selection":ze,onPageChange:He,onPageSizeChange:Ne,onSelectionChange:tl},{type:u(({record:e})=>[n(d(l.$t(`model.dict.type.${e.type}`)),1)]),prompt_ratio:u(({record:e})=>[e.type===5?(o(),f("span",gt,d(e.audio_quota.billing_method===1?`$${c(D)(e.audio_quota.prompt_ratio)}/k`:`$${c(j)(e.audio_quota.fixed_quota)}/\u6B21`),1)):e.type===6?(o(),f("span",bt,"-")):e.type===100?(o(),f("span",yt,[t(r,{type:"text",size:"small",onClick:F=>Fe(e.multimodal_quota)},{default:u(()=>[n(" \u67E5\u770B ")]),_:2},1032,["onClick"])])):e.type===101?(o(),f("span",kt,[t(r,{type:"text",size:"small",onClick:F=>we(e.realtime_quota)},{default:u(()=>[n(" \u67E5\u770B ")]),_:2},1032,["onClick"])])):(o(),f("span",Ct,d(e.text_quota.billing_method===1?`$${c(D)(e.text_quota.prompt_ratio)}/k`:"-"),1))]),completion_ratio:u(({record:e})=>[e.type===2?(o(),f("span",$t,[t(r,{type:"text",size:"small",onClick:F=>al(e.image_quotas)},{default:u(()=>[n(" \u67E5\u770B ")]),_:2},1032,["onClick"])])):e.type===5?(o(),f("span",Et,"-")):e.type===6?(o(),f("span",Ft,d(e.audio_quota.billing_method===1?`$${c(D)(e.audio_quota.completion_ratio)}/min`:`$${c(j)(e.audio_quota.fixed_quota)}/\u6B21`),1)):e.type===100?(o(),f("span",ht,[t(r,{type:"text",size:"small",onClick:F=>Fe(e.multimodal_quota)},{default:u(()=>[n(" \u67E5\u770B ")]),_:2},1032,["onClick"])])):e.type===101?(o(),f("span",wt,[t(r,{type:"text",size:"small",onClick:F=>we(e.realtime_quota)},{default:u(()=>[n(" \u67E5\u770B ")]),_:2},1032,["onClick"])])):(o(),f("span",Bt,d(e.text_quota.billing_method===1?`$${c(D)(e.text_quota.completion_ratio)}/k`:`$${c(j)(e.text_quota.fixed_quota)}/\u6B21`),1))]),status:u(({record:e})=>[t(Ae,{modelValue:e.status,"onUpdate:modelValue":F=>e.status=F,"checked-value":1,"unchecked-value":2,onChange:F=>Pe({id:`${e.id}`,status:Number(`${e.status}`)})},null,8,["modelValue","onUpdate:modelValue","onChange"])]),operations:u(({record:e})=>[t(r,{type:"text",size:"small",onClick:F=>ul(e.id)},{default:u(()=>[n(d(l.$t("model.columns.operations.view")),1)]),_:2},1032,["onClick"]),t(r,{type:"text",size:"small",onClick:F=>l.$router.push({name:"ModelUpdate",query:{id:`${e.id}`}})},{default:u(()=>[n(d(l.$t("model.columns.operations.update")),1)]),_:2},1032,["onClick"]),t(fl,{content:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u5417?",onOk:F=>Ue({id:`${e.id}`})},{default:u(()=>[t(r,{type:"text",size:"small"},{default:u(()=>[n(d(l.$t("model.columns.operations.delete")),1)]),_:1})]),_:2},1032,["onOk"])]),_:1},8,["loading","pagination","columns","data","size","row-selection"]),t(vl,{title:l.$t("menu.model.detail"),"unmount-on-close":"","render-to-body":"",width:700,footer:!1,visible:ne.value,onCancel:ol},{default:u(()=>[t(rt,{id:Be.value},null,8,["id"])]),_:1},8,["title","visible"]),t(x,{visible:O.value,"onUpdate:visible":a[23]||(a[23]=e=>O.value=e),title:l.$t("model.form.title.init_model"),onCancel:Ze,onBeforeOk:Je},{default:u(()=>[t(T,{ref_key:"initForm",ref:ge,model:h.value},{default:u(()=>[t(E,{field:"url",label:l.$t("model.label.url"),rules:[{required:!0,message:l.$t("model.error.url.required")}]},{default:u(()=>[t(P,{modelValue:h.value.url,"onUpdate:modelValue":a[20]||(a[20]=e=>h.value.url=e),placeholder:l.$t("model.placeholder.url"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(E,{field:"key",label:l.$t("model.label.key"),rules:[{required:!0,message:l.$t("model.error.key.required")}]},{default:u(()=>[t(P,{modelValue:h.value.key,"onUpdate:modelValue":a[21]||(a[21]=e=>h.value.key=e),placeholder:l.$t("model.placeholder.key"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(E,{field:"is_config_model_agent",label:l.$t("model.label.is_config_model_agent")},{default:u(()=>[t(Ae,{modelValue:h.value.is_config_model_agent,"onUpdate:modelValue":a[22]||(a[22]=e=>h.value.is_config_model_agent=e)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["visible","title"]),t(x,{visible:H.value,"onUpdate:visible":a[25]||(a[25]=e=>H.value=e),title:l.$t("model.form.title.model_agent"),onCancel:We,onBeforeOk:Ke},{default:u(()=>[t(T,{ref_key:"agentForm",ref:be,model:K.value},{default:u(()=>[t(E,{field:"model_agents",label:l.$t("model.label.model_agents"),rules:[{required:!0,message:l.$t("model.error.model_agents.required")}]},{default:u(()=>[t(z,{modelValue:K.value.model_agents,"onUpdate:modelValue":a[24]||(a[24]=e=>K.value.model_agents=e),placeholder:l.$t("model.placeholder.model_agents"),"max-tag-count":15,multiple:"","allow-search":"","allow-clear":""},{default:u(()=>[(o(!0),f(U,null,S(ce.value,e=>(o(),v(Y,{key:e.id,value:e.id,label:e.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])]),_:1},8,["model"])]),_:1},8,["visible","title"]),t(x,{visible:N.value,"onUpdate:visible":a[27]||(a[27]=e=>N.value=e),title:l.$t("model.form.title.forward"),onCancel:Ye,onBeforeOk:Xe},{default:u(()=>[t(T,{ref_key:"forwardForm",ref:ye,model:W.value},{default:u(()=>[t(E,{field:"target_model",label:l.$t("model.label.target_model"),rules:[{required:!0,message:l.$t("model.error.target_model.required")}]},{default:u(()=>[t(z,{modelValue:W.value.target_model,"onUpdate:modelValue":a[26]||(a[26]=e=>W.value.target_model=e),placeholder:l.$t("model.placeholder.target_model"),"allow-search":""},{default:u(()=>[(o(!0),f(U,null,S(le.value,e=>(o(),v(Y,{key:e.id,value:e.id,label:e.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])]),_:1},8,["model"])]),_:1},8,["visible","title"]),t(x,{visible:Q.value,"onUpdate:visible":a[29]||(a[29]=e=>Q.value=e),title:l.$t("model.form.title.fallback"),onCancel:ll,onBeforeOk:el},{default:u(()=>[t(T,{ref_key:"fallbackForm",ref:ke,model:X.value},{default:u(()=>[t(E,{field:"fallback_model",label:l.$t("model.label.fallback_model"),rules:[{required:!0,message:l.$t("model.error.fallback_model.required")}]},{default:u(()=>[t(z,{modelValue:X.value.fallback_model,"onUpdate:modelValue":a[28]||(a[28]=e=>X.value.fallback_model=e),placeholder:l.$t("model.placeholder.fallback_model"),"allow-search":""},{default:u(()=>[(o(!0),f(U,null,S(le.value,e=>(o(),v(Y,{key:e.id,value:e.id,label:e.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])]),_:1},8,["model"])]),_:1},8,["visible","title"]),t(x,{visible:ae.value,"onUpdate:visible":a[30]||(a[30]=e=>ae.value=e),title:l.$t("model.columns.image_price"),width:"500px","hide-cancel":"",simple:""},{default:u(()=>[t(R,{data:Ce.value,pagination:!1,bordered:!1},{columns:u(()=>[t(C,{title:"\u5BBD\u5EA6","data-index":"width",align:"center"}),t(C,{title:"\u9AD8\u5EA6","data-index":"height",align:"center"}),t(C,{title:"\u4EF7\u683C","data-index":"fixed_quota",align:"center"},{cell:u(({record:e})=>[n(d(`$${c(j)(e.fixed_quota)}/\u5F20`),1)]),_:1}),t(C,{title:"\u9ED8\u8BA4","data-index":"is_default",align:"center"},{cell:u(({record:e})=>[n(d(e.is_default?"\u662F":"-"),1)]),_:1})]),_:1},8,["data"])]),_:1},8,["visible","title"]),t(x,{visible:ue.value,"onUpdate:visible":a[31]||(a[31]=e=>ue.value=e),title:l.$t("model.columns.multimodal_price"),width:"550px","hide-cancel":"",simple:""},{default:u(()=>[t(R,{data:$e.value,pagination:!1,bordered:!1},{columns:u(()=>[t(C,{title:"\u6587\u672C\u63D0\u95EE\u4EF7\u683C","data-index":"prompt_ratio",align:"center"},{cell:u(({record:e})=>[n(d(`$${c(D)(e.prompt_ratio)}/k`),1)]),_:1}),t(C,{title:"\u6587\u672C\u56DE\u7B54\u4EF7\u683C","data-index":"completion_ratio",align:"center"},{cell:u(({record:e})=>[n(d(`$${c(D)(e.completion_ratio)}/k`),1)]),_:1})]),_:1},8,["data"]),t(R,{style:{"margin-top":"15px"},data:Ee.value,pagination:!1,bordered:!1},{columns:u(()=>[t(C,{title:"\u8BC6\u56FE\u6A21\u5F0F","data-index":"mode",align:"center"}),t(C,{title:"\u8BC6\u56FE\u4EF7\u683C","data-index":"fixed_quota",align:"center"},{cell:u(({record:e})=>[n(d(`$${c(j)(e.fixed_quota)}/\u5F20`),1)]),_:1}),t(C,{title:"\u9ED8\u8BA4","data-index":"is_default",align:"center"},{cell:u(({record:e})=>[n(d(e.is_default?"\u662F":"-"),1)]),_:1})]),_:1},8,["data"])]),_:1},8,["visible","title"]),t(x,{visible:oe.value,"onUpdate:visible":a[32]||(a[32]=e=>oe.value=e),title:l.$t("model.columns.realtime_price"),width:"550px","hide-cancel":"",simple:""},{default:u(()=>[t(R,{data:he.value,pagination:!1,bordered:!1},{columns:u(()=>[t(C,{title:"\u6587\u672C\u63D0\u95EE\u4EF7\u683C","data-index":"text_quota.prompt_ratio",align:"center"},{cell:u(({record:e})=>[n(d(`$${c(D)(e.text_quota.prompt_ratio)}/k`),1)]),_:1}),t(C,{title:"\u6587\u672C\u56DE\u7B54\u4EF7\u683C","data-index":"text_quota.completion_ratio",align:"center"},{cell:u(({record:e})=>[n(d(`$${c(D)(e.text_quota.completion_ratio)}/k`),1)]),_:1}),t(C,{title:"\u97F3\u9891\u63D0\u95EE\u4EF7\u683C","data-index":"audio_quota.prompt_ratio",align:"center"},{cell:u(({record:e})=>[n(d(`$${c(D)(e.audio_quota.prompt_ratio)}/k`),1)]),_:1}),t(C,{title:"\u97F3\u9891\u56DE\u7B54\u4EF7\u683C","data-index":"audio_quota.completion_ratio",align:"center"},{cell:u(({record:e})=>[n(d(`$${c(D)(e.audio_quota.completion_ratio)}/k`),1)]),_:1})]),_:1},8,["data"])]),_:1},8,["visible","title"])]),_:1})])}}});const ca=El(Vt,[["__scopeId","data-v-f5ccd222"]]);export{ca as default};
