import{b as ze,C as Re,u as Je,E as Qe,p as Ye,y as Ge,i as We,z as Ze,_ as Xe}from"./index.caf84b09.js";/* empty css               *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css               */import{c as xe,S as et}from"./sortable.esm.5d28075d.js";/* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css               *//* empty css              *//* empty css              */import{aN as tt,x as at,d as lt,r as Pe,e as U,c as Oe,w as Te,bT as nt,B as t,C as y,aH as a,aG as e,aL as r,aM as i,bu as D,aD as o,aJ as Se,aI as Ve,u as h,F as X,D as ot,aE as ut,n as it,g as st,aK as rt,aF as ct,bA as dt,bB as _t,b2 as mt,bC as pt,b1 as ft,aS as yt,bD as ht,bE as vt,b5 as kt,bF as gt,ab as bt,aU as wt,bi as Ct,bj as Et,bl as Dt,bm as Nt,b4 as St,bG as Vt,bU as Ft,bI as Bt,bM as $t,bN as jt,ad as xt,bV as Ot,bO as It,ba as At,b6 as Pt,aV as Tt,bJ as Lt}from"./arco.06d431a4.js";import{u as zt}from"./loading.403a6ba1.js";import{q as qt}from"./common.4956e59d.js";import{q as Mt}from"./base.87fcf6e2.js";import{g as Ut}from"./app.b642de30.js";import{q as Ht}from"./model.d76d5ca7.js";import{u as Kt}from"./vue.4e689e11.js";import"./chart.ac3cbee9.js";function Rt(ue){return ze.post("/api/v1/chat/page",ue)}function Jt(ue){return ze.get("/api/v1/chat/detail",{params:ue,paramsSerializer:ge=>Mt.stringify(ge)})}var qe={exports:{}};(function(ue,ge){(function(_e,be){ue.exports=be(Re)})(at,function(_e){return function(){var be={789:function(d){d.exports=_e}},me={};function J(d){var z=me[d];if(z!==void 0)return z.exports;var N=me[d]={exports:{}};return be[d](N,N.exports,J),N.exports}J.d=function(d,z){for(var N in z)J.o(z,N)&&!J.o(d,N)&&Object.defineProperty(d,N,{enumerable:!0,get:z[N]})},J.o=function(d,z){return Object.prototype.hasOwnProperty.call(d,z)},J.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var ie={};return function(){function d(l,_){(_==null||_>l.length)&&(_=l.length);for(var p=0,C=new Array(_);p<_;p++)C[p]=l[p];return C}function z(l,_){if(l){if(typeof l=="string")return d(l,_);var p=Object.prototype.toString.call(l).slice(8,-1);return p==="Object"&&l.constructor&&(p=l.constructor.name),p==="Map"||p==="Set"?Array.from(l):p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p)?d(l,_):void 0}}function N(l){return function(_){if(Array.isArray(_))return d(_)}(l)||function(_){if(typeof Symbol<"u"&&_[Symbol.iterator]!=null||_["@@iterator"]!=null)return Array.from(_)}(l)||z(l)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function le(l,_,p){return _ in l?Object.defineProperty(l,_,{value:p,enumerable:!0,configurable:!0,writable:!0}):l[_]=p,l}J.r(ie),J.d(ie,{default:function(){return Be}});var m=J(789),G=(0,m.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var l=this.data,_=this.onClick;return(0,m.createVNode)("span",{class:"vjs-tree-brackets",onClick:_},[l])}}),se=(0,m.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(l,_){var p=_.emit;return{uiType:(0,m.computed)(function(){return l.isMultiple?"checkbox":"radio"}),model:(0,m.computed)({get:function(){return l.checked},set:function(C){return p("update:modelValue",C)}})}},render:function(){var l=this.uiType,_=this.model,p=this.$emit;return(0,m.createVNode)("label",{class:["vjs-check-controller",_?"is-checked":""],onClick:function(C){return C.stopPropagation()}},[(0,m.createVNode)("span",{class:"vjs-check-controller-inner is-".concat(l)},null),(0,m.createVNode)("input",{checked:_,class:"vjs-check-controller-original is-".concat(l),type:l,onChange:function(){return p("change",_)}},null)])}}),pe=(0,m.defineComponent)({props:{nodeType:{required:!0,type:String},onClick:Function},render:function(){var l=this.nodeType,_=this.onClick,p=l==="objectStart"||l==="arrayStart";return p||l==="objectCollapsed"||l==="arrayCollapsed"?(0,m.createVNode)("span",{class:"vjs-carets vjs-carets-".concat(p?"open":"close"),onClick:_},[(0,m.createVNode)("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"caret-down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[(0,m.createVNode)("path",{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"},null)])]):null}});function Q(l){return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},Q(l)}function ne(l){return Object.prototype.toString.call(l).slice(8,-1).toLowerCase()}function W(l){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,C=arguments.length>3?arguments[3]:void 0,$=C||{},O=$.key,R=$.index,n=$.type,H=n===void 0?"content":n,I=$.showComma,q=I!==void 0&&I,c=$.length,b=c===void 0?1:c,A=ne(l);if(A==="array"){var P=ee(l.map(function(T,S,s){return W(T,"".concat(_,"[").concat(S,"]"),p+1,{index:S,showComma:S!==s.length-1,length:b,type:H})}));return[W("[",_,p,{showComma:!1,key:O,length:l.length,type:"arrayStart"})[0]].concat(P,W("]",_,p,{showComma:q,length:l.length,type:"arrayEnd"})[0])}if(A==="object"){var x=Object.keys(l),te=ee(x.map(function(T,S,s){return W(l[T],/^[a-zA-Z_]\w*$/.test(T)?"".concat(_,".").concat(T):"".concat(_,'["').concat(T,'"]'),p+1,{key:T,showComma:S!==s.length-1,length:b,type:H})}));return[W("{",_,p,{showComma:!1,key:O,index:R,length:x.length,type:"objectStart"})[0]].concat(te,W("}",_,p,{showComma:q,length:x.length,type:"objectEnd"})[0])}return[{content:l,level:p,key:O,index:R,path:_,showComma:q,length:b,type:H}]}function ee(l){if(typeof Array.prototype.flat=="function")return l.flat();for(var _=N(l),p=[];_.length;){var C=_.shift();Array.isArray(C)?_.unshift.apply(_,N(C)):p.push(C)}return p}function re(l){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(l==null)return l;if(l instanceof Date)return new Date(l);if(l instanceof RegExp)return new RegExp(l);if(Q(l)!=="object")return l;if(_.get(l))return _.get(l);if(Array.isArray(l)){var p=l.map(function(O){return re(O,_)});return _.set(l,p),p}var C={};for(var $ in l)C[$]=re(l[$],_);return _.set(l,C),C}function fe(l,_){var p=Object.keys(l);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(l);_&&(C=C.filter(function($){return Object.getOwnPropertyDescriptor(l,$).enumerable})),p.push.apply(p,C)}return p}function oe(l){for(var _=1;_<arguments.length;_++){var p=arguments[_]!=null?arguments[_]:{};_%2?fe(Object(p),!0).forEach(function(C){le(l,C,p[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(p)):fe(Object(p)).forEach(function(C){Object.defineProperty(l,C,Object.getOwnPropertyDescriptor(p,C))})}return l}var ye={showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},renderNodeKey:Function,renderNodeValue:Function,selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},showLineNumber:{type:Boolean,default:!1},selectOnClickNode:{type:Boolean,default:!0},nodeSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},showKeyValueSpace:{type:Boolean,default:!0},editable:{type:Boolean,default:!1},editableTrigger:{type:String,default:"click"},onNodeClick:{type:Function},onBracketsClick:{type:Function},onIconClick:{type:Function},onValueChange:{type:Function}},Fe=(0,m.defineComponent)({name:"TreeNode",props:oe(oe({},ye),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,style:Object,onSelectedChange:{type:Function}}),emits:["nodeClick","bracketsClick","iconClick","selectedChange","valueChange"],setup:function(l,_){var p=_.emit,C=(0,m.computed)(function(){return ne(l.node.content)}),$=(0,m.computed)(function(){return"vjs-value vjs-value-".concat(C.value)}),O=(0,m.computed)(function(){return l.showDoubleQuotes?'"'.concat(l.node.key,'"'):l.node.key}),R=(0,m.computed)(function(){return l.selectableType==="multiple"}),n=(0,m.computed)(function(){return l.selectableType==="single"}),H=(0,m.computed)(function(){return l.nodeSelectable(l.node)&&(R.value||n.value)}),I=(0,m.reactive)({editing:!1}),q=function(S){var s,w,V=(w=(s=S.target)===null||s===void 0?void 0:s.value)==="null"?null:w==="undefined"?void 0:w==="true"||w!=="false"&&(w[0]+w[w.length-1]==='""'||w[0]+w[w.length-1]==="''"?w.slice(1,-1):typeof Number(w)=="number"&&!isNaN(Number(w))||w==="NaN"?Number(w):w);p("valueChange",V,l.node.path)},c=(0,m.computed)(function(){var S,s=(S=l.node)===null||S===void 0?void 0:S.content;return s===null?s="null":s===void 0&&(s="undefined"),C.value==="string"?'"'.concat(s,'"'):s+""}),b=function(){var S=l.renderNodeValue;return S?S({node:l.node,defaultValue:c.value}):c.value},A=function(){p("bracketsClick",!l.collapsed,l.node.path)},P=function(){p("iconClick",!l.collapsed,l.node.path)},x=function(){p("selectedChange",l.node)},te=function(){p("nodeClick",l.node),H.value&&l.selectOnClickNode&&p("selectedChange",l.node)},T=function(S){if(l.editable&&!I.editing){I.editing=!0;var s=function w(V){var F;V.target!==S.target&&((F=V.target)===null||F===void 0?void 0:F.parentElement)!==S.target&&(I.editing=!1,document.removeEventListener("click",w))};document.removeEventListener("click",s),document.addEventListener("click",s)}};return function(){var S,s=l.node;return(0,m.createVNode)("div",{class:{"vjs-tree-node":!0,"has-selector":l.showSelectController,"has-carets":l.showIcon,"is-highlight":l.highlightSelectedNode&&l.checked},onClick:te,style:l.style},[l.showLineNumber&&(0,m.createVNode)("span",{class:"vjs-node-index"},[s.id+1]),l.showSelectController&&H.value&&s.type!=="objectEnd"&&s.type!=="arrayEnd"&&(0,m.createVNode)(se,{isMultiple:R.value,checked:l.checked,onChange:x},null),(0,m.createVNode)("div",{class:"vjs-indent"},[Array.from(Array(s.level)).map(function(w,V){return(0,m.createVNode)("div",{key:V,class:{"vjs-indent-unit":!0,"has-line":l.showLine}},null)}),l.showIcon&&(0,m.createVNode)(pe,{nodeType:s.type,onClick:P},null)]),s.key&&(0,m.createVNode)("span",{class:"vjs-key"},[(S=l.renderNodeKey,S?S({node:l.node,defaultKey:O.value||""}):O.value),(0,m.createVNode)("span",{class:"vjs-colon"},[":".concat(l.showKeyValueSpace?" ":"")])]),(0,m.createVNode)("span",null,[s.type!=="content"&&s.content?(0,m.createVNode)(G,{data:s.content.toString(),onClick:A},null):(0,m.createVNode)("span",{class:$.value,onClick:!l.editable||l.editableTrigger&&l.editableTrigger!=="click"?void 0:T,onDblclick:l.editable&&l.editableTrigger==="dblclick"?T:void 0},[l.editable&&I.editing?(0,m.createVNode)("input",{value:c.value,onChange:q,style:{padding:"3px 8px",border:"1px solid #eee",boxShadow:"none",boxSizing:"border-box",borderRadius:5,fontFamily:"inherit"}},null):b()]),s.showComma&&(0,m.createVNode)("span",null,[","]),l.showLength&&l.collapsed&&(0,m.createVNode)("span",{class:"vjs-comment"},[(0,m.createTextVNode)(" // "),s.length,(0,m.createTextVNode)(" items ")])])])}}});function we(l,_){var p=Object.keys(l);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(l);_&&(C=C.filter(function($){return Object.getOwnPropertyDescriptor(l,$).enumerable})),p.push.apply(p,C)}return p}function L(l){for(var _=1;_<arguments.length;_++){var p=arguments[_]!=null?arguments[_]:{};_%2?we(Object(p),!0).forEach(function(C){le(l,C,p[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(p)):we(Object(p)).forEach(function(C){Object.defineProperty(l,C,Object.getOwnPropertyDescriptor(p,C))})}return l}var Be=(0,m.defineComponent)({name:"Tree",props:L(L({},ye),{},{data:{type:[String,Number,Boolean,Array,Object],default:null},collapsedNodeLength:{type:Number,default:1/0},deep:{type:Number,default:1/0},pathCollapsible:{type:Function,default:function(){return!1}},rootPath:{type:String,default:"root"},virtual:{type:Boolean,default:!1},height:{type:Number,default:400},itemHeight:{type:Number,default:20},selectedValue:{type:[String,Array],default:function(){return""}},collapsedOnClickBrackets:{type:Boolean,default:!0},style:Object,onSelectedChange:{type:Function}}),slots:["renderNodeKey","renderNodeValue"],emits:["nodeClick","bracketsClick","iconClick","selectedChange","update:selectedValue","update:data"],setup:function(l,_){var p=_.emit,C=_.slots,$=(0,m.ref)(),O=(0,m.computed)(function(){return W(l.data,l.rootPath)}),R=function(s,w){return O.value.reduce(function(V,F){var B,j=F.level>=s||F.length>=w,M=(B=l.pathCollapsible)===null||B===void 0?void 0:B.call(l,F);return F.type!=="objectStart"&&F.type!=="arrayStart"||!j&&!M?V:L(L({},V),{},le({},F.path,1))},{})},n=(0,m.reactive)({translateY:0,visibleData:null,hiddenPaths:R(l.deep,l.collapsedNodeLength)}),H=(0,m.computed)(function(){for(var s=null,w=[],V=O.value.length,F=0;F<V;F++){var B=L(L({},O.value[F]),{},{id:F}),j=n.hiddenPaths[B.path];if(s&&s.path===B.path){var M=s.type==="objectStart",ce=L(L(L({},B),s),{},{showComma:B.showComma,content:M?"{...}":"[...]",type:M?"objectCollapsed":"arrayCollapsed"});s=null,w.push(ce)}else{if(j&&!s){s=B;continue}if(s)continue;w.push(B)}}return w}),I=(0,m.computed)(function(){var s=l.selectedValue;return s&&l.selectableType==="multiple"&&Array.isArray(s)?s:[s]}),q=(0,m.computed)(function(){return!l.selectableType||l.selectOnClickNode||l.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}),c=function(){var s=H.value;if(l.virtual){var w,V=l.height/l.itemHeight,F=((w=$.value)===null||w===void 0?void 0:w.scrollTop)||0,B=Math.floor(F/l.itemHeight),j=B<0?0:B+V>s.length?s.length-V:B;j<0&&(j=0);var M=j+V;n.translateY=j*l.itemHeight,n.visibleData=s.filter(function(ce,Z){return Z>=j&&Z<M})}else n.visibleData=s},b=function(){c()},A=function(s){var w,V,F=s.path,B=l.selectableType;if(B==="multiple"){var j=I.value.findIndex(function(K){return K===F}),M=N(I.value);j!==-1?M.splice(j,1):M.push(F),p("update:selectedValue",M),p("selectedChange",M,N(I.value))}else if(B==="single"&&I.value[0]!==F){var ce=(w=I.value,V=1,function(K){if(Array.isArray(K))return K}(w)||function(K,de){var Y=K==null?null:typeof Symbol<"u"&&K[Symbol.iterator]||K["@@iterator"];if(Y!=null){var Ce,Ee,he=[],ve=!0,De=!1;try{for(Y=Y.call(K);!(ve=(Ce=Y.next()).done)&&(he.push(Ce.value),!de||he.length!==de);ve=!0);}catch($e){De=!0,Ee=$e}finally{try{ve||Y.return==null||Y.return()}finally{if(De)throw Ee}}return he}}(w,V)||z(w,V)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())[0],Z=F;p("update:selectedValue",Z),p("selectedChange",Z,ce)}},P=function(s){p("nodeClick",s)},x=function(s,w){if(s)n.hiddenPaths=L(L({},n.hiddenPaths),{},le({},w,1));else{var V=L({},n.hiddenPaths);delete V[w],n.hiddenPaths=V}},te=function(s,w){l.collapsedOnClickBrackets&&x(s,w),p("bracketsClick",s)},T=function(s,w){x(s,w),p("iconClick",s)},S=function(s,w){var V=re(l.data),F=l.rootPath;new Function("data","val","data".concat(w.slice(F.length),"=val"))(V,s),p("update:data",V)};return(0,m.watchEffect)(function(){q.value&&function(s){throw new Error("[VueJSONPretty] ".concat(s))}(q.value)}),(0,m.watchEffect)(function(){H.value&&c()}),(0,m.watch)(function(){return l.deep},function(s){s&&(n.hiddenPaths=R(s,l.collapsedNodeLength))}),(0,m.watch)(function(){return l.collapsedNodeLength},function(s){s&&(n.hiddenPaths=R(l.deep,s))}),function(){var s,w,V=(s=l.renderNodeKey)!==null&&s!==void 0?s:C.renderNodeKey,F=(w=l.renderNodeValue)!==null&&w!==void 0?w:C.renderNodeValue,B=n.visibleData&&n.visibleData.map(function(j){return(0,m.createVNode)(Fe,{key:j.id,node:j,collapsed:!!n.hiddenPaths[j.path],showDoubleQuotes:l.showDoubleQuotes,showLength:l.showLength,checked:I.value.includes(j.path),selectableType:l.selectableType,showLine:l.showLine,showLineNumber:l.showLineNumber,showSelectController:l.showSelectController,selectOnClickNode:l.selectOnClickNode,nodeSelectable:l.nodeSelectable,highlightSelectedNode:l.highlightSelectedNode,editable:l.editable,editableTrigger:l.editableTrigger,showIcon:l.showIcon,showKeyValueSpace:l.showKeyValueSpace,renderNodeKey:V,renderNodeValue:F,onNodeClick:P,onBracketsClick:te,onIconClick:T,onSelectedChange:A,onValueChange:S,style:l.itemHeight&&l.itemHeight!==20?{lineHeight:"".concat(l.itemHeight,"px")}:{}},null)});return(0,m.createVNode)("div",{ref:$,class:{"vjs-tree":!0,"is-virtual":l.virtual},onScroll:l.virtual?b:void 0,style:l.showLineNumber?L({paddingLeft:"".concat(12*Number(O.value.length.toString().length),"px")},l.style):l.style},[l.virtual?(0,m.createVNode)("div",{class:"vjs-tree-list",style:{height:"".concat(l.height,"px")}},[(0,m.createVNode)("div",{class:"vjs-tree-list-holder",style:{height:"".concat(H.value.length*l.itemHeight,"px")}},[(0,m.createVNode)("div",{class:"vjs-tree-list-holder-inner",style:{transform:"translateY(".concat(n.translateY,"px)")}},[B])])]):B])}}})}(),ie}()})})(qe);const Le=tt(qe.exports);const Qt={class:"container"},Yt={class:"action-icon"},Gt={class:"action-icon"},Wt={id:"tableSetting"},Zt={style:{"margin-right":"4px",cursor:"move"}},Xt={class:"title"},ea={style:{margin:"10px 0 0 10px"}},ta={key:1},aa={key:1},la={key:1},na={key:1},oa={key:1},ua={key:1},ia={key:1},sa={key:1},ra={key:1},ca={key:1},da={key:1},_a={key:1},ma={key:1},pa={key:1},fa={key:1},ya={key:1},ha={key:1},va={key:1},ka={key:1},ga={key:1},ba={key:1},wa={key:1},Ca={key:1},Ea={key:1},Da={key:1},Na={key:1},Sa={key:1},Va={key:1},Fa={key:1},Ba={key:1},$a={key:1},ja={key:1},xa={key:1},Oa={key:1},Ia={key:1},Aa={key:1},Pa={key:1},Ta={key:1},La={key:1},za={key:1},qa={key:1},Ma={key:1},Ua={key:1},Ha={key:1},Ka={key:1},Ra={key:1},Ja={key:1},Qa={key:1},Ya={key:1},Ga={key:1},Wa={key:1},Za={key:1},Xa={key:1},el={key:1},tl={key:1},al={key:1},ll={key:1},nl={key:1},ol={key:1},ul={key:1},il={key:1},sl={name:"ChatList"},rl=lt({...sl,setup(ue){const ge=Pe({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),_e=U([]);(async()=>{try{const{data:c}=await Ut();_e.value=c.items}catch{}})();const me=U([]);(async()=>{try{const{data:c}=await Ht();me.value=c.items}catch{}})();const ie=()=>({app_id:U(),trace_id:U(),user_id:U(),key:"",models:[],total_time:U(),status:U(),req_time:[]}),{loading:d,setLoading:z}=zt(!0),{t:N}=Je(),le=U([]),m=U(ie()),G=U([]),se=U([]),pe=U("medium"),Q={current:1,pageSize:10,showTotal:!0,showPageSize:!0,pageSizeOptions:[10,50,100,500,1e3]},ne=Pe({...Q}),W=Oe(()=>[{name:N("searchTable.size.mini"),value:"mini"},{name:N("searchTable.size.small"),value:"small"},{name:N("searchTable.size.medium"),value:"medium"},{name:N("searchTable.size.large"),value:"large"}]),ee=localStorage.getItem("userRole"),re=Oe(()=>[{title:N(ee==="admin"?"chat.columns.user_id":"chat.columns.app_id"),dataIndex:ee==="admin"?"user_id":"app_id",slotName:ee==="admin"?"user_id":"app_id",align:"center",width:75},{title:N("chat.columns.model"),dataIndex:"model",slotName:"model",align:"center"},{title:N("chat.columns.prompt_tokens"),dataIndex:"prompt_tokens",slotName:"prompt_tokens",align:"center"},{title:N("chat.columns.completion_tokens"),dataIndex:"completion_tokens",slotName:"completion_tokens",align:"center"},{title:N("chat.columns.total_price"),dataIndex:"total_tokens",slotName:"total_tokens",align:"center"},{title:N("chat.columns.stream"),dataIndex:"stream",slotName:"stream",align:"center"},{title:N("chat.columns.conn_time"),dataIndex:"conn_time",slotName:"conn_time",align:"center"},{title:N("chat.columns.duration"),dataIndex:"duration",slotName:"duration",align:"center"},{title:N("chat.columns.total_time"),dataIndex:"total_time",slotName:"total_time",align:"center"},{title:N("chat.columns.internal_time"),dataIndex:"internal_time",slotName:"internal_time",align:"center"},{title:N("chat.columns.status"),dataIndex:"status",slotName:"status",align:"center",width:65},{title:N("chat.columns.req_time"),dataIndex:"req_time",slotName:"req_time",align:"center",width:132},{title:N("chat.columns.operations"),dataIndex:"operations",slotName:"operations",align:"center",width:75}]);ee==="user"&&re.value.splice(9,1);const fe=Oe(()=>[{label:N("chat.dict.status.1"),value:1},{label:N("chat.dict.status.2"),value:2},{label:N("chat.dict.status.-1"),value:-1}]);ee==="admin"&&fe.value.push({label:N("chat.dict.status.3"),value:3},{label:N("chat.dict.status.-100"),value:-100});const oe=async(c={...Q})=>{z(!0);try{const{data:b}=await Rt(c);le.value=b.items,ne.current=c.current,ne.pageSize=c.pageSize,ne.total=b.paging.total}catch{}finally{z(!1)}},ye=()=>{oe({...Q,...m.value})},Fe=c=>{oe({...Q,...m.value,current:c})},we=c=>{Q.pageSize=c,oe({...Q,...m.value})};oe();const L=()=>{m.value=ie()},Be=(c,b)=>{pe.value=c},l=(c,b,A)=>{c?G.value.splice(A,0,b):G.value=se.value.filter(P=>P.dataIndex!==b.dataIndex)},_=(c,b,A,P=!1)=>{const x=P?xe(c):c;return b>-1&&A>-1&&x.splice(b,1,x.splice(A,1,x[b]).pop()),x},p=c=>{c&&it(()=>{const b=document.getElementById("tableSetting");new et(b,{onEnd(A){const{oldIndex:P,newIndex:x}=A;_(G.value,P,x),_(se.value,P,x)}})})};Te(()=>re.value,c=>{G.value=xe(c),G.value.forEach((b,A)=>{b.checked=!0}),se.value=xe(G.value)},{deep:!0,immediate:!0});const C=U(!1),{copy:$,copied:O}=Kt(),{proxy:R}=st(),n=U({}),H=async c=>{C.value=!0,d.value=!0;try{const{data:b}=await Jt({id:c});n.value=b}catch{}finally{d.value=!1}},I=()=>{C.value=!1},q=c=>{$(c)};return Te(O,()=>{O.value&&R.$message.success("\u590D\u5236\u6210\u529F")}),(c,b)=>{const A=Qe,P=rt,x=ct,te=dt,T=_t,S=mt,s=pt,w=ft,V=yt,F=ht,B=vt,j=kt,M=gt,ce=bt,Z=wt,K=Ye,de=Ct,Y=Et,Ce=Ge,Ee=Dt,he=Nt,ve=We,De=Ze,$e=St,Me=Vt,f=Ft,Ue=Bt,v=$t,k=jt,ke=xt,g=Ot,Ne=It,Ie=At,Ae=Pt,He=Tt,Ke=Lt,E=nt("permission");return t(),y("div",Qt,[a(x,{class:"container-breadcrumb"},{default:e(()=>[a(P,null,{default:e(()=>[a(A)]),_:1}),a(P,null,{default:e(()=>[r(i(c.$t("menu.chat")),1)]),_:1}),a(P,null,{default:e(()=>[r(i(c.$t("menu.chat.list")),1)]),_:1})]),_:1}),a(Ke,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 20px"}},{default:e(()=>[a(B,null,{default:e(()=>[a(s,{flex:1},{default:e(()=>[a(j,{model:m.value,"label-col-props":{span:5},"wrapper-col-props":{span:18},"label-align":"left"},{default:e(()=>[a(B,{gutter:16},{default:e(()=>[D((t(),o(s,{span:8},{default:e(()=>[a(S,{field:"app_id",label:c.$t("chat.form.app_id")},{default:e(()=>[a(T,{modelValue:m.value.app_id,"onUpdate:modelValue":b[0]||(b[0]=u=>m.value.app_id=u),placeholder:c.$t("chat.form.selectDefault"),"allow-search":"","allow-clear":""},{default:e(()=>[(t(!0),y(Se,null,Ve(_e.value,u=>(t(),o(te,{key:u.app_id,value:u.app_id,label:u.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[E,["user"]]]),D((t(),o(s,{span:8},{default:e(()=>[a(S,{field:"trace_id",label:c.$t("chat.form.trace_id")},{default:e(()=>[a(w,{modelValue:m.value.trace_id,"onUpdate:modelValue":b[1]||(b[1]=u=>m.value.trace_id=u),placeholder:c.$t("chat.form.trace_id.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[E,["admin"]]]),D((t(),o(s,{span:8},{default:e(()=>[a(S,{field:"user_id",label:c.$t("chat.form.user_id")},{default:e(()=>[a(w,{modelValue:m.value.user_id,"onUpdate:modelValue":b[2]||(b[2]=u=>m.value.user_id=u),placeholder:c.$t("chat.form.user_id.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[E,["admin"]]]),D((t(),o(s,{span:8},{default:e(()=>[a(S,{field:"key",label:c.$t("chat.form.key")},{default:e(()=>[a(w,{modelValue:m.value.key,"onUpdate:modelValue":b[3]||(b[3]=u=>m.value.key=u),placeholder:c.$t("chat.form.key.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[E,["user"]]]),a(s,{span:8},{default:e(()=>[a(S,{field:"models",label:c.$t("chat.form.models")},{default:e(()=>[a(T,{modelValue:m.value.models,"onUpdate:modelValue":b[4]||(b[4]=u=>m.value.models=u),placeholder:c.$t("chat.form.selectDefault"),"max-tag-count":2,multiple:"","allow-search":"","allow-clear":""},{default:e(()=>[(t(!0),y(Se,null,Ve(me.value,u=>(t(),o(te,{key:u.id,value:u.id,label:u.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(s,{span:8},{default:e(()=>[a(S,{field:"total_time",label:c.$t("chat.form.total_time")},{default:e(()=>[a(V,{modelValue:m.value.total_time,"onUpdate:modelValue":b[5]||(b[5]=u=>m.value.total_time=u),precision:0,min:1,placeholder:c.$t("chat.form.total_time.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(s,{span:8},{default:e(()=>[a(S,{field:"status",label:c.$t("chat.form.status")},{default:e(()=>[a(T,{modelValue:m.value.status,"onUpdate:modelValue":b[6]||(b[6]=u=>m.value.status=u),options:h(fe),placeholder:c.$t("chat.form.selectDefault"),"allow-clear":""},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),_:1}),a(s,{span:8},{default:e(()=>[a(S,{field:"req_time",label:c.$t("chat.form.req_time")},{default:e(()=>[a(F,{modelValue:m.value.req_time,"onUpdate:modelValue":b[7]||(b[7]=u=>m.value.req_time=u),placeholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"],"time-picker-props":{defaultValue:["00:00:00","23:59:59"]},"show-time":""},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),a(M,{style:{height:"84px"},direction:"vertical"}),a(s,{flex:"86px",style:{"text-align":"right"}},{default:e(()=>[a(de,{direction:"vertical",size:18},{default:e(()=>[a(Z,{type:"primary",onClick:ye},{icon:e(()=>[a(ce)]),default:e(()=>[r(" "+i(c.$t("chat.form.search")),1)]),_:1}),a(Z,{onClick:L},{icon:e(()=>[a(K)]),default:e(()=>[r(" "+i(c.$t("chat.form.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(M,{style:{"margin-top":"0"}}),a(B,{style:{"margin-bottom":"16px"}},{default:e(()=>[a(s,{span:12},{default:e(()=>[r(" \u82B1\u8D39 = ( \u63D0\u95EE \xD7 \u63D0\u95EE\u500D\u7387 + \u56DE\u7B54 \xD7 \u56DE\u7B54\u500D\u7387 ) \xF7 500000 \xA0\xA0\u6216\xA0\xA0 \u56DE\u7B54 \xF7 500000 ")]),_:1}),a(s,{span:12,style:{display:"flex","align-items":"center","justify-content":"end"}},{default:e(()=>[a(Y,{content:c.$t("searchTable.actions.refresh")},{default:e(()=>[X("div",{class:"action-icon",onClick:ye},[a(K,{size:"18"})])]),_:1},8,["content"]),a(he,{onSelect:Be},{content:e(()=>[(t(!0),y(Se,null,Ve(h(W),u=>(t(),o(Ee,{key:u.value,value:u.value,class:ot({active:u.value===pe.value})},{default:e(()=>[X("span",null,i(u.name),1)]),_:2},1032,["value","class"]))),128))]),default:e(()=>[a(Y,{content:c.$t("searchTable.actions.density")},{default:e(()=>[X("div",Yt,[a(Ce,{size:"18"})])]),_:1},8,["content"])]),_:1}),a(Y,{content:c.$t("searchTable.actions.columnSetting")},{default:e(()=>[a(Me,{trigger:"click",position:"bl",onPopupVisibleChange:p},{content:e(()=>[X("div",Wt,[(t(!0),y(Se,null,Ve(se.value,(u,ae)=>(t(),y("div",{key:u.dataIndex,class:"setting"},[X("div",Zt,[a(De)]),X("div",null,[a($e,{modelValue:u.checked,"onUpdate:modelValue":je=>u.checked=je,onChange:je=>l(je,u,ae)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),X("div",Xt,i(u.title==="#"?"\u5E8F\u5217\u53F7":u.title),1)]))),128))])]),default:e(()=>[X("div",Gt,[a(ve,{size:"18"})])]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),a(Ue,{"row-key":"id",loading:h(d),pagination:ne,columns:G.value,data:le.value,bordered:!1,size:pe.value,"row-selection":ge,onPageChange:Fe,onPageSizeChange:we},{user_id:e(({record:u})=>[r(i(u.is_smart_match?"-":u.user_id),1)]),prompt_tokens:e(({record:u})=>[r(i(u.prompt_tokens?u.prompt_tokens:u.status===1&&u.billing_method===2?0:"-"),1)]),completion_tokens:e(({record:u})=>[r(i(u.completion_tokens?u.completion_tokens:u.status===1&&u.billing_method===2?0:"-"),1)]),total_tokens:e(({record:u})=>[r(i(u.total_tokens?`$${h(qt)(u.total_tokens)}`:u.status===1&&u.billing_method===2?0:"-"),1)]),stream:e(({record:u})=>[r(i(c.$t(`chat.dict.stream.${u.stream||!1}`)),1)]),conn_time:e(({record:u})=>[u.conn_time>3e4?D((t(),o(f,{key:0,color:"red"},{default:e(()=>[r(i(u.conn_time),1)]),_:2},1024)),[[E,["user"]]]):u.conn_time>15e3?D((t(),o(f,{key:1,color:"orange"},{default:e(()=>[r(i(u.conn_time),1)]),_:2},1024)),[[E,["user"]]]):u.conn_time>5e3?D((t(),o(f,{key:2,color:"gold"},{default:e(()=>[r(i(u.conn_time),1)]),_:2},1024)),[[E,["user"]]]):D((t(),o(f,{key:3,color:"green"},{default:e(()=>[r(i(u.conn_time||"-"),1)]),_:2},1024)),[[E,["user"]]]),u.conn_time>1e4?D((t(),o(f,{key:4,color:"red"},{default:e(()=>[r(i(u.conn_time),1)]),_:2},1024)),[[E,["admin"]]]):u.conn_time>5e3?D((t(),o(f,{key:5,color:"orange"},{default:e(()=>[r(i(u.conn_time),1)]),_:2},1024)),[[E,["admin"]]]):u.conn_time>3e3?D((t(),o(f,{key:6,color:"gold"},{default:e(()=>[r(i(u.conn_time),1)]),_:2},1024)),[[E,["admin"]]]):D((t(),o(f,{key:7,color:"green"},{default:e(()=>[r(i(u.conn_time||"-"),1)]),_:2},1024)),[[E,["admin"]]])]),duration:e(({record:u})=>[u.duration>18e4?D((t(),o(f,{key:0,color:"red"},{default:e(()=>[r(i(u.duration),1)]),_:2},1024)),[[E,["user"]]]):u.duration>12e4?D((t(),o(f,{key:1,color:"orange"},{default:e(()=>[r(i(u.duration),1)]),_:2},1024)),[[E,["user"]]]):u.duration>9e4?D((t(),o(f,{key:2,color:"gold"},{default:e(()=>[r(i(u.duration),1)]),_:2},1024)),[[E,["user"]]]):D((t(),o(f,{key:3,color:"green"},{default:e(()=>[r(i(u.duration||"-"),1)]),_:2},1024)),[[E,["user"]]]),u.duration>12e4?D((t(),o(f,{key:4,color:"red"},{default:e(()=>[r(i(u.duration),1)]),_:2},1024)),[[E,["admin"]]]):u.duration>9e4?D((t(),o(f,{key:5,color:"orange"},{default:e(()=>[r(i(u.duration),1)]),_:2},1024)),[[E,["admin"]]]):u.duration>6e4?D((t(),o(f,{key:6,color:"gold"},{default:e(()=>[r(i(u.duration),1)]),_:2},1024)),[[E,["admin"]]]):D((t(),o(f,{key:7,color:"green"},{default:e(()=>[r(i(u.duration||"-"),1)]),_:2},1024)),[[E,["admin"]]])]),total_time:e(({record:u})=>[u.total_time>18e4?D((t(),o(f,{key:0,color:"red"},{default:e(()=>[r(i(u.total_time),1)]),_:2},1024)),[[E,["user"]]]):u.total_time>12e4?D((t(),o(f,{key:1,color:"orange"},{default:e(()=>[r(i(u.total_time),1)]),_:2},1024)),[[E,["user"]]]):u.total_time>9e4?D((t(),o(f,{key:2,color:"gold"},{default:e(()=>[r(i(u.total_time),1)]),_:2},1024)),[[E,["user"]]]):D((t(),o(f,{key:3,color:"green"},{default:e(()=>[r(i(u.total_time||"-"),1)]),_:2},1024)),[[E,["user"]]]),u.total_time>12e4?D((t(),o(f,{key:4,color:"red"},{default:e(()=>[r(i(u.total_time),1)]),_:2},1024)),[[E,["admin"]]]):u.total_time>9e4?D((t(),o(f,{key:5,color:"orange"},{default:e(()=>[r(i(u.total_time),1)]),_:2},1024)),[[E,["admin"]]]):u.total_time>6e4?D((t(),o(f,{key:6,color:"gold"},{default:e(()=>[r(i(u.total_time),1)]),_:2},1024)),[[E,["admin"]]]):D((t(),o(f,{key:7,color:"green"},{default:e(()=>[r(i(u.total_time||"-"),1)]),_:2},1024)),[[E,["admin"]]])]),internal_time:e(({record:u})=>[u.internal_time>1e3?D((t(),o(f,{key:0,color:"red"},{default:e(()=>[r(i(u.internal_time),1)]),_:2},1024)),[[E,["user"]]]):u.internal_time>500?D((t(),o(f,{key:1,color:"orange"},{default:e(()=>[r(i(u.internal_time),1)]),_:2},1024)),[[E,["user"]]]):u.internal_time>300?D((t(),o(f,{key:2,color:"gold"},{default:e(()=>[r(i(u.internal_time),1)]),_:2},1024)),[[E,["user"]]]):D((t(),o(f,{key:3,color:"green"},{default:e(()=>[r(i(u.internal_time||"-"),1)]),_:2},1024)),[[E,["user"]]]),u.internal_time>500?D((t(),o(f,{key:4,color:"red"},{default:e(()=>[r(i(u.internal_time),1)]),_:2},1024)),[[E,["admin"]]]):u.internal_time>300?D((t(),o(f,{key:5,color:"orange"},{default:e(()=>[r(i(u.internal_time),1)]),_:2},1024)),[[E,["admin"]]]):u.internal_time>100?D((t(),o(f,{key:6,color:"gold"},{default:e(()=>[r(i(u.internal_time),1)]),_:2},1024)),[[E,["admin"]]]):D((t(),o(f,{key:7,color:"green"},{default:e(()=>[r(i(u.internal_time||"-"),1)]),_:2},1024)),[[E,["admin"]]])]),status:e(({record:u})=>[u.status===-1?(t(),o(f,{key:0,color:"red"},{default:e(()=>[r(i(c.$t(`chat.dict.status.${u.status}`)),1)]),_:2},1024)):u.status===2?(t(),o(f,{key:1,color:"gold"},{default:e(()=>[r(i(c.$t(`chat.dict.status.${u.status}`)),1)]),_:2},1024)):u.status===3?(t(),o(f,{key:2,color:"orange"},{default:e(()=>[r(i(c.$t(`chat.dict.status.${u.status}`)),1)]),_:2},1024)):(t(),o(f,{key:3,color:"green"},{default:e(()=>[r(i(c.$t(`chat.dict.status.${u.status}`)),1)]),_:2},1024))]),operations:e(({record:u})=>[a(Z,{type:"text",size:"small",onClick:ae=>H(u.id)},{default:e(()=>[r(i(c.$t("chat.columns.operations.view")),1)]),_:2},1032,["onClick"])]),_:1},8,["loading","pagination","columns","data","size","row-selection"]),a(He,{title:"\u65E5\u5FD7\u8BE6\u60C5",visible:C.value,width:700,footer:!1,"unmount-on-close":"","render-to-body":"",onCancel:I},{default:e(()=>[X("div",ea,[D((t(),o(Ne,{column:2,bordered:""},{default:e(()=>[a(g,{label:"Trace ID",span:2},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",ta,[r(i(n.value.trace_id)+" ",1),a(ke,{class:"copy-btn",onClick:b[8]||(b[8]=u=>q(n.value.trace_id))})]))]),_:1}),a(g,{label:"\u8C03\u7528\u5BC6\u94A5",span:2},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",aa,[r(i(n.value.creator)+" ",1),a(ke,{class:"copy-btn",onClick:b[9]||(b[9]=u=>q(n.value.creator))})]))]),_:1}),a(g,{label:"\u7528\u6237ID"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{widths:["200px"],rows:1})]),_:1})):(t(),y("span",la,i(n.value.user_id||"-"),1))]),_:1}),a(g,{label:"\u5E94\u7528ID"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{widths:["200px"],rows:1})]),_:1})):(t(),y("span",na,i(n.value.app_id||"-"),1))]),_:1}),a(g,{label:"\u516C\u53F8"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",oa,i(n.value.corp_name),1))]),_:1}),a(g,{label:"\u6A21\u578B"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",ua,i(n.value.model||"-"),1))]),_:1}),a(g,{label:"\u6A21\u578B\u7C7B\u578B"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",ia,i(c.$t(`chat.dict.type.${n.value.type}`)),1))]),_:1}),a(g,{label:"\u6D41\u5F0F"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",sa,i(c.$t(`chat.dict.stream.${n.value.stream||!1}`)),1))]),_:1}),a(g,{label:"\u63D0\u95EE",span:2},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",ra,i(n.value.prompt||"-"),1))]),_:1}),a(g,{label:"\u56DE\u7B54",span:2},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",ca,i(n.value.completion||"-"),1))]),_:1}),a(g,{label:"\u8BA1\u8D39\u65B9\u5F0F"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",da,i(c.$t(`chat.dict.billing_method.${n.value.billing_method}`)),1))]),_:1}),a(g,{label:"\u603B\u6D88\u8017\u4EE4\u724C\u6570"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",_a,i(n.value.total_tokens?n.value.total_tokens:n.value.status===1&&n.value.billing_method===2?0:"-"),1))]),_:1}),a(g,{label:"\u63D0\u95EE\u500D\u7387"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",ma,i(n.value.prompt_ratio||"-"),1))]),_:1}),a(g,{label:"\u56DE\u7B54\u500D\u7387"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",pa,i(n.value.completion_ratio||"-"),1))]),_:1}),a(g,{label:"\u63D0\u95EE\u4EE4\u724C\u6570"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",fa,i(n.value.prompt_tokens||"-"),1))]),_:1}),a(g,{label:"\u56DE\u7B54\u4EE4\u724C\u6570"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",ya,i(n.value.completion_tokens||"-"),1))]),_:1}),a(g,{label:"\u8FDE\u63A5\u8017\u65F6"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",ha,[n.value.conn_time>3e4?(t(),o(f,{key:0,color:"red"},{default:e(()=>[r(i(n.value.conn_time)+" ms ",1)]),_:1})):n.value.conn_time>15e3?(t(),o(f,{key:1,color:"orange"},{default:e(()=>[r(i(n.value.conn_time)+" ms ",1)]),_:1})):n.value.conn_time>5e3?(t(),o(f,{key:2,color:"gold"},{default:e(()=>[r(i(n.value.conn_time)+" ms ",1)]),_:1})):(t(),o(f,{key:3,color:"green"},{default:e(()=>[r(i(n.value.conn_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(g,{label:"\u6301\u7EED\u65F6\u957F"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",va,[n.value.duration>18e4?(t(),o(f,{key:0,color:"red"},{default:e(()=>[r(i(n.value.duration)+" ms ",1)]),_:1})):n.value.duration>12e4?(t(),o(f,{key:1,color:"orange"},{default:e(()=>[r(i(n.value.duration)+" ms ",1)]),_:1})):n.value.duration>9e4?(t(),o(f,{key:2,color:"gold"},{default:e(()=>[r(i(n.value.duration)+" ms ",1)]),_:1})):(t(),o(f,{key:3,color:"green"},{default:e(()=>[r(i(n.value.duration||"-")+" ms",1)]),_:1}))]))]),_:1}),a(g,{label:"\u603B\u8017\u65F6"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",ka,[n.value.total_time>18e4?(t(),o(f,{key:0,color:"red"},{default:e(()=>[r(i(n.value.total_time)+" ms ",1)]),_:1})):n.value.total_time>12e4?(t(),o(f,{key:1,color:"orange"},{default:e(()=>[r(i(n.value.total_time)+" ms ",1)]),_:1})):n.value.total_time>9e4?(t(),o(f,{key:2,color:"gold"},{default:e(()=>[r(i(n.value.total_time)+" ms ",1)]),_:1})):(t(),o(f,{key:3,color:"green"},{default:e(()=>[r(i(n.value.total_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(g,{label:"\u7ED3\u679C"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",ga,[n.value.status===1?(t(),o(f,{key:0,color:"green"},{default:e(()=>[r(i(c.$t(`chat.dict.status.${n.value.status}`)),1)]),_:1})):n.value.status===2?(t(),o(f,{key:1,color:"gold"},{default:e(()=>[r(i(c.$t(`chat.dict.status.${n.value.status}`)),1)]),_:1})):n.value.status===3?(t(),o(f,{key:2,color:"orange"},{default:e(()=>[r(i(c.$t(`chat.dict.status.${n.value.status}`)),1)]),_:1})):(t(),o(f,{key:3,color:"red"},{default:e(()=>[r(i(c.$t(`chat.dict.status.${n.value.status}`)),1)]),_:1}))]))]),_:1}),a(g,{label:"\u5BA2\u6237\u7AEFIP"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{widths:["200px"],rows:1})]),_:1})):(t(),y("span",ba,i(n.value.client_ip||"-"),1))]),_:1}),a(g,{label:"\u8BF7\u6C42\u65F6\u95F4"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{widths:["200px"],rows:1})]),_:1})):(t(),y("span",wa,i(n.value.req_time||"-"),1))]),_:1}),a(g,{label:"\u9519\u8BEF\u4FE1\u606F",span:2},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",Ca,i(n.value.err_msg||"-"),1))]),_:1})]),_:1})),[[E,["user"]]]),D((t(),o(Ne,{column:2,bordered:""},{default:e(()=>[a(g,{label:"Trace ID",span:2},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",Ea,[r(i(n.value.trace_id)+" ",1),a(ke,{class:"copy-btn",onClick:b[10]||(b[10]=u=>q(n.value.trace_id))})]))]),_:1}),a(g,{label:"\u8C03\u7528\u5BC6\u94A5",span:2},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",Da,[r(i(n.value.is_smart_match?"-":n.value.creator)+" ",1),n.value.is_smart_match?ut("",!0):(t(),o(ke,{key:0,class:"copy-btn",onClick:b[11]||(b[11]=u=>q(n.value.creator))}))]))]),_:1}),a(g,{label:"\u7528\u6237ID"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{widths:["200px"],rows:1})]),_:1})):(t(),y("span",Na,i(n.value.is_smart_match?"-":n.value.user_id||"-"),1))]),_:1}),a(g,{label:"\u5E94\u7528ID"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{widths:["200px"],rows:1})]),_:1})):(t(),y("span",Sa,i(n.value.is_smart_match?"-":n.value.app_id||"-"),1))]),_:1}),a(g,{label:"\u516C\u53F8"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",Va,i(n.value.corp_name),1))]),_:1}),a(g,{label:"\u6A21\u578B\u7C7B\u578B"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",Fa,i(c.$t(`chat.dict.type.${n.value.type}`)),1))]),_:1}),a(g,{label:"\u8BF7\u6C42\u6A21\u578B\u540D\u79F0"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{widths:["200px"],rows:1})]),_:1})):(t(),y("span",Ba,i(n.value.name||"-"),1))]),_:1}),a(g,{label:"\u8BF7\u6C42\u6A21\u578B"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",$a,i(n.value.model||"-"),1))]),_:1}),a(g,{label:"\u771F\u5B9E\u6A21\u578B\u540D\u79F0"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",ja,i(n.value.real_model_name),1))]),_:1}),a(g,{label:"\u771F\u5B9E\u6A21\u578B"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",xa,i(n.value.real_model),1))]),_:1}),a(g,{label:"\u542F\u7528\u540E\u5907"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",Oa,i(c.$t(`chat.dict.is_enable_fallback.${n.value.is_enable_fallback||!1}`)),1))]),_:1}),a(g,{label:"\u540E\u5907\u6A21\u578B"},{default:e(()=>{var u,ae;return[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{widths:["200px"],rows:1})]),_:1})):(t(),y("span",Ia,i(((ae=(u=n.value)==null?void 0:u.fallback_config)==null?void 0:ae.fallback_model)||"-"),1))]}),_:1}),a(g,{label:"\u542F\u7528\u8F6C\u53D1"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",Aa,i(c.$t(`chat.dict.is_enable_forward.${n.value.is_enable_forward||!1}`)),1))]),_:1}),a(g,{label:"\u8F6C\u53D1\u89C4\u5219"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",Pa,i(n.value.is_enable_forward?c.$t(`chat.dict.forward_rule.${n.value.forward_config.forward_rule||"1"}`):"-"),1))]),_:1}),a(g,{label:"\u542F\u7528\u4EE3\u7406"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",Ta,i(c.$t(`chat.dict.is_enable_model_agent.${n.value.is_enable_model_agent||!1}`)),1))]),_:1}),a(g,{label:"\u4EE3\u7406\u540D\u79F0"},{default:e(()=>{var u,ae;return[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{widths:["200px"],rows:1})]),_:1})):(t(),y("span",La,i(((ae=(u=n.value)==null?void 0:u.model_agent)==null?void 0:ae.name)||"-"),1))]}),_:1}),a(g,{label:"\u5BC6\u94A5",span:2},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",za,[r(i(n.value.key||"-")+" ",1),a(ke,{class:"copy-btn",onClick:b[12]||(b[12]=u=>q(n.value.key))})]))]),_:1}),a(g,{label:"\u63D0\u95EE",span:2},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",qa,i(n.value.prompt||"-"),1))]),_:1}),a(g,{label:"\u56DE\u7B54",span:2},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",Ma,i(n.value.completion||"-"),1))]),_:1}),a(g,{label:"\u8BA1\u8D39\u65B9\u5F0F"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",Ua,i(c.$t(`chat.dict.billing_method.${n.value.billing_method}`)),1))]),_:1}),a(g,{label:"\u603B\u6D88\u8017\u4EE4\u724C\u6570"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",Ha,i(n.value.total_tokens?n.value.total_tokens:n.value.status===1&&n.value.billing_method===2?0:"-"),1))]),_:1}),a(g,{label:"\u63D0\u95EE\u500D\u7387"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",Ka,i(n.value.prompt_ratio||"-"),1))]),_:1}),a(g,{label:"\u56DE\u7B54\u500D\u7387"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",Ra,i(n.value.completion_ratio||"-"),1))]),_:1}),a(g,{label:"\u63D0\u95EE\u4EE4\u724C\u6570"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",Ja,i(n.value.prompt_tokens||"-"),1))]),_:1}),a(g,{label:"\u56DE\u7B54\u4EE4\u724C\u6570"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",Qa,i(n.value.completion_tokens||"-"),1))]),_:1}),a(g,{label:"\u8FDE\u63A5\u8017\u65F6"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",Ya,[n.value.conn_time>1e4?(t(),o(f,{key:0,color:"red"},{default:e(()=>[r(i(n.value.conn_time)+" ms ",1)]),_:1})):n.value.conn_time>5e3?(t(),o(f,{key:1,color:"orange"},{default:e(()=>[r(i(n.value.conn_time)+" ms ",1)]),_:1})):n.value.conn_time>3e3?(t(),o(f,{key:2,color:"gold"},{default:e(()=>[r(i(n.value.conn_time)+" ms ",1)]),_:1})):(t(),o(f,{key:3,color:"green"},{default:e(()=>[r(i(n.value.conn_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(g,{label:"\u6301\u7EED\u65F6\u957F"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",Ga,[n.value.duration>12e4?(t(),o(f,{key:0,color:"red"},{default:e(()=>[r(i(n.value.duration)+" ms ",1)]),_:1})):n.value.duration>9e4?(t(),o(f,{key:1,color:"orange"},{default:e(()=>[r(i(n.value.duration)+" ms ",1)]),_:1})):n.value.duration>6e4?(t(),o(f,{key:2,color:"gold"},{default:e(()=>[r(i(n.value.duration)+" ms ",1)]),_:1})):(t(),o(f,{key:3,color:"green"},{default:e(()=>[r(i(n.value.duration||"-")+" ms",1)]),_:1}))]))]),_:1}),a(g,{label:"\u603B\u8017\u65F6"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",Wa,[n.value.total_time>12e4?(t(),o(f,{key:0,color:"red"},{default:e(()=>[r(i(n.value.total_time)+" ms ",1)]),_:1})):n.value.total_time>9e4?(t(),o(f,{key:1,color:"orange"},{default:e(()=>[r(i(n.value.total_time)+" ms ",1)]),_:1})):n.value.total_time>6e4?(t(),o(f,{key:2,color:"gold"},{default:e(()=>[r(i(n.value.total_time)+" ms ",1)]),_:1})):(t(),o(f,{key:3,color:"green"},{default:e(()=>[r(i(n.value.total_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(g,{label:"\u5185\u8017"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",Za,[n.value.internal_time>500?(t(),o(f,{key:0,color:"red"},{default:e(()=>[r(i(n.value.internal_time)+" ms ",1)]),_:1})):n.value.internal_time>300?(t(),o(f,{key:1,color:"orange"},{default:e(()=>[r(i(n.value.internal_time)+" ms ",1)]),_:1})):n.value.internal_time>100?(t(),o(f,{key:2,color:"gold"},{default:e(()=>[r(i(n.value.internal_time)+" ms ",1)]),_:1})):(t(),o(f,{key:3,color:"green"},{default:e(()=>[r(i(n.value.internal_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(g,{label:"\u7ED3\u679C"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",Xa,[n.value.status===1?(t(),o(f,{key:0,color:"green"},{default:e(()=>[r(i(c.$t(`chat.dict.status.${n.value.status}`)),1)]),_:1})):n.value.status===2?(t(),o(f,{key:1,color:"gold"},{default:e(()=>[r(i(c.$t(`chat.dict.status.${n.value.status}`)),1)]),_:1})):n.value.status===3?(t(),o(f,{key:2,color:"orange"},{default:e(()=>[r(i(c.$t(`chat.dict.status.${n.value.status}`)),1)]),_:1})):(t(),o(f,{key:3,color:"red"},{default:e(()=>[r(i(c.$t(`chat.dict.status.${n.value.status}`)),1)]),_:1}))]))]),_:1}),a(g,{label:"\u672C\u5730IP"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{widths:["200px"],rows:1})]),_:1})):(t(),y("span",el,i(n.value.local_ip||"-"),1))]),_:1}),a(g,{label:"\u5BA2\u6237\u7AEFIP"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{widths:["200px"],rows:1})]),_:1})):(t(),y("span",tl,i(n.value.client_ip||"-"),1))]),_:1}),a(g,{label:"\u8FDC\u7A0BIP"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{widths:["200px"],rows:1})]),_:1})):(t(),y("span",al,i(n.value.remote_ip||"-"),1))]),_:1}),a(g,{label:"\u8BF7\u6C42\u65F6\u95F4"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{widths:["200px"],rows:1})]),_:1})):(t(),y("span",ll,i(n.value.req_time||"-"),1))]),_:1}),a(g,{label:"\u521B\u5EFA\u65F6\u95F4"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{widths:["200px"],rows:1})]),_:1})):(t(),y("span",nl,i(n.value.created_at||"-"),1))]),_:1}),a(g,{label:"\u9519\u8BEF\u4FE1\u606F",span:2},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:1})]),_:1})):(t(),y("span",ol,i(n.value.err_msg||"-"),1))]),_:1})]),_:1})),[[E,["admin"]]]),a(Ne,{layout:"inline-vertical",column:2,style:{"margin-top":"10px",position:"relative"}},{default:e(()=>[a(g,{span:2},{default:e(()=>[a(Ae,{type:"card"},{default:e(()=>[a(Ie,{key:"1",title:"\u63D0\u95EE\u4E0A\u4E0B\u6587"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:3})]),_:1})):(t(),o(de,{key:1},{default:e(()=>[n.value.messages?(t(),o(h(Le),{key:0,path:"res",data:n.value.messages,"show-length":!0},null,8,["data"])):(t(),y("span",ul,"\u65E0"))]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}),D((t(),o(Ne,{layout:"inline-vertical",column:2,style:{"margin-top":"10px",position:"relative"}},{default:e(()=>[a(g,{span:2},{default:e(()=>[a(Ae,{type:"card"},{default:e(()=>[a(Ie,{key:"1",title:"\u6A21\u578B\u4EE3\u7406"},{default:e(()=>[h(d)?(t(),o(k,{key:0,animation:!0},{default:e(()=>[a(v,{rows:3})]),_:1})):(t(),o(de,{key:1},{default:e(()=>[n.value.model_agent?(t(),o(h(Le),{key:0,data:n.value.model_agent,"show-length":!0},null,8,["data"])):(t(),y("span",il,"\u65E0"))]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})),[[E,["admin"]]])])]),_:1},8,["visible"])]),_:1})])}}});const Ll=Xe(rl,[["__scopeId","data-v-8c1a2fcc"]]);export{Ll as default};
