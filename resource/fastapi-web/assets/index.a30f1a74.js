import{u as pl,H as fl,p as vl,y as _l,i as gl,z as bl,_ as yl}from"./index.79469fea.js";/* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css               */import{d as kl,r as De,e as n,c as X,w as Cl,B as o,C as c,aH as a,aG as u,aL as i,aM as d,aJ as S,aI as U,aD as f,u as v,aE as C,F as q,D as $l,n as El,aK as hl,aF as Fl,bA as wl,bB as Bl,b2 as Dl,bC as Vl,b1 as ql,bD as Al,b5 as Il,bE as zl,ab as xl,aU as Sl,bi as Ul,bj as Ml,bl as Ll,bm as Ol,b4 as Hl,bF as Nl,aT as Pl,bG as Tl,bH as Ql,aV as Rl,a_ as jl,bZ as Gl,bI as Jl,g as Zl}from"./arco.3652aec2.js";import{u as Kl}from"./loading.83b7fc7f.js";import{p as B,q as se}from"./common.4fed7ae4.js";import{q as Wl,s as Xl,a as Yl,b as et,c as lt,d as tt}from"./model.2c1583e5.js";import{c as de,S as at}from"./sortable.esm.31555a8f.js";import{f as ut}from"./agent.dc8b13c4.js";import{q as ot}from"./corp.56fe3169.js";import nt from"./index.690bc6a0.js";import"./chart.f81658ef.js";import"./vue.4b1b521c.js";import"./base.87fcf6e2.js";/* empty css                *//* empty css                */const it={class:"container"},st={class:"action-icon"},dt={class:"action-icon"},rt={id:"tableSetting"},mt={style:{"margin-right":"4px",cursor:"move"}},ct={class:"title"},pt={key:0},ft={key:1},vt={key:2},_t={key:3},gt={key:4},bt={key:5},yt={key:0},kt={key:1},Ct={key:2},$t={key:3},Et={key:4},ht={key:5},Ft={name:"ModelList"},wt=kl({...Ft,setup(Bt){const{loading:Ve,setLoading:y}=Kl(!0),{proxy:M}=Zl(),qe=De({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),re=n([]);(async()=>{y(!0);try{const{data:e}=await ot();re.value=e.items}catch{}finally{y(!1)}})();const Y=n([]);(async()=>{try{const{data:e}=await Wl();Y.value=e.items}catch{}})();const me=n([]);(async()=>{try{const{data:e}=await ut();me.value=e.items}catch{}})();const Ae=async e=>{y(!0);try{await Xl(e),M.$message.success("\u5220\u9664\u6210\u529F"),L()}catch{}finally{y(!1)}},ce=()=>({corp:"",name:"",model:"",type:n(),status:n(),remark:""}),{t:p}=pl(),k=n([]),_=n(ce()),A=n([]),R=n([]),ee=n("medium"),g=n([]),s=n(!0),pe=n();let fe=!1;const I={current:1,pageSize:20,showTotal:!0,showPageSize:!0,pageSizeOptions:[20,50,100,500,1e3]},j=De({...I}),Ie=X(()=>[{name:p("size.mini"),value:"mini"},{name:p("size.small"),value:"small"},{name:p("size.medium"),value:"medium"},{name:p("size.large"),value:"large"}]),ze=X(()=>[{title:p("model.columns.corp"),dataIndex:"corp_name",slotName:"corp_name",align:"center",width:110},{title:p("model.columns.name"),dataIndex:"name",slotName:"name",align:"center",ellipsis:!0,tooltip:!0},{title:p("model.columns.model"),dataIndex:"model",slotName:"model",align:"center",ellipsis:!0,tooltip:!0},{title:p("model.columns.prompt_price"),dataIndex:"prompt_ratio",slotName:"prompt_ratio",align:"center"},{title:p("model.columns.completion_price"),dataIndex:"completion_ratio",slotName:"completion_ratio",align:"center"},{title:p("model.columns.status"),dataIndex:"status",slotName:"status",align:"center",width:65},{title:p("model.columns.updated_at"),dataIndex:"updated_at",slotName:"updated_at",align:"center",width:132},{title:p("model.columns.operations"),dataIndex:"operations",slotName:"operations",align:"center",width:170}]),xe=X(()=>[{label:p("model.dict.type.1"),value:1},{label:p("model.dict.type.2"),value:2},{label:p("model.dict.type.3"),value:3},{label:p("model.dict.type.4"),value:4},{label:p("model.dict.type.100"),value:100}]),Se=X(()=>[{label:p("model.dict.status.1"),value:1},{label:p("model.dict.status.2"),value:2}]),G=async(e={...I})=>{y(!0);try{const{data:t}=await Yl(e);k.value=t.items,j.current=e.current,j.pageSize=e.pageSize,j.total=t.paging.total,fe=t.items.length===0}catch{}finally{y(!1)}},L=()=>{G({...I,..._.value})},Ue=e=>{G({...I,..._.value,current:e})},Me=e=>{I.pageSize=e,G({...I,..._.value})};G();const Le=()=>{_.value=ce()},Oe=async e=>{y(!0);try{await et(e),M.$message.success("\u64CD\u4F5C\u6210\u529F"),L()}catch{}finally{y(!1)}},He=(e,t)=>{ee.value=e},Ne=(e,t,r)=>{e?A.value.splice(r,0,t):A.value=R.value.filter(h=>h.dataIndex!==t.dataIndex)},ve=(e,t,r,h=!1)=>{const D=h?de(e):e;return t>-1&&r>-1&&D.splice(t,1,D.splice(r,1,D[t]).pop()),D},Pe=e=>{e&&El(()=>{const t=document.getElementById("tableSetting");new at(t,{onEnd(r){const{oldIndex:h,newIndex:D}=r;ve(A.value,h,D),ve(R.value,h,D)}})})};Cl(()=>ze.value,e=>{A.value=de(e),A.value.forEach((t,r)=>{t.checked=!0}),R.value=de(A.value)},{deep:!0,immediate:!0});const O=n(!1),_e=n(),E=n({}),ge=n(),H=n(!1),J=n({}),Te=async()=>{y(!0);try{E.value.url="",E.value.key="",E.value.is_config_model_agent=!0,O.value=!0}catch{}finally{y(!1)}},Qe=async e=>{var r;if(await((r=_e.value)==null?void 0:r.validate())){O.value=!0,e(!1);return}y(!0);try{await lt(E.value),e(),window.location.reload()}catch{e(!1)}finally{y(!1)}},Re=()=>{O.value=!1},je=async e=>{var r;if(await((r=ge.value)==null?void 0:r.validate())){H.value=!0,e(!1);return}e(),b({action:"agent",value:"all",model_agents:J.value.model_agents})},Ge=()=>{H.value=!1},be=n(),N=n(!1),Z=n({}),Je=async e=>{var r;if(await((r=be.value)==null?void 0:r.validate())){N.value=!0,e(!1);return}e(),b({action:"forward",value:"all",target_model:Z.value.target_model})},Ze=()=>{N.value=!1},ye=n(),P=n(!1),K=n({}),Ke=async e=>{var r;if(await((r=ye.value)==null?void 0:r.validate())){P.value=!0,e(!1);return}e(),b({action:"fallback",value:"all",fallback_model:K.value.fallback_model})},We=()=>{P.value=!1},Xe=e=>{g.value=e,s.value=!e.length},b=e=>{if(g.value.length===0)M.$message.info("\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E");else{let t=`\u662F\u5426\u786E\u5B9A\u64CD\u4F5C\u6240\u9009\u7684${g.value.length}\u6761\u6570\u636E?`;switch(e.action){case"agent":e.value===!0?t=`\u662F\u5426\u786E\u5B9A\u542F\u7528\u6240\u9009${g.value.length}\u6761\u6570\u636E\u7684\u6A21\u578B\u4EE3\u7406?`:e.value===!1?t=`\u662F\u5426\u786E\u5B9A\u5173\u95ED\u6240\u9009${g.value.length}\u6761\u6570\u636E\u7684\u6A21\u578B\u4EE3\u7406?`:e.value==="all"&&(e.model_agents?t=`\u662F\u5426\u786E\u5B9A\u5C06\u6240\u9009${g.value.length}\u6761\u6570\u636E\u7684\u6A21\u578B\u4EE3\u7406\u542F\u7528\u5E76\u4F7F\u7528\u6240\u9009\u7684\u6A21\u578B\u4EE3\u7406?`:H.value=!0);break;case"forward":e.value===!0?t=`\u662F\u5426\u786E\u5B9A\u542F\u7528\u6240\u9009${g.value.length}\u6761\u6570\u636E\u7684\u6A21\u578B\u8F6C\u53D1?`:e.value===!1?t=`\u662F\u5426\u786E\u5B9A\u5173\u95ED\u6240\u9009${g.value.length}\u6761\u6570\u636E\u7684\u6A21\u578B\u8F6C\u53D1?`:e.value==="all"&&(e.target_model?t=`\u662F\u5426\u786E\u5B9A\u5C06\u6240\u9009${g.value.length}\u6761\u6570\u636E\u7684\u6A21\u578B\u8F6C\u53D1\u542F\u7528\u5E76\u5168\u90E8\u8F6C\u53D1\u5230\u6240\u9009\u6A21\u578B?`:N.value=!0);break;case"fallback":e.value===!0?t=`\u662F\u5426\u786E\u5B9A\u542F\u7528\u6240\u9009${g.value.length}\u6761\u6570\u636E\u7684\u540E\u5907\u6A21\u578B?`:e.value===!1?t=`\u662F\u5426\u786E\u5B9A\u5173\u95ED\u6240\u9009${g.value.length}\u6761\u6570\u636E\u7684\u540E\u5907\u6A21\u578B?`:e.value==="all"&&(e.fallback_model?t=`\u662F\u5426\u786E\u5B9A\u5C06\u6240\u9009${g.value.length}\u6761\u6570\u636E\u7684\u540E\u5907\u6A21\u578B\u542F\u7528\u5E76\u5168\u90E8\u540E\u5907\u5230\u6240\u9009\u6A21\u578B?`:P.value=!0);break;case"status":e.value===1?t=`\u662F\u5426\u786E\u5B9A\u542F\u7528\u6240\u9009\u7684${g.value.length}\u6761\u6570\u636E?`:t=`\u662F\u5426\u786E\u5B9A\u7981\u7528\u6240\u9009\u7684${g.value.length}\u6761\u6570\u636E?`;break;case"delete":t=`\u662F\u5426\u786E\u5B9A\u5220\u9664\u6240\u9009\u7684${g.value.length}\u6761\u6570\u636E?`;break}if(e.action==="agent"&&e.value==="all"&&!e.model_agents||e.action==="forward"&&e.value==="all"&&!e.target_model||e.action==="fallback"&&e.value==="all"&&!e.fallback_model)return;M.$modal.warning({title:"\u8B66\u544A",titleAlign:"start",content:t,hideCancel:!1,onOk:()=>{y(!0),e.ids=g.value,tt(e).then(r=>{y(!1),M.$message.success("\u64CD\u4F5C\u6210\u529F"),L(),pe.value.selectAll(!1)})}})}},le=n(!1),ke=n([]),Ye=e=>{ke.value=e,le.value=!0},te=n(!1),Ce=n([]),$e=e=>{Ce.value[0]=e,te.value=!0},ae=n(!1),Ee=n(),el=e=>{ae.value=!0,Ee.value=e},ll=()=>{ae.value=!1};return(e,t)=>{const r=fl,h=hl,D=Fl,W=wl,z=Bl,$=Dl,F=Vl,T=ql,ue=Al,Q=Il,he=zl,tl=xl,m=Sl,Fe=vl,we=Ul,oe=Ml,al=_l,ul=Ll,ol=Ol,nl=gl,il=bl,sl=Hl,dl=Nl,Be=Pl,rl=Tl,ne=Ql,ml=Rl,x=jl,V=Gl,cl=Jl;return o(),c("div",it,[a(D,{class:"container-breadcrumb"},{default:u(()=>[a(h,null,{default:u(()=>[a(r)]),_:1}),a(h,null,{default:u(()=>[i(d(e.$t("menu.model")),1)]),_:1}),a(h,null,{default:u(()=>[i(d(e.$t("menu.model.list")),1)]),_:1})]),_:1}),a(cl,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 20px"}},{default:u(()=>[a(ue,null,{default:u(()=>[a(F,{flex:1},{default:u(()=>[a(Q,{model:_.value,"label-col-props":{span:5},"wrapper-col-props":{span:18},"label-align":"left"},{default:u(()=>[a(ue,{gutter:16},{default:u(()=>[a(F,{span:8},{default:u(()=>[a($,{field:"corp",label:e.$t("model.form.corp")},{default:u(()=>[a(z,{modelValue:_.value.corp,"onUpdate:modelValue":t[0]||(t[0]=l=>_.value.corp=l),placeholder:e.$t("model.form.selectDefault"),"allow-search":"","allow-clear":""},{default:u(()=>[(o(!0),c(S,null,U(re.value,l=>(o(),f(W,{key:l.id,value:l.id,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(F,{span:8},{default:u(()=>[a($,{field:"name",label:e.$t("model.form.name")},{default:u(()=>[a(T,{modelValue:_.value.name,"onUpdate:modelValue":t[1]||(t[1]=l=>_.value.name=l),placeholder:e.$t("model.form.name.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(F,{span:8},{default:u(()=>[a($,{field:"model",label:e.$t("model.form.model")},{default:u(()=>[a(T,{modelValue:_.value.model,"onUpdate:modelValue":t[2]||(t[2]=l=>_.value.model=l),placeholder:e.$t("model.form.model.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(F,{span:8},{default:u(()=>[a($,{field:"type",label:e.$t("model.form.type")},{default:u(()=>[a(z,{modelValue:_.value.type,"onUpdate:modelValue":t[3]||(t[3]=l=>_.value.type=l),options:v(xe),placeholder:e.$t("model.form.selectDefault"),"allow-search":"","allow-clear":""},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),_:1}),a(F,{span:8},{default:u(()=>[a($,{field:"status",label:e.$t("model.form.status")},{default:u(()=>[a(z,{modelValue:_.value.status,"onUpdate:modelValue":t[4]||(t[4]=l=>_.value.status=l),options:v(Se),placeholder:e.$t("model.form.selectDefault"),"allow-clear":""},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),_:1}),a(F,{span:8},{default:u(()=>[a($,{field:"remark",label:e.$t("model.form.remark")},{default:u(()=>[a(T,{modelValue:_.value.remark,"onUpdate:modelValue":t[5]||(t[5]=l=>_.value.remark=l),placeholder:e.$t("model.form.remark.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),a(he,{style:{height:"84px"},direction:"vertical"}),a(F,{flex:"86px",style:{"text-align":"right"}},{default:u(()=>[a(we,{direction:"vertical",size:18},{default:u(()=>[a(m,{type:"primary",onClick:L},{icon:u(()=>[a(tl)]),default:u(()=>[i(" "+d(e.$t("model.form.search")),1)]),_:1}),a(m,{onClick:Le},{icon:u(()=>[a(Fe)]),default:u(()=>[i(" "+d(e.$t("model.form.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(he,{style:{"margin-top":"0","margin-bottom":"16px"}}),a(ue,{style:{"margin-bottom":"16px"}},{default:u(()=>[a(F,{span:12},{default:u(()=>[a(we,null,{default:u(()=>[a(m,{type:"primary",onClick:t[6]||(t[6]=l=>e.$router.push({name:"ModelCreate"}))},{default:u(()=>[i(d(e.$t("model.operation.create")),1)]),_:1}),v(fe)?(o(),f(m,{key:0,type:"primary",status:"success",onClick:t[7]||(t[7]=l=>Te())},{default:u(()=>[i(" \u521D\u59CB\u5316 ")]),_:1})):C("",!0),k.value.length!==0?(o(),f(m,{key:1,type:"primary",status:"warning",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:t[8]||(t[8]=l=>b({action:"agent",value:"all"}))},{default:u(()=>[i(" \u5168\u90E8\u4EE3\u7406 ")]),_:1},8,["disabled","title"])):C("",!0),k.value.length!==0?(o(),f(m,{key:2,type:"primary",status:"success",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:t[9]||(t[9]=l=>b({action:"agent",value:!0}))},{default:u(()=>[i(" \u542F\u7528\u4EE3\u7406 ")]),_:1},8,["disabled","title"])):C("",!0),k.value.length!==0?(o(),f(m,{key:3,type:"primary",status:"danger",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:t[10]||(t[10]=l=>b({action:"agent",value:!1}))},{default:u(()=>[i(" \u5173\u95ED\u4EE3\u7406 ")]),_:1},8,["disabled","title"])):C("",!0),k.value.length!==0?(o(),f(m,{key:4,type:"primary",status:"warning",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:t[11]||(t[11]=l=>b({action:"forward",value:"all"}))},{default:u(()=>[i(" \u5168\u90E8\u8F6C\u53D1 ")]),_:1},8,["disabled","title"])):C("",!0),k.value.length!==0?(o(),f(m,{key:5,type:"primary",status:"success",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:t[12]||(t[12]=l=>b({action:"forward",value:!0}))},{default:u(()=>[i(" \u542F\u7528\u8F6C\u53D1 ")]),_:1},8,["disabled","title"])):C("",!0),k.value.length!==0?(o(),f(m,{key:6,type:"primary",status:"danger",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:t[13]||(t[13]=l=>b({action:"forward",value:!1}))},{default:u(()=>[i(" \u5173\u95ED\u8F6C\u53D1 ")]),_:1},8,["disabled","title"])):C("",!0),k.value.length!==0?(o(),f(m,{key:7,type:"primary",status:"warning",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:t[14]||(t[14]=l=>b({action:"fallback",value:"all"}))},{default:u(()=>[i(" \u5168\u90E8\u540E\u5907 ")]),_:1},8,["disabled","title"])):C("",!0),k.value.length!==0?(o(),f(m,{key:8,type:"primary",status:"success",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:t[15]||(t[15]=l=>b({action:"fallback",value:!0}))},{default:u(()=>[i(" \u542F\u7528\u540E\u5907 ")]),_:1},8,["disabled","title"])):C("",!0),k.value.length!==0?(o(),f(m,{key:9,type:"primary",status:"danger",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:t[16]||(t[16]=l=>b({action:"fallback",value:!1}))},{default:u(()=>[i(" \u5173\u95ED\u540E\u5907 ")]),_:1},8,["disabled","title"])):C("",!0),k.value.length!==0?(o(),f(m,{key:10,type:"primary",status:"success",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:t[17]||(t[17]=l=>b({action:"status",value:1}))},{default:u(()=>[i(" \u542F\u7528 ")]),_:1},8,["disabled","title"])):C("",!0),k.value.length!==0?(o(),f(m,{key:11,type:"primary",status:"danger",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:t[18]||(t[18]=l=>b({action:"status",value:2}))},{default:u(()=>[i(" \u7981\u7528 ")]),_:1},8,["disabled","title"])):C("",!0),k.value.length!==0?(o(),f(m,{key:12,type:"primary",status:"danger",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:t[19]||(t[19]=l=>b({action:"delete"}))},{default:u(()=>[i(" \u5220\u9664 ")]),_:1},8,["disabled","title"])):C("",!0)]),_:1})]),_:1}),a(F,{span:12,style:{display:"flex",height:"32px","align-items":"center","justify-content":"end"}},{default:u(()=>[a(oe,{content:e.$t("actions.refresh")},{default:u(()=>[q("div",{class:"action-icon",onClick:L},[a(Fe,{size:"18"})])]),_:1},8,["content"]),a(ol,{onSelect:He},{content:u(()=>[(o(!0),c(S,null,U(v(Ie),l=>(o(),f(ul,{key:l.value,value:l.value,class:$l({active:l.value===ee.value})},{default:u(()=>[q("span",null,d(l.name),1)]),_:2},1032,["value","class"]))),128))]),default:u(()=>[a(oe,{content:e.$t("actions.density")},{default:u(()=>[q("div",st,[a(al,{size:"18"})])]),_:1},8,["content"])]),_:1}),a(oe,{content:e.$t("actions.column_setting")},{default:u(()=>[a(dl,{trigger:"click",position:"bl",onPopupVisibleChange:Pe},{content:u(()=>[q("div",rt,[(o(!0),c(S,null,U(R.value,(l,w)=>(o(),c("div",{key:l.dataIndex,class:"setting"},[q("div",mt,[a(il)]),q("div",null,[a(sl,{modelValue:l.checked,"onUpdate:modelValue":ie=>l.checked=ie,onChange:ie=>Ne(ie,l,w)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),q("div",ct,d(l.title==="#"?"\u5E8F\u5217\u53F7":l.title),1)]))),128))])]),default:u(()=>[q("div",dt,[a(nl,{size:"18"})])]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),a(ne,{ref_key:"tableRef",ref:pe,"row-key":"id",loading:v(Ve),pagination:j,columns:A.value,data:k.value,bordered:!1,size:ee.value,"row-selection":qe,onPageChange:Ue,onPageSizeChange:Me,onSelectionChange:Xe},{type:u(({record:l})=>[i(d(e.$t(`model.dict.type.${l.type}`)),1)]),prompt_ratio:u(({record:l})=>[l.type===5?(o(),c("span",pt,d(l.audio_quota.billing_method===1?`$${v(B)(l.audio_quota.prompt_ratio)}/k`:"-"),1)):l.type===6?(o(),c("span",ft,"-")):l.type===101?(o(),c("span",vt,[a(m,{type:"text",size:"small",onClick:w=>$e(l.realtime_quota)},{default:u(()=>[i(" \u67E5\u770B ")]),_:2},1032,["onClick"])])):l.type!==100?(o(),c("span",_t,d(l.text_quota.billing_method===1?`$${v(B)(l.text_quota.prompt_ratio)}/k`:"-"),1)):l.type===100?(o(),c("span",gt,d(l.multimodal_quota.text_quota.billing_method===1?`$${v(B)(l.multimodal_quota.text_quota.prompt_ratio)}/k`:"-"),1)):(o(),c("span",bt," - "))]),completion_ratio:u(({record:l})=>[l.type===2?(o(),c("span",yt,[a(m,{type:"text",size:"small",onClick:w=>Ye(l.image_quotas)},{default:u(()=>[i(" \u67E5\u770B ")]),_:2},1032,["onClick"])])):l.type===5?(o(),c("span",kt,"-")):l.type===6?(o(),c("span",Ct,d(l.audio_quota.billing_method===1?`$${v(B)(l.audio_quota.completion_ratio)}/min`:`$${v(se)(l.audio_quota.fixed_quota)}/\u6B21`),1)):l.type===101?(o(),c("span",$t,[a(m,{type:"text",size:"small",onClick:w=>$e(l.realtime_quota)},{default:u(()=>[i(" \u67E5\u770B ")]),_:2},1032,["onClick"])])):l.type!==100?(o(),c("span",Et,d(l.text_quota.billing_method===1?`$${v(B)(l.text_quota.completion_ratio)}/k`:`$${v(se)(l.text_quota.fixed_quota)}/\u6B21`),1)):(o(),c("span",ht,d(`$${v(B)(l.multimodal_quota.text_quota.completion_ratio)}/k`),1))]),status:u(({record:l})=>[a(Be,{modelValue:l.status,"onUpdate:modelValue":w=>l.status=w,"checked-value":1,"unchecked-value":2,onChange:w=>Oe({id:`${l.id}`,status:Number(`${l.status}`)})},null,8,["modelValue","onUpdate:modelValue","onChange"])]),operations:u(({record:l})=>[a(m,{type:"text",size:"small",onClick:w=>el(l.id)},{default:u(()=>[i(d(e.$t("model.columns.operations.view")),1)]),_:2},1032,["onClick"]),a(m,{type:"text",size:"small",onClick:w=>e.$router.push({name:"ModelUpdate",query:{id:`${l.id}`}})},{default:u(()=>[i(d(e.$t("model.columns.operations.update")),1)]),_:2},1032,["onClick"]),a(rl,{content:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u5417?",onOk:w=>Ae({id:`${l.id}`})},{default:u(()=>[a(m,{type:"text",size:"small"},{default:u(()=>[i(d(e.$t("model.columns.operations.delete")),1)]),_:1})]),_:2},1032,["onOk"])]),_:1},8,["loading","pagination","columns","data","size","row-selection"]),a(ml,{title:e.$t("menu.model.detail"),"unmount-on-close":"","render-to-body":"",width:700,footer:!1,visible:ae.value,onCancel:ll},{default:u(()=>[a(nt,{id:Ee.value},null,8,["id"])]),_:1},8,["title","visible"]),a(x,{visible:O.value,"onUpdate:visible":t[23]||(t[23]=l=>O.value=l),title:e.$t("model.form.title.init_model"),onCancel:Re,onBeforeOk:Qe},{default:u(()=>[a(Q,{ref_key:"initForm",ref:_e,model:E.value},{default:u(()=>[a($,{field:"url",label:e.$t("model.label.url"),rules:[{required:!0,message:e.$t("model.error.url.required")}]},{default:u(()=>[a(T,{modelValue:E.value.url,"onUpdate:modelValue":t[20]||(t[20]=l=>E.value.url=l),placeholder:e.$t("model.placeholder.url"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a($,{field:"key",label:e.$t("model.label.key"),rules:[{required:!0,message:e.$t("model.error.key.required")}]},{default:u(()=>[a(T,{modelValue:E.value.key,"onUpdate:modelValue":t[21]||(t[21]=l=>E.value.key=l),placeholder:e.$t("model.placeholder.key"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a($,{field:"is_config_model_agent",label:e.$t("model.label.is_config_model_agent")},{default:u(()=>[a(Be,{modelValue:E.value.is_config_model_agent,"onUpdate:modelValue":t[22]||(t[22]=l=>E.value.is_config_model_agent=l)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["visible","title"]),a(x,{visible:H.value,"onUpdate:visible":t[25]||(t[25]=l=>H.value=l),title:e.$t("model.form.title.model_agent"),onCancel:Ge,onBeforeOk:je},{default:u(()=>[a(Q,{ref_key:"agentForm",ref:ge,model:J.value},{default:u(()=>[a($,{field:"model_agents",label:e.$t("model.label.model_agents"),rules:[{required:!0,message:e.$t("model.error.model_agents.required")}]},{default:u(()=>[a(z,{modelValue:J.value.model_agents,"onUpdate:modelValue":t[24]||(t[24]=l=>J.value.model_agents=l),placeholder:e.$t("model.placeholder.model_agents"),"max-tag-count":15,multiple:"","allow-search":"","allow-clear":""},{default:u(()=>[(o(!0),c(S,null,U(me.value,l=>(o(),f(W,{key:l.id,value:l.id,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])]),_:1},8,["model"])]),_:1},8,["visible","title"]),a(x,{visible:N.value,"onUpdate:visible":t[27]||(t[27]=l=>N.value=l),title:e.$t("model.form.title.forward"),onCancel:Ze,onBeforeOk:Je},{default:u(()=>[a(Q,{ref_key:"forwardForm",ref:be,model:Z.value},{default:u(()=>[a($,{field:"target_model",label:e.$t("model.label.target_model"),rules:[{required:!0,message:e.$t("model.error.target_model.required")}]},{default:u(()=>[a(z,{modelValue:Z.value.target_model,"onUpdate:modelValue":t[26]||(t[26]=l=>Z.value.target_model=l),placeholder:e.$t("model.placeholder.target_model"),"allow-search":""},{default:u(()=>[(o(!0),c(S,null,U(Y.value,l=>(o(),f(W,{key:l.id,value:l.id,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])]),_:1},8,["model"])]),_:1},8,["visible","title"]),a(x,{visible:P.value,"onUpdate:visible":t[29]||(t[29]=l=>P.value=l),title:e.$t("model.form.title.fallback"),onCancel:We,onBeforeOk:Ke},{default:u(()=>[a(Q,{ref_key:"fallbackForm",ref:ye,model:K.value},{default:u(()=>[a($,{field:"fallback_model",label:e.$t("model.label.fallback_model"),rules:[{required:!0,message:e.$t("model.error.fallback_model.required")}]},{default:u(()=>[a(z,{modelValue:K.value.fallback_model,"onUpdate:modelValue":t[28]||(t[28]=l=>K.value.fallback_model=l),placeholder:e.$t("model.placeholder.fallback_model"),"allow-search":""},{default:u(()=>[(o(!0),c(S,null,U(Y.value,l=>(o(),f(W,{key:l.id,value:l.id,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])]),_:1},8,["model"])]),_:1},8,["visible","title"]),a(x,{visible:le.value,"onUpdate:visible":t[30]||(t[30]=l=>le.value=l),title:e.$t("model.columns.completion_price"),width:"500px","hide-cancel":"",simple:""},{default:u(()=>[a(ne,{data:ke.value,pagination:!1,bordered:!1},{columns:u(()=>[a(V,{title:"\u5BBD\u5EA6","data-index":"width",align:"center"}),a(V,{title:"\u9AD8\u5EA6","data-index":"height",align:"center"}),a(V,{title:"\u4EF7\u683C","data-index":"fixed_quota",align:"center"},{cell:u(({record:l})=>[i(d(`$${v(se)(l.fixed_quota)}/\u5F20`),1)]),_:1}),a(V,{title:"\u9ED8\u8BA4","data-index":"is_default",align:"center"},{cell:u(({record:l})=>[i(d(l.is_default?"\u662F":"-"),1)]),_:1})]),_:1},8,["data"])]),_:1},8,["visible","title"]),a(x,{visible:te.value,"onUpdate:visible":t[31]||(t[31]=l=>te.value=l),title:e.$t("model.columns.realtime_price"),width:"550px","hide-cancel":"",simple:""},{default:u(()=>[a(ne,{data:Ce.value,pagination:!1,bordered:!1},{columns:u(()=>[a(V,{title:"\u6587\u672C\u63D0\u95EE\u4EF7\u683C","data-index":"text_quota.prompt_ratio",align:"center"},{cell:u(({record:l})=>[i(d(`$${v(B)(l.text_quota.prompt_ratio)}/k`),1)]),_:1}),a(V,{title:"\u6587\u672C\u56DE\u7B54\u4EF7\u683C","data-index":"text_quota.completion_ratio",align:"center"},{cell:u(({record:l})=>[i(d(`$${v(B)(l.text_quota.completion_ratio)}/k`),1)]),_:1}),a(V,{title:"\u97F3\u9891\u63D0\u95EE\u4EF7\u683C","data-index":"audio_quota.prompt_ratio",align:"center"},{cell:u(({record:l})=>[i(d(`$${v(B)(l.audio_quota.prompt_ratio)}/k`),1)]),_:1}),a(V,{title:"\u97F3\u9891\u56DE\u7B54\u4EF7\u683C","data-index":"audio_quota.completion_ratio",align:"center"},{cell:u(({record:l})=>[i(d(`$${v(B)(l.audio_quota.completion_ratio)}/k`),1)]),_:1})]),_:1},8,["data"])]),_:1},8,["visible","title"])]),_:1})])}}});const na=yl(wt,[["__scopeId","data-v-b25a85e5"]]);export{na as default};
