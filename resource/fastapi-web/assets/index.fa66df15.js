import{u as ct,F as pt,p as ft,y as vt,i as yt,z as kt,_ as ht}from"./index.0b276993.js";/* empty css                *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css              *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css               *//* empty css              *//* empty css              */import{d as bt,r as Ue,e as h,c as ne,w as ze,bq as gt,b as wt,bQ as Ft,B as t,C as _,aH as a,aG as e,aL as i,aM as n,bu as k,aD as o,aJ as J,aI as G,u as m,F as B,D as Et,aE as $t,bR as Ne,n as Ct,g as Dt,aK as Bt,aF as xt,bA as Vt,bB as At,b2 as qt,bC as It,b1 as St,aS as Lt,bS as Ut,bD as zt,b5 as Nt,bE as Mt,ab as Pt,aU as Rt,bi as Tt,bj as Ot,bl as Ht,bm as Yt,b4 as jt,bF as Jt,bM as Gt,bH as Kt,bJ as Qt,bK as Wt,ad as Xt,bL as Zt,bN as ea,ba as ta,b6 as aa,aV as la,a_ as oa,bI as ua}from"./arco.86f0f56d.js";import{u as na}from"./loading.0ba7f8b6.js";import{q as sa}from"./common.7a0e8d62.js";import{V as Me,q as ia,a as da,c as ra,s as _a,b as ma}from"./styles.236d7a03.js";import{g as ca}from"./app.a1163437.js";import{b as pa}from"./dashboard.732259fc.js";import{c as se,S as fa}from"./sortable.esm.07e6d21c.js";import{q as va}from"./model.4a769807.js";import{u as ya}from"./vue.e2e8d4fd.js";import"./chart.dbe284dd.js";import"./base.87fcf6e2.js";const ka={class:"container"},ha={class:"action-icon"},ba={class:"action-icon"},ga={id:"tableSetting"},wa={style:{"margin-right":"4px",cursor:"move"}},Fa={class:"title"},Ea={style:{margin:"10px 0 30px 10px"}},$a={key:1},Ca={key:1},Da={key:1},Ba={key:1},xa={key:1},Va={key:1},Aa={key:1},qa={key:1},Ia={key:1},Sa={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},La={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},Ua={key:1},za={key:1},Na={key:1},Ma={key:1},Pa={key:1},Ra={key:1},Ta={key:1},Oa={key:1},Ha={key:1},Ya={key:1},ja={key:1},Ja={key:1},Ga={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},Ka={key:1},Qa={key:1},Wa={key:1},Xa={key:1},Za={key:1},el={key:1},tl={key:1},al={key:1},ll={key:1},ol={key:1},ul={key:1},nl={key:1},sl={key:1},il={key:1},dl={key:1},rl={key:1},_l={key:1},ml={key:1},cl={key:1},pl={key:1},fl={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},vl={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},yl={key:1},kl={key:1},hl={key:1},bl={key:1},gl={key:1},wl={key:1},Fl={key:1},El={key:1},$l={key:1},Cl={key:1},Dl={key:1},Bl={key:1},xl={key:1},Vl={key:1},Al={key:1},ql={key:1},Il={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},Sl={key:1},Ll={key:1},Ul={name:"ChatList"},zl=bt({...Ul,setup(Nl){const Pe=Ue({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),ie=h([]);(async()=>{try{const{data:s}=await ca();ie.value=s.items}catch{}})();const de=h([]);(async()=>{try{const{data:s}=await va();de.value=s.items}catch{}})();const re=()=>({app_id:h(),trace_id:h(),user_id:h(),key:"",models:[],total_time:h(),status:h(),req_time:[Ne().format("YYYY-MM-DD 00:00:00"),Ne().format("YYYY-MM-DD 23:59:59")]}),{loading:c,setLoading:I}=na(!0),{t:b}=ct(),_e=h([]),g=h(re()),x=h([]),R=h([]),K=h("medium"),V=h([]),Re=h(!0),Q=h(),S={current:1,pageSize:20,showTotal:!0,showPageSize:!0,pageSizeOptions:[20,50,100,500,1e3]},T=Ue({...S}),Te=ne(()=>[{name:b("size.mini"),value:"mini"},{name:b("size.small"),value:"small"},{name:b("size.medium"),value:"medium"},{name:b("size.large"),value:"large"}]),L=localStorage.getItem("userRole"),me=ne(()=>[{title:b(L==="admin"?"chat.columns.user_id":"chat.columns.app_id"),dataIndex:L==="admin"?"user_id":"app_id",slotName:L==="admin"?"user_id":"app_id",align:"center",width:75},{title:b("chat.columns.model"),dataIndex:"model",slotName:"model",align:"center",ellipsis:!0,tooltip:!0},{title:b("chat.columns.prompt_tokens"),dataIndex:"prompt_tokens",slotName:"prompt_tokens",align:"center",width:75},{title:b("chat.columns.completion_tokens"),dataIndex:"completion_tokens",slotName:"completion_tokens",align:"center",width:75},{title:b("chat.columns.total_price"),dataIndex:"total_tokens",slotName:"total_tokens",align:"center"},{title:b("chat.columns.stream"),dataIndex:"stream",slotName:"stream",align:"center",width:60},{title:b("chat.columns.conn_time"),dataIndex:"conn_time",slotName:"conn_time",align:"center"},{title:b("chat.columns.duration"),dataIndex:"duration",slotName:"duration",align:"center"},{title:b("chat.columns.total_time"),dataIndex:"total_time",slotName:"total_time",align:"center"},{title:b("chat.columns.internal_time"),dataIndex:"internal_time",slotName:"internal_time",align:"center"},{title:b("chat.columns.status"),dataIndex:"status",slotName:"status",align:"center",width:65},{title:b("chat.columns.req_time"),dataIndex:"req_time",slotName:"req_time",align:"center",width:132},{title:b("chat.columns.operations"),dataIndex:"operations",slotName:"operations",align:"center",width:75}]);L==="user"&&me.value.splice(9,1);const ce=ne(()=>[{label:b("chat.dict.status.1"),value:1},{label:b("chat.dict.status.2"),value:2},{label:b("chat.dict.status.-1"),value:-1}]);L==="admin"&&ce.value.push({label:b("chat.dict.status.3"),value:3},{label:b("chat.dict.status.-100"),value:-100});const O=async(s={...S,...g.value})=>{I(!0);try{const{data:d}=await ia(s);_e.value=d.items,T.current=s.current,T.pageSize=s.pageSize,T.total=d.paging.total}catch{}finally{I(!1)}},W=()=>{O({...S,...g.value})},Oe=s=>{O({...S,...g.value,current:s})},He=s=>{S.pageSize=s,O({...S,...g.value})};O();const Ye=()=>{g.value=re()},je=(s,d)=>{K.value=s},Je=(s,d,w)=>{s?x.value.splice(w,0,d):x.value=R.value.filter($=>$.dataIndex!==d.dataIndex)},pe=(s,d,w,$=!1)=>{const F=$?se(s):s;return d>-1&&w>-1&&F.splice(d,1,F.splice(w,1,F[d]).pop()),F},Ge=s=>{s&&Ct(()=>{const d=document.getElementById("tableSetting");new fa(d,{onEnd(w){const{oldIndex:$,newIndex:F}=w;pe(x.value,$,F),pe(R.value,$,F)}})})};ze(()=>me.value,s=>{x.value=se(s),x.value.forEach((d,w)=>{d.checked=!0}),R.value=se(x.value)},{deep:!0,immediate:!0});const X=h(!1),{copy:fe,copied:ve}=ya(),{proxy:U}=Dt(),l=h({}),Ke=async s=>{X.value=!0,c.value=!0;try{const{data:d}=await da({id:s});l.value=d}catch{}finally{c.value=!1}},Qe=()=>{X.value=!1},ye=s=>{fe(s)};ze(ve,()=>{ve.value&&U.$message.success("\u590D\u5236\u6210\u529F")});const Z=async(s,d)=>{const{data:w}=await ra({id:s,field:d});fe(w.value)},ke=h(0),he=h(0),be=async(s={...g.value})=>{const{data:d}=await pa(s);ke.value=d.rpm,he.value=d.tpm};be();let ge;const we=()=>{clearInterval(ge)},Fe=()=>{ge=setInterval(be,3e3)},Ee=()=>{document.visibilityState==="hidden"?we():Fe()};gt(()=>{Fe(),document.addEventListener("visibilitychange",Ee)}),wt(()=>{we(),document.removeEventListener("visibilitychange",Ee)});const $e=h(),z=h(!1),A=h({}),We=async s=>{var w;if(await((w=$e.value)==null?void 0:w.validate())){z.value=!0,s(!1);return}s(),Ce({req_time:A.value.req_time,user_id:A.value.user_id})},Xe=()=>{z.value=!1},Ce=s=>{if(V.value.length===0&&!s.req_time){z.value=!0;return}I(!0),s.ids=V.value,_a(s).then(d=>{I(!1),U.$message.success("\u5BFC\u51FA\u6210\u529F"),Q.value.selectAll(!1);const w=new Blob([d.data],{type:"application/vnd.ms-excel"}),$=window.URL.createObjectURL(w),F=document.createElement("a");F.href=$,F.setAttribute("download","\u804A\u5929\u65E5\u5FD7.xlsx"),document.body.appendChild(F),F.click(),document.body.removeChild(F),window.URL.revokeObjectURL($)}).catch(d=>{U.$message.error("\u5BFC\u51FA\u5931\u8D25, \u8BF7\u8054\u7CFB\u7BA1\u7406\u5458",d)})},De=h(),N=h(!1),q=h({}),Ze=async s=>{var w;if(await((w=De.value)==null?void 0:w.validate())){N.value=!0,s(!1);return}s(),Be({action:"time",value:q.value.value,user_id:q.value.user_id})},et=()=>{N.value=!1},tt=s=>{V.value=s,Re.value=!s.length},Be=s=>{if(V.value.length===0&&!s.value)N.value=!0;else{let d=`\u662F\u5426\u786E\u5B9A\u64CD\u4F5C\u6240\u9009\u7684${V.value.length}\u6761\u6570\u636E?`;switch(s.action){case"delete":d=`\u662F\u5426\u786E\u5B9A\u5220\u9664\u6240\u9009\u7684${V.value.length}\u6761\u6570\u636E?`;break;case"time":s.user_id?d=`\u662F\u5426\u786E\u5B9A\u5220\u9664\u7528\u6237ID: ${s.user_id} \u8BF7\u6C42\u65F6\u95F4: ${s.value[0]} \u81F3 ${s.value[1]} \u7684\u6570\u636E?`:d=`\u662F\u5426\u786E\u5B9A\u5220\u9664\u8BF7\u6C42\u65F6\u95F4: ${s.value[0]} \u81F3 ${s.value[1]} \u7684\u6570\u636E?`;break}U.$modal.warning({title:"\u8B66\u544A",titleAlign:"center",content:d,hideCancel:!1,onOk:()=>{I(!0),s.ids=V.value,ma(s).then(w=>{I(!1),U.$message.success("\u64CD\u4F5C\u6210\u529F, \u4EFB\u52A1\u5DF2\u63D0\u4EA4"),W(),Q.value.selectAll(!1)})}})}};return(s,d)=>{const w=pt,$=Bt,F=xt,xe=Vt,ee=At,C=qt,E=It,Ve=St,H=Lt,te=Ut,ae=zt,le=Nt,Ae=Mt,at=Pt,M=Rt,qe=ft,Y=Tt,oe=Ot,lt=vt,ot=Ht,ut=Yt,nt=yt,st=kt,it=jt,dt=Jt,r=Gt,rt=Kt,p=Qt,f=Wt,P=Xt,v=Zt,j=ea,Ie=ta,Se=aa,_t=la,Le=oa,mt=ua,y=Ft("permission");return t(),_("div",ka,[a(F,{class:"container-breadcrumb"},{default:e(()=>[a($,null,{default:e(()=>[a(w)]),_:1}),a($,null,{default:e(()=>[i(n(s.$t("menu.chat")),1)]),_:1}),a($,null,{default:e(()=>[i(n(s.$t("menu.chat.list")),1)]),_:1})]),_:1}),a(mt,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 20px"}},{default:e(()=>[a(ae,null,{default:e(()=>[a(E,{flex:1},{default:e(()=>[a(le,{model:g.value,"label-col-props":{span:5},"wrapper-col-props":{span:18},"label-align":"left"},{default:e(()=>[a(ae,{gutter:16},{default:e(()=>[k((t(),o(E,{span:8},{default:e(()=>[a(C,{field:"app_id",label:s.$t("chat.form.app_id")},{default:e(()=>[a(ee,{modelValue:g.value.app_id,"onUpdate:modelValue":d[0]||(d[0]=u=>g.value.app_id=u),placeholder:s.$t("chat.form.selectDefault"),"allow-search":"","allow-clear":""},{default:e(()=>[(t(!0),_(J,null,G(ie.value,u=>(t(),o(xe,{key:u.app_id,value:u.app_id,label:u.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[y,["user"]]]),k((t(),o(E,{span:8},{default:e(()=>[a(C,{field:"trace_id",label:s.$t("chat.form.trace_id")},{default:e(()=>[a(Ve,{modelValue:g.value.trace_id,"onUpdate:modelValue":d[1]||(d[1]=u=>g.value.trace_id=u),placeholder:s.$t("chat.form.trace_id.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[y,["admin"]]]),k((t(),o(E,{span:8},{default:e(()=>[a(C,{field:"user_id",label:s.$t("chat.form.user_id")},{default:e(()=>[a(H,{modelValue:g.value.user_id,"onUpdate:modelValue":d[2]||(d[2]=u=>g.value.user_id=u),placeholder:s.$t("chat.form.user_id.placeholder"),min:1,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[y,["admin"]]]),k((t(),o(E,{span:8},{default:e(()=>[a(C,{field:"key",label:s.$t("chat.form.key")},{default:e(()=>[a(Ve,{modelValue:g.value.key,"onUpdate:modelValue":d[3]||(d[3]=u=>g.value.key=u),placeholder:s.$t("chat.form.key.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[y,["user"]]]),a(E,{span:8},{default:e(()=>[a(C,{field:"models",label:s.$t("chat.form.models")},{default:e(()=>[a(ee,{modelValue:g.value.models,"onUpdate:modelValue":d[4]||(d[4]=u=>g.value.models=u),placeholder:s.$t("chat.form.selectDefault"),"max-tag-count":2,multiple:"","allow-search":"","allow-clear":""},{default:e(()=>[(t(!0),_(J,null,G(de.value,u=>(t(),o(xe,{key:u.id,value:u.id,label:u.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(E,{span:8},{default:e(()=>[a(C,{field:"total_time",label:s.$t("chat.form.total_time")},{default:e(()=>[a(H,{modelValue:g.value.total_time,"onUpdate:modelValue":d[5]||(d[5]=u=>g.value.total_time=u),precision:0,min:1,placeholder:s.$t("chat.form.total_time.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(E,{span:8},{default:e(()=>[a(C,{field:"status",label:s.$t("chat.form.status")},{default:e(()=>[a(ee,{modelValue:g.value.status,"onUpdate:modelValue":d[6]||(d[6]=u=>g.value.status=u),options:m(ce),placeholder:s.$t("chat.form.selectDefault"),"allow-clear":""},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),_:1}),a(E,{span:8},{default:e(()=>[a(C,{field:"req_time",label:s.$t("chat.form.req_time")},{default:e(()=>[a(te,{modelValue:g.value.req_time,"onUpdate:modelValue":d[7]||(d[7]=u=>g.value.req_time=u),placeholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"],"time-picker-props":{defaultValue:["00:00:00","23:59:59"]},"show-time":""},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),a(Ae,{style:{height:"84px"},direction:"vertical"}),a(E,{flex:"86px",style:{"text-align":"right"}},{default:e(()=>[a(Y,{direction:"vertical",size:18},{default:e(()=>[a(M,{type:"primary",onClick:W},{icon:e(()=>[a(at)]),default:e(()=>[i(" "+n(s.$t("chat.form.search")),1)]),_:1}),a(M,{onClick:Ye},{icon:e(()=>[a(qe)]),default:e(()=>[i(" "+n(s.$t("chat.form.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(Ae,{style:{"margin-top":"0","margin-bottom":"16px"}}),a(ae,{style:{"margin-bottom":"16px","align-items":"center"}},{default:e(()=>[a(E,{span:4},{default:e(()=>[a(Y,null,{default:e(()=>[a(M,{type:"primary",onClick:d[8]||(d[8]=u=>Ce({}))},{default:e(()=>[i(" \u5BFC\u51FA ")]),_:1}),k((t(),o(M,{type:"primary",status:"danger",onClick:d[9]||(d[9]=u=>Be({action:"delete"}))},{default:e(()=>[i(" \u5220\u9664 ")]),_:1})),[[y,["admin"]]])]),_:1})]),_:1}),a(E,{span:12},{default:e(()=>[i(" \u82B1\u8D39 = ( \u63D0\u95EE \xD7 \u63D0\u95EE\u500D\u7387 + \u56DE\u7B54 \xD7 \u56DE\u7B54\u500D\u7387 ) \xF7 500000 \xA0\xA0\u6216\xA0\xA0 \u56DE\u7B54 \xF7 500000 ")]),_:1}),a(E,{span:3},{default:e(()=>[i(" RPM: \xA0"+n(ke.value.toLocaleString()),1)]),_:1}),a(E,{span:3},{default:e(()=>[i(" TPM: \xA0"+n(he.value.toLocaleString()),1)]),_:1}),a(E,{span:2,style:{display:"flex","align-items":"center","justify-content":"end"}},{default:e(()=>[a(oe,{content:s.$t("actions.refresh")},{default:e(()=>[B("div",{class:"action-icon",onClick:W},[a(qe,{size:"18"})])]),_:1},8,["content"]),a(ut,{onSelect:je},{content:e(()=>[(t(!0),_(J,null,G(m(Te),u=>(t(),o(ot,{key:u.value,value:u.value,class:Et({active:u.value===K.value})},{default:e(()=>[B("span",null,n(u.name),1)]),_:2},1032,["value","class"]))),128))]),default:e(()=>[a(oe,{content:s.$t("actions.density")},{default:e(()=>[B("div",ha,[a(lt,{size:"18"})])]),_:1},8,["content"])]),_:1}),a(oe,{content:s.$t("actions.column_setting")},{default:e(()=>[a(dt,{trigger:"click",position:"bl",onPopupVisibleChange:Ge},{content:e(()=>[B("div",ga,[(t(!0),_(J,null,G(R.value,(u,D)=>(t(),_("div",{key:u.dataIndex,class:"setting"},[B("div",wa,[a(st)]),B("div",null,[a(it,{modelValue:u.checked,"onUpdate:modelValue":ue=>u.checked=ue,onChange:ue=>Je(ue,u,D)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),B("div",Fa,n(u.title==="#"?"\u5E8F\u5217\u53F7":u.title),1)]))),128))])]),default:e(()=>[B("div",ba,[a(nt,{size:"18"})])]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),a(rt,{ref_key:"tableRef",ref:Q,"row-key":"id",loading:m(c),pagination:T,columns:x.value,data:_e.value,bordered:!1,size:K.value,"row-selection":Pe,onPageChange:Oe,onPageSizeChange:He,onSelectionChange:tt},{user_id:e(({record:u})=>[i(n(u.is_smart_match?"-":u.user_id),1)]),prompt_tokens:e(({record:u})=>[i(n(u.prompt_tokens?u.prompt_tokens:u.status===1&&u.billing_method===2?0:"-"),1)]),completion_tokens:e(({record:u})=>[i(n(u.completion_tokens?u.completion_tokens:u.status===1&&u.billing_method===2?0:"-"),1)]),total_tokens:e(({record:u})=>[i(n(u.total_tokens?`$${m(sa)(u.total_tokens)}`:u.status===1&&u.billing_method===2?0:"-"),1)]),stream:e(({record:u})=>[i(n(s.$t(`chat.dict.stream.${u.stream||!1}`)),1)]),conn_time:e(({record:u})=>[u.conn_time>3e4?k((t(),o(r,{key:0,color:"red"},{default:e(()=>[i(n(u.conn_time),1)]),_:2},1024)),[[y,["user"]]]):u.conn_time>15e3?k((t(),o(r,{key:1,color:"orange"},{default:e(()=>[i(n(u.conn_time),1)]),_:2},1024)),[[y,["user"]]]):u.conn_time>5e3?k((t(),o(r,{key:2,color:"gold"},{default:e(()=>[i(n(u.conn_time),1)]),_:2},1024)),[[y,["user"]]]):k((t(),o(r,{key:3,color:"green"},{default:e(()=>[i(n(u.conn_time||"-"),1)]),_:2},1024)),[[y,["user"]]]),u.conn_time>1e4?k((t(),o(r,{key:4,color:"red"},{default:e(()=>[i(n(u.conn_time),1)]),_:2},1024)),[[y,["admin"]]]):u.conn_time>5e3?k((t(),o(r,{key:5,color:"orange"},{default:e(()=>[i(n(u.conn_time),1)]),_:2},1024)),[[y,["admin"]]]):u.conn_time>3e3?k((t(),o(r,{key:6,color:"gold"},{default:e(()=>[i(n(u.conn_time),1)]),_:2},1024)),[[y,["admin"]]]):k((t(),o(r,{key:7,color:"green"},{default:e(()=>[i(n(u.conn_time||"-"),1)]),_:2},1024)),[[y,["admin"]]])]),duration:e(({record:u})=>[u.duration>18e4?k((t(),o(r,{key:0,color:"red"},{default:e(()=>[i(n(u.duration),1)]),_:2},1024)),[[y,["user"]]]):u.duration>12e4?k((t(),o(r,{key:1,color:"orange"},{default:e(()=>[i(n(u.duration),1)]),_:2},1024)),[[y,["user"]]]):u.duration>9e4?k((t(),o(r,{key:2,color:"gold"},{default:e(()=>[i(n(u.duration),1)]),_:2},1024)),[[y,["user"]]]):k((t(),o(r,{key:3,color:"green"},{default:e(()=>[i(n(u.duration||"-"),1)]),_:2},1024)),[[y,["user"]]]),u.duration>12e4?k((t(),o(r,{key:4,color:"red"},{default:e(()=>[i(n(u.duration),1)]),_:2},1024)),[[y,["admin"]]]):u.duration>9e4?k((t(),o(r,{key:5,color:"orange"},{default:e(()=>[i(n(u.duration),1)]),_:2},1024)),[[y,["admin"]]]):u.duration>6e4?k((t(),o(r,{key:6,color:"gold"},{default:e(()=>[i(n(u.duration),1)]),_:2},1024)),[[y,["admin"]]]):k((t(),o(r,{key:7,color:"green"},{default:e(()=>[i(n(u.duration||"-"),1)]),_:2},1024)),[[y,["admin"]]])]),total_time:e(({record:u})=>[u.total_time>18e4?k((t(),o(r,{key:0,color:"red"},{default:e(()=>[i(n(u.total_time),1)]),_:2},1024)),[[y,["user"]]]):u.total_time>12e4?k((t(),o(r,{key:1,color:"orange"},{default:e(()=>[i(n(u.total_time),1)]),_:2},1024)),[[y,["user"]]]):u.total_time>9e4?k((t(),o(r,{key:2,color:"gold"},{default:e(()=>[i(n(u.total_time),1)]),_:2},1024)),[[y,["user"]]]):k((t(),o(r,{key:3,color:"green"},{default:e(()=>[i(n(u.total_time||"-"),1)]),_:2},1024)),[[y,["user"]]]),u.total_time>12e4?k((t(),o(r,{key:4,color:"red"},{default:e(()=>[i(n(u.total_time),1)]),_:2},1024)),[[y,["admin"]]]):u.total_time>9e4?k((t(),o(r,{key:5,color:"orange"},{default:e(()=>[i(n(u.total_time),1)]),_:2},1024)),[[y,["admin"]]]):u.total_time>6e4?k((t(),o(r,{key:6,color:"gold"},{default:e(()=>[i(n(u.total_time),1)]),_:2},1024)),[[y,["admin"]]]):k((t(),o(r,{key:7,color:"green"},{default:e(()=>[i(n(u.total_time||"-"),1)]),_:2},1024)),[[y,["admin"]]])]),internal_time:e(({record:u})=>[u.internal_time>1e3?k((t(),o(r,{key:0,color:"red"},{default:e(()=>[i(n(u.internal_time),1)]),_:2},1024)),[[y,["user"]]]):u.internal_time>500?k((t(),o(r,{key:1,color:"orange"},{default:e(()=>[i(n(u.internal_time),1)]),_:2},1024)),[[y,["user"]]]):u.internal_time>300?k((t(),o(r,{key:2,color:"gold"},{default:e(()=>[i(n(u.internal_time),1)]),_:2},1024)),[[y,["user"]]]):k((t(),o(r,{key:3,color:"green"},{default:e(()=>[i(n(u.internal_time||"-"),1)]),_:2},1024)),[[y,["user"]]]),u.internal_time>500?k((t(),o(r,{key:4,color:"red"},{default:e(()=>[i(n(u.internal_time),1)]),_:2},1024)),[[y,["admin"]]]):u.internal_time>300?k((t(),o(r,{key:5,color:"orange"},{default:e(()=>[i(n(u.internal_time),1)]),_:2},1024)),[[y,["admin"]]]):u.internal_time>100?k((t(),o(r,{key:6,color:"gold"},{default:e(()=>[i(n(u.internal_time),1)]),_:2},1024)),[[y,["admin"]]]):k((t(),o(r,{key:7,color:"green"},{default:e(()=>[i(n(u.internal_time||"-"),1)]),_:2},1024)),[[y,["admin"]]])]),status:e(({record:u})=>[u.status===-1?(t(),o(r,{key:0,color:"red"},{default:e(()=>[i(n(s.$t(`chat.dict.status.${u.status}`)),1)]),_:2},1024)):u.status===2?(t(),o(r,{key:1,color:"gold"},{default:e(()=>[i(n(s.$t(`chat.dict.status.${u.status}`)),1)]),_:2},1024)):u.status===3?(t(),o(r,{key:2,color:"orange"},{default:e(()=>[i(n(s.$t(`chat.dict.status.${u.status}`)),1)]),_:2},1024)):(t(),o(r,{key:3,color:"green"},{default:e(()=>[i(n(s.$t(`chat.dict.status.${u.status}`)),1)]),_:2},1024))]),operations:e(({record:u})=>[a(M,{type:"text",size:"small",onClick:D=>Ke(u.id)},{default:e(()=>[i(n(s.$t("chat.columns.operations.view")),1)]),_:2},1032,["onClick"])]),_:1},8,["loading","pagination","columns","data","size","row-selection"]),a(_t,{title:"\u65E5\u5FD7\u8BE6\u60C5",visible:X.value,width:700,footer:!1,"unmount-on-close":"","render-to-body":"",onCancel:Qe},{default:e(()=>[B("div",Ea,[k((t(),o(j,{column:2,bordered:"","value-style":{width:"350px",padding:"5px 8px 5px 20px"}},{default:e(()=>[a(v,{label:"Trace ID",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",$a,[i(n(l.value.trace_id)+" ",1),a(P,{class:"copy-btn",onClick:d[10]||(d[10]=u=>ye(l.value.trace_id))})]))]),_:1}),a(v,{label:"Host",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",Ca,n(l.value.host||"-"),1))]),_:1}),a(v,{label:"\u8C03\u7528\u5BC6\u94A5",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",Da,[i(n(l.value.creator)+" ",1),a(P,{class:"copy-btn",onClick:d[11]||(d[11]=u=>Z(l.value.id,"creator"))})]))]),_:1}),a(v,{label:"\u7528\u6237ID"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(t(),_("span",Ba,n(l.value.user_id||"-"),1))]),_:1}),a(v,{label:"\u5E94\u7528ID",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(t(),_("span",xa,n(l.value.app_id||"-"),1))]),_:1}),a(v,{label:"\u516C\u53F8"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",Va,n(l.value.corp_name),1))]),_:1}),a(v,{label:"\u6A21\u578B"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",Aa,n(l.value.model||"-"),1))]),_:1}),a(v,{label:"\u6A21\u578B\u7C7B\u578B"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",qa,n(s.$t(`dict.model_type.${l.value.type}`)),1))]),_:1}),a(v,{label:"\u6D41\u5F0F"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",Ia,n(s.$t(`chat.dict.stream.${l.value.stream||!1}`)),1))]),_:1}),a(v,{label:"\u63D0\u95EE",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",Sa,n(l.value.prompt||"-"),1))]),_:1}),a(v,{label:"\u56DE\u7B54"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",La,n(l.value.completion||"-"),1))]),_:1}),a(v,{label:"\u8BA1\u8D39\u65B9\u5F0F",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",Ua,n(s.$t(`chat.dict.billing_method.${l.value.text_quota.billing_method}`)),1))]),_:1}),a(v,{label:"\u82B1\u8D39\u4EE4\u724C\u6570",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",za,n(l.value.total_tokens?l.value.total_tokens:l.value.status===1&&l.value.text_quota.billing_method===2?0:"-"),1))]),_:1}),a(v,{label:"\u63D0\u95EE\u500D\u7387",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",Na,n(l.value.type!==100?l.value.text_quota.prompt_ratio||"-":l.value.multimodal_quota.text_quota.prompt_ratio||"-"),1))]),_:1}),a(v,{label:"\u56DE\u7B54\u500D\u7387",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",Ma,n(l.value.type!==100?l.value.text_quota.completion_ratio||"-":l.value.multimodal_quota.text_quota.completion_ratio||"-"),1))]),_:1}),a(v,{label:"\u63D0\u95EE\u4EE4\u724C\u6570",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",Pa,n(l.value.prompt_tokens||"-"),1))]),_:1}),a(v,{label:"\u56DE\u7B54\u4EE4\u724C\u6570",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",Ra,n(l.value.completion_tokens||"-"),1))]),_:1}),a(v,{label:"\u8FDE\u63A5\u8017\u65F6",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",Ta,[l.value.conn_time>3e4?(t(),o(r,{key:0,color:"red"},{default:e(()=>[i(n(l.value.conn_time)+" ms ",1)]),_:1})):l.value.conn_time>15e3?(t(),o(r,{key:1,color:"orange"},{default:e(()=>[i(n(l.value.conn_time)+" ms ",1)]),_:1})):l.value.conn_time>5e3?(t(),o(r,{key:2,color:"gold"},{default:e(()=>[i(n(l.value.conn_time)+" ms ",1)]),_:1})):(t(),o(r,{key:3,color:"green"},{default:e(()=>[i(n(l.value.conn_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(v,{label:"\u6301\u7EED\u65F6\u957F",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",Oa,[l.value.duration>18e4?(t(),o(r,{key:0,color:"red"},{default:e(()=>[i(n(l.value.duration)+" ms ",1)]),_:1})):l.value.duration>12e4?(t(),o(r,{key:1,color:"orange"},{default:e(()=>[i(n(l.value.duration)+" ms ",1)]),_:1})):l.value.duration>9e4?(t(),o(r,{key:2,color:"gold"},{default:e(()=>[i(n(l.value.duration)+" ms ",1)]),_:1})):(t(),o(r,{key:3,color:"green"},{default:e(()=>[i(n(l.value.duration||"-")+" ms",1)]),_:1}))]))]),_:1}),a(v,{label:"\u603B\u8017\u65F6",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",Ha,[l.value.total_time>18e4?(t(),o(r,{key:0,color:"red"},{default:e(()=>[i(n(l.value.total_time)+" ms ",1)]),_:1})):l.value.total_time>12e4?(t(),o(r,{key:1,color:"orange"},{default:e(()=>[i(n(l.value.total_time)+" ms ",1)]),_:1})):l.value.total_time>9e4?(t(),o(r,{key:2,color:"gold"},{default:e(()=>[i(n(l.value.total_time)+" ms ",1)]),_:1})):(t(),o(r,{key:3,color:"green"},{default:e(()=>[i(n(l.value.total_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(v,{label:"\u7ED3\u679C",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",Ya,[l.value.status===1?(t(),o(r,{key:0,color:"green"},{default:e(()=>[i(n(s.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1})):l.value.status===2?(t(),o(r,{key:1,color:"gold"},{default:e(()=>[i(n(s.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1})):l.value.status===3?(t(),o(r,{key:2,color:"orange"},{default:e(()=>[i(n(s.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1})):(t(),o(r,{key:3,color:"red"},{default:e(()=>[i(n(s.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1}))]))]),_:1}),a(v,{label:"\u5BA2\u6237\u7AEFIP",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(t(),_("span",ja,n(l.value.client_ip||"-"),1))]),_:1}),a(v,{label:"\u8BF7\u6C42\u65F6\u95F4",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(t(),_("span",Ja,n(l.value.req_time||"-"),1))]),_:1}),a(v,{label:"\u9519\u8BEF\u4FE1\u606F",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",Ga,n(l.value.err_msg||"-"),1))]),_:1})]),_:1})),[[y,["user"]]]),k((t(),o(j,{column:2,bordered:"","value-style":{width:"350px",padding:"5px 8px 5px 20px"}},{default:e(()=>[a(v,{label:"Trace ID",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",Ka,[i(n(l.value.trace_id)+" ",1),a(P,{class:"copy-btn",onClick:d[12]||(d[12]=u=>ye(l.value.trace_id))})]))]),_:1}),a(v,{label:"Host"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",Qa,n(l.value.host||"-"),1))]),_:1}),a(v,{label:"\u8C03\u7528\u5BC6\u94A5",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",Wa,[i(n(l.value.is_smart_match?"-":l.value.creator)+" ",1),l.value.is_smart_match?$t("",!0):(t(),o(P,{key:0,class:"copy-btn",onClick:d[13]||(d[13]=u=>Z(l.value.id,"creator"))}))]))]),_:1}),a(v,{label:"\u7528\u6237ID"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(t(),_("span",Xa,n(l.value.is_smart_match?"-":l.value.user_id||"-"),1))]),_:1}),a(v,{label:"\u5E94\u7528ID",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(t(),_("span",Za,n(l.value.is_smart_match?"-":l.value.app_id||"-"),1))]),_:1}),a(v,{label:"\u516C\u53F8"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",el,n(l.value.corp_name),1))]),_:1}),a(v,{label:"\u6A21\u578B\u7C7B\u578B"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",tl,n(s.$t(`dict.model_type.${l.value.type}`)),1))]),_:1}),a(v,{label:"\u8BF7\u6C42\u6A21\u578B\u540D\u79F0"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(t(),_("span",al,n(l.value.name||"-"),1))]),_:1}),a(v,{label:"\u8BF7\u6C42\u6A21\u578B"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",ll,n(l.value.model||"-"),1))]),_:1}),a(v,{label:"\u771F\u5B9E\u6A21\u578B\u540D\u79F0"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",ol,n(l.value.real_model_name),1))]),_:1}),a(v,{label:"\u771F\u5B9E\u6A21\u578B"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",ul,n(l.value.real_model),1))]),_:1}),a(v,{label:"\u6D41\u5F0F"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",nl,n(s.$t(`chat.dict.stream.${l.value.stream||!1}`)),1))]),_:1}),a(v,{label:"\u542F\u7528\u540E\u5907"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",sl,n(s.$t(`chat.dict.is_enable_fallback.${l.value.is_enable_fallback||!1}`)),1))]),_:1}),a(v,{label:"\u540E\u5907\u4EE3\u7406"},{default:e(()=>{var u,D;return[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(t(),_("span",il,n(((D=(u=l.value)==null?void 0:u.fallback_config)==null?void 0:D.model_agent_name)||"-"),1))]}),_:1}),a(v,{label:"\u540E\u5907\u6A21\u578B"},{default:e(()=>{var u,D;return[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(t(),_("span",dl,n(((D=(u=l.value)==null?void 0:u.fallback_config)==null?void 0:D.model)||"-"),1))]}),_:1}),a(v,{label:"\u542F\u7528\u8F6C\u53D1"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",rl,n(s.$t(`chat.dict.is_enable_forward.${l.value.is_enable_forward||!1}`)),1))]),_:1}),a(v,{label:"\u8F6C\u53D1\u89C4\u5219"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",_l,n(l.value.is_enable_forward?s.$t(`chat.dict.forward_rule.${l.value.forward_config.forward_rule||"1"}`):"-"),1))]),_:1}),a(v,{label:"\u542F\u7528\u4EE3\u7406",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",ml,n(s.$t(`chat.dict.is_enable_model_agent.${l.value.is_enable_model_agent||!1}`)),1))]),_:1}),a(v,{label:"\u4EE3\u7406\u540D\u79F0"},{default:e(()=>{var u,D;return[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(t(),_("span",cl,n(((D=(u=l.value)==null?void 0:u.model_agent)==null?void 0:D.name)||"-"),1))]}),_:1}),a(v,{label:"\u5BC6\u94A5"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",pl,[i(n(l.value.key?l.value.key.length>0?l.value.key.substr(0,l.value.key.length/2>10?10:l.value.key.length/2)+"************************************"+l.value.key.substr(-(l.value.key.length/2>5?5:l.value.key.length/2)):l.value.key:"-")+" ",1),a(P,{class:"copy-btn",onClick:d[14]||(d[14]=u=>Z(l.value.id,"key"))})]))]),_:1}),a(v,{label:"\u63D0\u95EE",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",fl,n(l.value.prompt||"-"),1))]),_:1}),a(v,{label:"\u56DE\u7B54"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",vl,n(l.value.completion||"-"),1))]),_:1}),a(v,{label:"\u8BA1\u8D39\u65B9\u5F0F",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",yl,n(s.$t(`chat.dict.billing_method.${l.value.text_quota.billing_method}`)),1))]),_:1}),a(v,{label:"\u82B1\u8D39\u4EE4\u724C\u6570"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",kl,n(l.value.total_tokens?l.value.total_tokens:l.value.status===1&&l.value.text_quota.billing_method===2?0:"-"),1))]),_:1}),a(v,{label:"\u63D0\u95EE\u500D\u7387",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",hl,n(l.value.type!==100?l.value.text_quota.prompt_ratio||"-":l.value.multimodal_quota.text_quota.prompt_ratio||"-"),1))]),_:1}),a(v,{label:"\u56DE\u7B54\u500D\u7387"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",bl,n(l.value.type!==100?l.value.text_quota.completion_ratio||"-":l.value.multimodal_quota.text_quota.completion_ratio||"-"),1))]),_:1}),a(v,{label:"\u63D0\u95EE\u4EE4\u724C\u6570",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",gl,n(l.value.prompt_tokens||"-"),1))]),_:1}),a(v,{label:"\u56DE\u7B54\u4EE4\u724C\u6570"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",wl,n(l.value.completion_tokens||"-"),1))]),_:1}),a(v,{label:"\u8FDE\u63A5\u8017\u65F6",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",Fl,[l.value.conn_time>1e4?(t(),o(r,{key:0,color:"red"},{default:e(()=>[i(n(l.value.conn_time)+" ms ",1)]),_:1})):l.value.conn_time>5e3?(t(),o(r,{key:1,color:"orange"},{default:e(()=>[i(n(l.value.conn_time)+" ms ",1)]),_:1})):l.value.conn_time>3e3?(t(),o(r,{key:2,color:"gold"},{default:e(()=>[i(n(l.value.conn_time)+" ms ",1)]),_:1})):(t(),o(r,{key:3,color:"green"},{default:e(()=>[i(n(l.value.conn_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(v,{label:"\u6301\u7EED\u65F6\u957F"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",El,[l.value.duration>12e4?(t(),o(r,{key:0,color:"red"},{default:e(()=>[i(n(l.value.duration)+" ms ",1)]),_:1})):l.value.duration>9e4?(t(),o(r,{key:1,color:"orange"},{default:e(()=>[i(n(l.value.duration)+" ms ",1)]),_:1})):l.value.duration>6e4?(t(),o(r,{key:2,color:"gold"},{default:e(()=>[i(n(l.value.duration)+" ms ",1)]),_:1})):(t(),o(r,{key:3,color:"green"},{default:e(()=>[i(n(l.value.duration||"-")+" ms",1)]),_:1}))]))]),_:1}),a(v,{label:"\u603B\u8017\u65F6"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",$l,[l.value.total_time>12e4?(t(),o(r,{key:0,color:"red"},{default:e(()=>[i(n(l.value.total_time)+" ms ",1)]),_:1})):l.value.total_time>9e4?(t(),o(r,{key:1,color:"orange"},{default:e(()=>[i(n(l.value.total_time)+" ms ",1)]),_:1})):l.value.total_time>6e4?(t(),o(r,{key:2,color:"gold"},{default:e(()=>[i(n(l.value.total_time)+" ms ",1)]),_:1})):(t(),o(r,{key:3,color:"green"},{default:e(()=>[i(n(l.value.total_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(v,{label:"\u5185\u8017"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",Cl,[l.value.internal_time>500?(t(),o(r,{key:0,color:"red"},{default:e(()=>[i(n(l.value.internal_time)+" ms ",1)]),_:1})):l.value.internal_time>300?(t(),o(r,{key:1,color:"orange"},{default:e(()=>[i(n(l.value.internal_time)+" ms ",1)]),_:1})):l.value.internal_time>100?(t(),o(r,{key:2,color:"gold"},{default:e(()=>[i(n(l.value.internal_time)+" ms ",1)]),_:1})):(t(),o(r,{key:3,color:"green"},{default:e(()=>[i(n(l.value.internal_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(v,{label:"\u7ED3\u679C"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",Dl,[l.value.status===1?(t(),o(r,{key:0,color:"green"},{default:e(()=>[i(n(s.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1})):l.value.status===2?(t(),o(r,{key:1,color:"gold"},{default:e(()=>[i(n(s.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1})):l.value.status===3?(t(),o(r,{key:2,color:"orange"},{default:e(()=>[i(n(s.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1})):(t(),o(r,{key:3,color:"red"},{default:e(()=>[i(n(s.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1}))]))]),_:1}),a(v,{label:"\u672C\u5730IP"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(t(),_("span",Bl,n(l.value.local_ip||"-"),1))]),_:1}),a(v,{label:"\u5BA2\u6237\u7AEFIP"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(t(),_("span",xl,n(l.value.client_ip||"-"),1))]),_:1}),a(v,{label:"\u8FDC\u7A0BIP",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(t(),_("span",Vl,n(l.value.remote_ip||"-"),1))]),_:1}),a(v,{label:"\u8BF7\u6C42\u65F6\u95F4"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(t(),_("span",Al,n(l.value.req_time||"-"),1))]),_:1}),a(v,{label:"\u521B\u5EFA\u65F6\u95F4"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{widths:["200px"],rows:1})]),_:1})):(t(),_("span",ql,n(l.value.created_at||"-"),1))]),_:1}),a(v,{label:"\u9519\u8BEF\u4FE1\u606F",span:2},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:1})]),_:1})):(t(),_("span",Il,n(l.value.err_msg||"-"),1))]),_:1})]),_:1})),[[y,["admin"]]]),a(j,{layout:"inline-vertical",column:2,style:{"margin-top":"10px",position:"relative"}},{default:e(()=>[a(v,{span:2},{default:e(()=>[a(Se,{type:"card"},{default:e(()=>[a(Ie,{key:"1",title:"\u63D0\u95EE\u4E0A\u4E0B\u6587"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:3})]),_:1})):(t(),o(Y,{key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},{default:e(()=>[l.value.messages?(t(),o(m(Me),{key:0,path:"res",data:l.value.messages,"show-length":!0},null,8,["data"])):(t(),_("span",Sl,"-"))]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}),k((t(),o(j,{layout:"inline-vertical",column:2,style:{"margin-top":"10px",position:"relative"}},{default:e(()=>[a(v,{span:2},{default:e(()=>[a(Se,{type:"card"},{default:e(()=>[a(Ie,{key:"1",title:"\u6A21\u578B\u4EE3\u7406"},{default:e(()=>[m(c)?(t(),o(f,{key:0,animation:!0},{default:e(()=>[a(p,{rows:3})]),_:1})):(t(),o(Y,{key:1},{default:e(()=>[l.value.model_agent?(t(),o(m(Me),{key:0,data:l.value.model_agent,"show-length":!0},null,8,["data"])):(t(),_("span",Ll,"-"))]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})),[[y,["admin"]]])])]),_:1},8,["visible"]),a(Le,{visible:z.value,"onUpdate:visible":d[17]||(d[17]=u=>z.value=u),title:s.$t("chat.form.title.chat_export"),onCancel:Xe,onBeforeOk:We},{default:e(()=>[a(le,{ref_key:"chatExportForm",ref:$e,model:A.value},{default:e(()=>[a(C,{field:"req_time",label:s.$t("chat.form.req_time"),rules:[{required:!0,message:s.$t("chat.error.req_time.required")}]},{default:e(()=>[a(te,{modelValue:A.value.req_time,"onUpdate:modelValue":d[15]||(d[15]=u=>A.value.req_time=u),placeholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"],"time-picker-props":{defaultValue:["00:00:00","23:59:59"]},"show-time":""},null,8,["modelValue"])]),_:1},8,["label","rules"]),k((t(),o(C,{field:"user_id",label:s.$t("chat.form.user_id")},{default:e(()=>[a(H,{modelValue:A.value.user_id,"onUpdate:modelValue":d[16]||(d[16]=u=>A.value.user_id=u),placeholder:s.$t("chat.form.user_id.placeholder"),min:1,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])),[[y,["admin"]]])]),_:1},8,["model"])]),_:1},8,["visible","title"]),a(Le,{visible:N.value,"onUpdate:visible":d[20]||(d[20]=u=>N.value=u),title:s.$t("chat.form.title.chat_del"),onCancel:et,onBeforeOk:Ze},{default:e(()=>[a(le,{ref_key:"chatDelForm",ref:De,model:q.value},{default:e(()=>[a(C,{field:"value",label:s.$t("chat.form.req_time"),rules:[{required:!0,message:s.$t("chat.error.req_time.required")}]},{default:e(()=>[a(te,{modelValue:q.value.value,"onUpdate:modelValue":d[18]||(d[18]=u=>q.value.value=u),placeholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"],"time-picker-props":{defaultValue:["00:00:00","23:59:59"]},"show-time":""},null,8,["modelValue"])]),_:1},8,["label","rules"]),a(C,{field:"user_id",label:s.$t("chat.form.user_id")},{default:e(()=>[a(H,{modelValue:q.value.user_id,"onUpdate:modelValue":d[19]||(d[19]=u=>q.value.user_id=u),placeholder:s.$t("chat.form.user_id.placeholder"),min:1,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["visible","title"])]),_:1})])}}});const wo=ht(zl,[["__scopeId","data-v-e2947979"]]);export{wo as default};
