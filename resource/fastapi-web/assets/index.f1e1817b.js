import{k as S,_ as D}from"./index.3581bd65.js";/* empty css                *//* empty css                *//* empty css              *//* empty css               *//* empty css                *//* empty css               *//* empty css               *//* empty css              *//* empty css                */import{d as Q,e as _,B as T,C as E,aH as e,aG as l,aL as u,aM as p,F as f,u as s,bT as n,aK as G,aF as j,b1 as A,b2 as H,aS as K,bQ as M,bV as O,bW as P,bO as W,aU as z,bi as J,b5 as X,bI as Y,bR as Z,g as x}from"./arco.a9260898.js";import{u as ee}from"./loading.1f346a94.js";import{q as ae}from"./common.df364eef.js";import{f as le}from"./admin_user.4aa2c636.js";import{f as oe}from"./vue.ad52ddbe.js";import"./chart.d103b168.js";const re={class:"container"},te={class:"wrapper"},ue={style:{"margin-left":"10px"}},se={class:"submit-btn"},de={name:"UserCreate"},ne=Q({...de,setup(me){const{proxy:h}=x(),y=oe(),b=_(),o=_({name:"",email:"",account:"",password:"",quota:_(),quota_expires_at:"",remark:""}),{loading:V,setLoading:v}=ee(!1),g=async()=>{var r;if(!await((r=b.value)==null?void 0:r.validate())){v(!0);try{await le(o.value).then(()=>{h.$message.success("\u65B0\u5EFA\u6210\u529F"),y.push({name:"UserList"})})}catch{}finally{v(!1)}}},w=a=>{o.value.quota=a*5e5};return(a,r)=>{const $=S,c=G,k=j,i=A,m=H,C=K,d=M,U=O,B=P,I=W,q=z,F=J,R=X,L=Y,N=Z;return T(),E("div",re,[e(k,{class:"container-breadcrumb"},{default:l(()=>[e(c,null,{default:l(()=>[e($)]),_:1}),e(c,null,{default:l(()=>[u(p(a.$t("menu.user")),1)]),_:1}),e(c,null,{default:l(()=>[u(p(a.$t("menu.user.create")),1)]),_:1})]),_:1}),e(N,{loading:s(V),style:{width:"100%"}},{default:l(()=>[e(L,{class:"general-card","body-style":{padding:"0 20px 20px 20px"},bordered:!1},{default:l(()=>[f("div",te,[e(R,{ref_key:"formRef",ref:b,model:o.value,class:"form","label-col-props":{span:5},"wrapper-col-props":{span:18}},{default:l(()=>[e(m,{field:"name",label:a.$t("user.label.name"),rules:[{required:!0,message:a.$t("user.error.name.required")},{match:/^.{1,30}$/,message:a.$t("user.error.name.pattern")}]},{default:l(()=>[e(i,{modelValue:o.value.name,"onUpdate:modelValue":r[0]||(r[0]=t=>o.value.name=t),placeholder:a.$t("user.placeholder.name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(m,{field:"email",label:a.$t("user.label.email"),rules:[{required:!0,message:a.$t("user.error.email.required")}]},{default:l(()=>[e(i,{modelValue:o.value.email,"onUpdate:modelValue":r[1]||(r[1]=t=>o.value.email=t),placeholder:a.$t("user.placeholder.email"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(m,{field:"account",label:a.$t("user.label.account"),rules:[{required:!0,message:a.$t("user.error.account.required")}]},{default:l(()=>[e(i,{modelValue:o.value.account,"onUpdate:modelValue":r[2]||(r[2]=t=>o.value.account=t),placeholder:a.$t("user.placeholder.account"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(m,{field:"password",label:a.$t("user.label.password"),rules:[{required:!0,message:a.$t("user.error.password.required")},{match:/^.{6,}$/,message:a.$t("user.error.password.pattern")}]},{default:l(()=>[e(i,{modelValue:o.value.password,"onUpdate:modelValue":r[3]||(r[3]=t=>o.value.password=t),placeholder:a.$t("user.placeholder.password"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(m,{field:"quota",label:a.$t("user.label.quota"),rules:[{required:!0,message:a.$t("user.error.quota.required")}]},{default:l(()=>[e(C,{modelValue:o.value.quota,"onUpdate:modelValue":r[4]||(r[4]=t=>o.value.quota=t),placeholder:a.$t("user.placeholder.quota"),precision:0,min:-9999999999999,max:9999999999999},null,8,["modelValue","placeholder"]),f("div",ue," $"+p(o.value.quota?s(ae)(o.value.quota):"0"),1)]),_:1},8,["label","rules"]),e(m,null,{default:l(()=>[e(U,{type:"button",onChange:w},{default:l(()=>[e(d,{value:1},{default:l(()=>[u(" $1 ")]),_:1}),e(d,{value:2},{default:l(()=>[u(" $2 ")]),_:1}),e(d,{value:5},{default:l(()=>[u(" $5 ")]),_:1}),e(d,{value:10},{default:l(()=>[u(" $10 ")]),_:1}),e(d,{value:20},{default:l(()=>[u(" $20 ")]),_:1}),e(d,{value:50},{default:l(()=>[u(" $50 ")]),_:1}),e(d,{value:100},{default:l(()=>[u(" $100 ")]),_:1}),e(d,{value:200},{default:l(()=>[u(" $200 ")]),_:1}),e(d,{value:500},{default:l(()=>[u(" $500 ")]),_:1}),e(d,{value:1e3},{default:l(()=>[u(" $1000 ")]),_:1})]),_:1},8,["onChange"])]),_:1}),e(m,{field:"quota_expires_at",label:a.$t("user.label.quota_expires_at")},{default:l(()=>[e(B,{modelValue:o.value.quota_expires_at,"onUpdate:modelValue":r[5]||(r[5]=t=>o.value.quota_expires_at=t),placeholder:a.$t("user.placeholder.quota_expires_at"),"time-picker-props":{defaultValue:"23:59:59"},"disabled-date":t=>s(n)(t).isBefore(s(n)()),style:{width:"100%"},"show-time":"",shortcuts:[{label:"1",value:()=>s(n)().add(1,"day")},{label:"7",value:()=>s(n)().add(7,"day")},{label:"15",value:()=>s(n)().add(15,"day")},{label:"30",value:()=>s(n)().add(30,"day")},{label:"90",value:()=>s(n)().add(90,"day")},{label:"180",value:()=>s(n)().add(180,"day")},{label:"365",value:()=>s(n)().add(365,"day")}]},null,8,["modelValue","placeholder","disabled-date","shortcuts"])]),_:1},8,["label"]),e(m,{field:"remark",label:a.$t("user.label.remark")},{default:l(()=>[e(I,{modelValue:o.value.remark,"onUpdate:modelValue":r[6]||(r[6]=t=>o.value.remark=t),placeholder:a.$t("user.placeholder.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(F,null,{default:l(()=>[f("div",se,[e(q,{type:"secondary",onClick:r[7]||(r[7]=t=>a.$router.push({name:"UserList"}))},{default:l(()=>[u(p(a.$t("button.cancel")),1)]),_:1}),e(q,{type:"primary",onClick:g},{default:l(()=>[u(p(a.$t("button.submit")),1)]),_:1})])]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["loading"])])}}});const Ue=D(ne,[["__scopeId","data-v-9b62e6c2"]]);export{Ue as default};
