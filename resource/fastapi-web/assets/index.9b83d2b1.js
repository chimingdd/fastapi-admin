import{_ as k,t as R}from"./index.21e29598.js";import{u as B}from"./loading.e3b9231d.js";/* empty css                */import{d as V,e as b,B as _,aD as y,aG as t,aH as e,aL as m,aM as p,b2 as T,b3 as L,aT as F,bL as M,aV as I,b6 as N,C as U,aJ as D,aI as K,bC as z,bD as E,bj as q,bA as O,F as j,bt as G,aE as H,u as J,aK as P,aF as Q,bM as W,bN as X,bK as Y,bO as Z}from"./arco.a6f3e581.js";import{b as x}from"./agent.fc479c23.js";/* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css              *//* empty css              *//* empty css               */import{q as ee}from"./model.652865cb.js";/* empty css               */import"./chart.5d3761cb.js";import"./vue.7b8f6a6a.js";const ae=V({__name:"base-info",emits:["changeStep"],setup(w,{emit:f}){const c=b(),a=b({name:"",base_url:"",path:"",weight:b(),remark:""}),i=async()=>{var l;await((l=c.value)==null?void 0:l.validate())||f("changeStep","forward",{...a.value})};return(n,l)=>{const o=T,r=L,d=F,u=M,h=I,g=N;return _(),y(g,{ref_key:"formRef",ref:c,model:a.value,class:"form","label-col-props":{span:4},"wrapper-col-props":{span:18}},{default:t(()=>[e(r,{field:"name",label:n.$t("model.agent.label.name"),rules:[{required:!0,message:n.$t("model.agent.error.name.required")},{match:/^.{1,50}$/,message:n.$t("model.agent.error.name.pattern")}]},{default:t(()=>[e(o,{modelValue:a.value.name,"onUpdate:modelValue":l[0]||(l[0]=s=>a.value.name=s),placeholder:n.$t("model.agent.placeholder.name")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(r,{field:"base_url",label:n.$t("model.agent.label.baseUrl"),rules:[{required:!0,message:n.$t("model.agent.error.baseUrl.required")}]},{default:t(()=>[e(o,{modelValue:a.value.base_url,"onUpdate:modelValue":l[1]||(l[1]=s=>a.value.base_url=s),placeholder:n.$t("model.agent.placeholder.baseUrl")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(r,{field:"path",label:n.$t("model.agent.label.path")},{default:t(()=>[e(o,{modelValue:a.value.path,"onUpdate:modelValue":l[2]||(l[2]=s=>a.value.path=s),placeholder:n.$t("model.agent.placeholder.path")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(r,{field:"weight",label:n.$t("model.agent.label.weight")},{default:t(()=>[e(d,{modelValue:a.value.weight,"onUpdate:modelValue":l[3]||(l[3]=s=>a.value.weight=s),precision:0,min:0,max:99999,placeholder:n.$t("model.agent.placeholder.weight")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(r,{field:"remark",label:n.$t("model.agent.label.remark")},{default:t(()=>[e(u,{modelValue:a.value.remark,"onUpdate:modelValue":l[4]||(l[4]=s=>a.value.remark=s),placeholder:n.$t("model.agent.placeholder.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(r,null,{default:t(()=>[e(h,{type:"primary",onClick:i},{default:t(()=>[m(p(n.$t("model.agent.button.next")),1)]),_:1})]),_:1})]),_:1},8,["model"])}}});const te=k(ae,[["__scopeId","data-v-8e3e8760"]]),le=V({__name:"advanced",emits:["changeStep"],setup(w,{emit:f}){const{setLoading:c}=B(!0),a=b([]);(async()=>{c(!0);try{const{data:d}=await ee();a.value=d.items}catch{}finally{c(!1)}})();const n=b(),l=b({models:[],key:""}),o=async()=>{var u;await((u=n.value)==null?void 0:u.validate())||f("changeStep","submit",{...l.value})},r=()=>{f("changeStep","backward")};return(d,u)=>{const h=z,g=E,s=L,C=M,$=I,S=q,A=N;return _(),y(A,{ref_key:"formRef",ref:n,model:l.value,class:"form","label-col-props":{span:4},"wrapper-col-props":{span:18}},{default:t(()=>[e(s,{field:"models",label:d.$t("model.agent.label.models"),rules:[{required:!1}]},{default:t(()=>[e(g,{modelValue:l.value.models,"onUpdate:modelValue":u[0]||(u[0]=v=>l.value.models=v),placeholder:d.$t("model.agent.placeholder.models"),"max-tag-count":3,multiple:"","allow-clear":""},{default:t(()=>[(_(!0),U(D,null,K(a.value,v=>(_(),y(h,{key:v.id,value:v.id,label:v.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),e(s,{field:"key",label:d.$t("model.agent.label.key")},{default:t(()=>[e(C,{modelValue:l.value.key,"onUpdate:modelValue":u[1]||(u[1]=v=>l.value.key=v),placeholder:d.$t("model.agent.placeholder.key"),"auto-size":{minRows:5,maxRows:10}},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(s,null,{default:t(()=>[e(S,null,{default:t(()=>[e($,{type:"secondary",onClick:r},{default:t(()=>[m(p(d.$t("model.agent.button.prev")),1)]),_:1}),e($,{type:"primary",onClick:o},{default:t(()=>[m(p(d.$t("model.agent.button.next")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}});const oe=k(le,[["__scopeId","data-v-2d114138"]]),ne={class:"success-wrap"},se=V({__name:"success",emits:["changeStep"],setup(w,{emit:f}){const c=()=>{f("changeStep",1)};return(a,i)=>{const n=O,l=I,o=q;return _(),U("div",ne,[e(n,{status:"success",title:a.$t("model.agent.success.title"),subtitle:a.$t("model.agent.success.create.subTitle")},null,8,["title","subtitle"]),e(o,{size:16},{default:t(()=>[e(l,{key:"finish",type:"secondary",onClick:i[0]||(i[0]=r=>a.$router.push({name:"ModelAgentList"}))},{default:t(()=>[m(p(a.$t("model.agent.button.finish")),1)]),_:1}),e(l,{key:"again",type:"primary",onClick:c},{default:t(()=>[m(p(a.$t("model.agent.button.again")),1)]),_:1})]),_:1})])}}});const re=k(se,[["__scopeId","data-v-f97cbe3c"]]),de={class:"container"},ue={class:"wrapper"},me={name:"ModelAgentCreate"},pe=V({...me,setup(w){const{loading:f,setLoading:c}=B(!1),a=b(1),i=b({}),n=async()=>{c(!0);try{await x(i.value),a.value=3,i.value={}}catch{}finally{c(!1)}},l=(o,r)=>{if(typeof o=="number"){a.value=o;return}if(o==="forward"||o==="submit"){if(i.value={...i.value,...r},o==="submit"){n();return}a.value+=1}else o==="backward"&&(a.value-=1)};return(o,r)=>{const d=R,u=P,h=Q,g=W,s=X,C=Y,$=Z;return _(),U("div",de,[e(h,{class:"container-breadcrumb"},{default:t(()=>[e(u,null,{default:t(()=>[e(d)]),_:1}),e(u,null,{default:t(()=>[m(p(o.$t("menu.agent")),1)]),_:1}),e(u,null,{default:t(()=>[m(p(o.$t("menu.model.agent.create")),1)]),_:1})]),_:1}),e($,{loading:J(f),style:{width:"100%"}},{default:t(()=>[e(C,{class:"general-card",bordered:!1},{title:t(()=>[m(p(o.$t("model.agent.title.create")),1)]),default:t(()=>[j("div",ue,[e(s,{current:a.value,"onUpdate:current":r[0]||(r[0]=S=>a.value=S),style:{width:"660px"},"line-less":"",class:"steps"},{default:t(()=>[e(g,{description:o.$t("model.agent.subTitle.baseInfo")},{default:t(()=>[m(p(o.$t("model.agent.title.baseInfo")),1)]),_:1},8,["description"]),e(g,{description:o.$t("model.agent.subTitle.advanced")},{default:t(()=>[m(p(o.$t("model.agent.title.advanced")),1)]),_:1},8,["description"]),e(g,{description:o.$t("model.agent.subTitle.create.finish")},{default:t(()=>[m(p(o.$t("model.agent.title.create.finish")),1)]),_:1},8,["description"])]),_:1},8,["current"]),(_(),y(G,null,[a.value===1?(_(),y(te,{key:0,onChangeStep:l})):a.value===2?(_(),y(oe,{key:1,onChangeStep:l})):a.value===3?(_(),y(re,{key:2,onChangeStep:l})):H("",!0)],1024))])]),_:1})]),_:1},8,["loading"])])}}});const Ue=k(pe,[["__scopeId","data-v-35e45b84"]]);export{Ue as default};
