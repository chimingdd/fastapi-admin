import{u as ve,C as et,p as tt,y as at,i as lt,z as ot,_ as nt}from"./index.7e6d1763.js";/* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css              */import{d as ke,e as y,B as n,C as c,aH as e,aG as t,u as s,aD as f,aM as i,aL as p,bA as st,bB as ut,bC as it,bD as dt,bE as rt,r as ye,c as oe,w as fe,aJ as K,aI as P,F as D,D as ct,g as mt,n as pt,aK as _t,aF as yt,bF as ft,bG as vt,b2 as kt,bH as bt,b1 as gt,bI as ht,b5 as wt,bJ as Ct,ab as $t,aU as Et,bi as Ft,bj as xt,bl as Dt,bm as Bt,b4 as Vt,bK as It,ad as At,aT as St,bL as qt,bM as zt,aV as Lt,a_ as Nt,bN as Mt}from"./arco.ba78a5b2.js";import{h as Ut,u as Kt}from"./vue.2736b3ca.js";import{u as be}from"./loading.0618e973.js";import{q as ge}from"./common.df364eef.js";import{q as he,s as Pt,a as Ot,b as Tt,c as Ht}from"./key.7a11f046.js";import{c as ne,S as jt}from"./sortable.esm.efdc80f6.js";import{q as Rt}from"./model.117b6e94.js";import{f as Gt}from"./agent.83ecd263.js";import{q as Jt}from"./provider.3d443820.js";import{M as Qt}from"./models.0ae27a96.js";/* empty css                *//* empty css                */import"./chart.df189e8a.js";const Wt={style:{margin:"10px 0 30px 10px"}},Xt={key:1},Yt={key:1},Zt={key:1},ea={key:1},ta={key:1},aa={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},la={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},oa={key:1},na={key:1},sa={key:1},ua={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},ia={key:1,style:{"max-height":"110px",display:"block",overflow:"auto"}},da={key:1},ra={key:1},ca={name:"KeyDetail"},ma=ke({...ca,props:{id:{type:String,default:""}},setup(se){const J=se,{t:d}=ve(),{loading:m,setLoading:B}=be(!0),_=y({});return(async(U={id:J.id})=>{B(!0);try{const{data:q}=await he(U);_.value=q}catch{}finally{B(!1)}})(),(U,q)=>{const k=st,v=ut,b=it,O=dt,T=rt;return n(),c("div",Wt,[e(T,{column:2,bordered:"","value-style":{width:"350px",padding:"5px 8px 5px 20px"}},{default:t(()=>[e(b,{label:s(d)("common.key"),span:2},{default:t(()=>[s(m)?(n(),f(v,{key:0,animation:!0},{default:t(()=>[e(k,{rows:1})]),_:1})):(n(),c("span",Xt,i(_.value.key),1))]),_:1},8,["label"]),e(b,{label:s(d)("common.provider")},{default:t(()=>[s(m)?(n(),f(v,{key:0,animation:!0},{default:t(()=>[e(k,{rows:1})]),_:1})):(n(),c("span",Yt,i(_.value.provider_name),1))]),_:1},8,["label"]),e(b,{label:s(d)("key.detail.label.used_quota")},{default:t(()=>[s(m)?(n(),f(v,{key:0,animation:!0},{default:t(()=>[e(k,{rows:1})]),_:1})):(n(),c("span",Zt,i(_.value.used_quota>0?`$${s(ge)(_.value.used_quota)}`:"$0.00"),1))]),_:1},8,["label"]),e(b,{label:s(d)("model.agent.detail.label.weight")},{default:t(()=>[s(m)?(n(),f(v,{key:0,animation:!0},{default:t(()=>[e(k,{rows:1})]),_:1})):(n(),c("span",ea,i(_.value.weight),1))]),_:1},8,["label"]),e(b,{label:s(d)("common.status")},{default:t(()=>[s(m)?(n(),f(v,{key:0,animation:!0},{default:t(()=>[e(k,{rows:1})]),_:1})):(n(),c("span",ta,[_.value.status===1?(n(),f(O,{key:0,color:"green"},{default:t(()=>[p(i(U.$t(`dict.status.${_.value.status}`)),1)]),_:1})):(n(),f(O,{key:1,color:"red"},{default:t(()=>[p(i(U.$t(`dict.status.${_.value.status}`)),1)]),_:1}))]))]),_:1},8,["label"]),e(b,{label:s(d)("key.detail.label.bind.models"),span:2},{default:t(()=>{var u,x;return[s(m)?(n(),f(v,{key:0,animation:!0},{default:t(()=>[e(k,{rows:1})]),_:1})):(n(),c("span",aa,i(((x=(u=_.value)==null?void 0:u.model_names)==null?void 0:x.join(`
`))||"-"),1))]}),_:1},8,["label"]),e(b,{label:s(d)("key.detail.label.model_agent_names"),span:2},{default:t(()=>{var u,x;return[s(m)?(n(),f(v,{key:0,animation:!0},{default:t(()=>[e(k,{rows:1})]),_:1})):(n(),c("span",la,i(((x=(u=_.value)==null?void 0:u.model_agent_names)==null?void 0:x.join(`
`))||"-"),1))]}),_:1},8,["label"]),e(b,{label:s(d)("key.detail.label.is_agents_only"),span:2},{default:t(()=>{var u;return[s(m)?(n(),f(v,{key:0,animation:!0},{default:t(()=>[e(k,{rows:1})]),_:1})):(n(),c("span",oa,i(s(d)(`dict.${((u=_.value)==null?void 0:u.is_agents_only)||!1}`)),1))]}),_:1},8,["label"]),e(b,{label:s(d)("key.detail.label.is_never_disable"),span:2},{default:t(()=>{var u;return[s(m)?(n(),f(v,{key:0,animation:!0},{default:t(()=>[e(k,{rows:1})]),_:1})):(n(),c("span",na,i(s(d)(`dict.${((u=_.value)==null?void 0:u.is_never_disable)||!1}`)),1))]}),_:1},8,["label"]),e(b,{label:s(d)("key.detail.label.is_auto_disabled"),span:2},{default:t(()=>{var u;return[s(m)?(n(),f(v,{key:0,animation:!0},{default:t(()=>[e(k,{rows:1})]),_:1})):(n(),c("span",sa,i(s(d)(`dict.${((u=_.value)==null?void 0:u.is_auto_disabled)||!1}`)),1))]}),_:1},8,["label"]),e(b,{label:s(d)("key.detail.label.auto_disabled_reason"),span:2},{default:t(()=>[s(m)?(n(),f(v,{key:0,animation:!0},{default:t(()=>[e(k,{rows:1})]),_:1})):(n(),c("span",ua,i(_.value.auto_disabled_reason||"-"),1))]),_:1},8,["label"]),e(b,{label:s(d)("common.remark"),span:2},{default:t(()=>[s(m)?(n(),f(v,{key:0,animation:!0},{default:t(()=>[e(k,{rows:1})]),_:1})):(n(),c("span",ia,i(_.value.remark||"-"),1))]),_:1},8,["label"]),e(b,{label:s(d)("common.created_at"),span:2},{default:t(()=>[s(m)?(n(),f(v,{key:0,animation:!0},{default:t(()=>[e(k,{rows:1})]),_:1})):(n(),c("span",da,i(_.value.created_at),1))]),_:1},8,["label"]),e(b,{label:s(d)("common.updated_at"),span:2},{default:t(()=>[s(m)?(n(),f(v,{key:0,animation:!0},{default:t(()=>[e(k,{rows:1})]),_:1})):(n(),c("span",ra,i(_.value.updated_at),1))]),_:1},8,["label"])]),_:1})])}}}),pa={class:"container"},_a={class:"action-icon"},ya={class:"action-icon"},fa={id:"tableSetting"},va={style:{"margin-right":"4px",cursor:"move"}},ka={class:"title"},ba={key:0},ga={key:1},ha={name:"KeyList"},wa=ke({...ha,setup(se){const{loading:J,setLoading:d}=be(!0),{proxy:m}=mt(),B=Ut(),_=ye({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),Q=y([]);(async()=>{d(!0);try{const{data:a}=await Jt();Q.value=a.items}catch{}finally{d(!1)}})();const q=y([]);(async()=>{try{const{data:a}=await Rt();q.value=a.items}catch{}})();const v=y([]);(async()=>{try{const{data:a}=await Gt();v.value=a.items;const o=new Array(0);B.query.agent_id&&(o[0]=B.query.agent_id,r.value.model_agents=o)}catch{}})();const O=async a=>{d(!0);try{await Pt(a),m.$message.success("\u5220\u9664\u6210\u529F"),L()}catch{}finally{d(!1)}},T=()=>({type:2,provider_id:"",key:"",models:[],model_agents:y(),quota:y(),status:y(),remark:""}),{t:u}=ve(),x=y([]),r=y(T()),V=y([]),H=y([]),W=y("medium"),I=y([]),A=y(!0),E=y(!0),X=y(),z={current:1,pageSize:20,showTotal:!0,showPageSize:!0,pageSizeOptions:[20,50,100,500,1e3]},S=ye({...z}),we=oe(()=>[{name:u("size.mini"),value:"mini"},{name:u("size.small"),value:"small"},{name:u("size.medium"),value:"medium"},{name:u("size.large"),value:"large"}]),Ce=oe(()=>[{title:u("key.columns.provider"),dataIndex:"provider_name",slotName:"provider_name",align:"center",width:120},{title:u("key.columns.key"),dataIndex:"key",slotName:"key",align:"center",width:230},{title:u("key.columns.models"),dataIndex:"models",slotName:"models",align:"center",ellipsis:!0,tooltip:!0},{title:u("key.columns.model_agents"),dataIndex:"model_agent_names",slotName:"model_agent_names",align:"center",ellipsis:!0,tooltip:!0},{title:u("key.columns.used_quota"),dataIndex:"used_quota",slotName:"used_quota",align:"center",ellipsis:!0,tooltip:!0},{title:u("common.weight"),dataIndex:"weight",slotName:"weight",align:"center",width:60},{title:u("key.columns.remark"),dataIndex:"remark",slotName:"remark",align:"center",ellipsis:!0,tooltip:!0},{title:u("key.columns.status"),dataIndex:"status",slotName:"status",align:"center",width:65},{title:u("key.columns.updated_at"),dataIndex:"updated_at",slotName:"updated_at",align:"center",width:132},{title:u("key.columns.operations"),dataIndex:"operations",slotName:"operations",align:"center",width:170}]),$e=oe(()=>[{label:u("key.dict.status.1"),value:1},{label:u("key.dict.status.2"),value:2}]),ue=new Array(0);B.query.agent_id&&(ue[0]=B.query.agent_id);const j=async(a={...z,type:2,model_agents:ue})=>{d(!0);try{const{data:o}=await Ot(a);x.value=o.items,S.current=a.current,S.pageSize=a.pageSize,S.total=o.paging.total,o.items.length>0&&(r.value.provider_id||r.value.key||r.value.models.length>0||r.value.model_agents||r.value.status||r.value.remark)?E.value=!1:E.value=!0}catch{}finally{d(!1),X.value.selectAll(!1)}},L=()=>{j({...z,...r.value})},Ee=a=>{j({...z,...r.value,current:a})},Fe=a=>{z.pageSize=a,j({...z,...r.value})};j();const xe=()=>{r.value=T(),L()},De=async a=>{d(!0);try{await Tt(a),m.$message.success("\u64CD\u4F5C\u6210\u529F"),L()}catch{}finally{d(!1)}},Be=(a,o)=>{W.value=a},Ve=(a,o,w)=>{a?V.value.splice(w,0,o):V.value=H.value.filter(C=>C.dataIndex!==o.dataIndex)},ie=(a,o,w,C=!1)=>{const F=C?ne(a):a;return o>-1&&w>-1&&F.splice(o,1,F.splice(w,1,F[o]).pop()),F},Ie=a=>{a&&pt(()=>{const o=document.getElementById("tableSetting");new jt(o,{onEnd(w){const{oldIndex:C,newIndex:F}=w;ie(V.value,C,F),ie(H.value,C,F)}})})};fe(()=>Ce.value,a=>{V.value=ne(a),V.value.forEach((o,w)=>{o.checked=!0}),H.value=ne(V.value)},{deep:!0,immediate:!0});const Ae=a=>{I.value=a,A.value=!a.length},N=a=>{if(E.value&&I.value.length===0)m.$message.info("\u8BF7\u9009\u62E9\u6216\u67E5\u8BE2\u8981\u64CD\u4F5C\u7684\u6570\u636E");else{let o=`\u662F\u5426\u786E\u5B9A\u64CD\u4F5C\u6240\u9009\u7684${I.value.length}\u6761\u6570\u636E?`;switch(a.action){case"status":a.value===1?o=`\u662F\u5426\u786E\u5B9A\u542F\u7528\u6240\u9009\u7684${I.value.length}\u6761\u6570\u636E?`:o=`\u662F\u5426\u786E\u5B9A\u7981\u7528\u6240\u9009\u7684${I.value.length}\u6761\u6570\u636E?`;break;case"delete":o=`\u662F\u5426\u786E\u5B9A\u5220\u9664\u6240\u9009\u7684${I.value.length}\u6761\u6570\u636E?`;break;case"all-status":a.value===1?o=`\u662F\u5426\u786E\u5B9A\u5168\u90E8\u542F\u7528\u67E5\u8BE2\u7ED3\u679C\u7684${S.total}\u6761\u6570\u636E?`:o=`\u662F\u5426\u786E\u5B9A\u5168\u90E8\u7981\u7528\u67E5\u8BE2\u7ED3\u679C\u7684${S.total}\u6761\u6570\u636E?`;break;case"all-delete":o=`\u662F\u5426\u786E\u5B9A\u5168\u90E8\u5220\u9664\u67E5\u8BE2\u7ED3\u679C\u7684${S.total}\u6761\u6570\u636E?`;break}m.$modal.warning({title:"\u8B66\u544A",titleAlign:"center",content:o,hideCancel:!1,onOk:()=>{d(!0),a.ids=I.value,Ht({...a,...r.value}).then(w=>{d(!1),m.$message.success("\u64CD\u4F5C\u6210\u529F, \u4EFB\u52A1\u5DF2\u63D0\u4EA4"),L(),X.value.selectAll(!1)})}})}},{copy:Se,copied:de}=Kt(),qe=async a=>{const{data:o}=await he({id:a});Se(o.key)};fe(de,()=>{de.value&&m.$message.success("\u590D\u5236\u6210\u529F")});const Y=y(!1),R=y(),ze=a=>{Y.value=!0,R.value=a},Le=()=>{Y.value=!1},Z=y(!1),re=y(),Ne=a=>{Z.value=!0,R.value=a,re.value="key"};return(a,o)=>{const w=et,C=_t,F=yt,ee=ft,G=vt,M=kt,$=bt,ce=gt,te=ht,Me=wt,me=Ct,Ue=$t,g=Et,pe=tt,_e=Ft,ae=xt,Ke=at,Pe=Dt,Oe=Bt,Te=lt,He=ot,je=Vt,Re=It,Ge=At,Je=St,Qe=qt,We=zt,Xe=Lt,Ye=Nt,Ze=Mt;return n(),c("div",pa,[e(F,{class:"container-breadcrumb"},{default:t(()=>[e(C,null,{default:t(()=>[e(w)]),_:1}),e(C,null,{default:t(()=>[p(i(a.$t("menu.key")),1)]),_:1}),e(C,null,{default:t(()=>[p(i(a.$t("menu.key.model.list")),1)]),_:1})]),_:1}),e(Ze,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 20px"}},{default:t(()=>[e(te,null,{default:t(()=>[e($,{flex:1},{default:t(()=>[e(Me,{model:r.value,"label-col-props":{span:5},"wrapper-col-props":{span:18},"label-align":"left"},{default:t(()=>[e(te,{gutter:16},{default:t(()=>[e($,{span:8},{default:t(()=>[e(M,{field:"provider_id",label:a.$t("key.form.provider")},{default:t(()=>[e(G,{modelValue:r.value.provider_id,"onUpdate:modelValue":o[0]||(o[0]=l=>r.value.provider_id=l),placeholder:a.$t("key.form.selectDefault"),scrollbar:!1,"allow-search":"","allow-clear":""},{default:t(()=>[(n(!0),c(K,null,P(Q.value,l=>(n(),f(ee,{key:l.id,value:l.id,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e($,{span:7},{default:t(()=>[e(M,{field:"key",label:a.$t("key.form.key")},{default:t(()=>[e(ce,{modelValue:r.value.key,"onUpdate:modelValue":o[1]||(o[1]=l=>r.value.key=l),placeholder:a.$t("key.form.key.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e($,{span:9},{default:t(()=>[e(M,{field:"models",label:a.$t("key.form.models")},{default:t(()=>[e(G,{modelValue:r.value.models,"onUpdate:modelValue":o[2]||(o[2]=l=>r.value.models=l),placeholder:a.$t("key.form.selectDefault"),"max-tag-count":2,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:t(()=>[(n(!0),c(K,null,P(q.value,l=>(n(),f(ee,{key:l.id,value:l.id,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e($,{span:8},{default:t(()=>[e(M,{field:"model_agents",label:a.$t("key.form.modelAgents")},{default:t(()=>[e(G,{modelValue:r.value.model_agents,"onUpdate:modelValue":o[3]||(o[3]=l=>r.value.model_agents=l),placeholder:a.$t("key.form.selectDefault"),"max-tag-count":2,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:t(()=>[(n(!0),c(K,null,P(v.value,l=>(n(),f(ee,{key:l.id,value:l.id,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e($,{span:7},{default:t(()=>[e(M,{field:"status",label:a.$t("key.form.status")},{default:t(()=>[e(G,{modelValue:r.value.status,"onUpdate:modelValue":o[4]||(o[4]=l=>r.value.status=l),placeholder:a.$t("key.form.selectDefault"),options:s($e),scrollbar:!1,"allow-clear":""},null,8,["modelValue","placeholder","options"])]),_:1},8,["label"])]),_:1}),e($,{span:9},{default:t(()=>[e(M,{field:"remark",label:a.$t("key.form.remark")},{default:t(()=>[e(ce,{modelValue:r.value.remark,"onUpdate:modelValue":o[5]||(o[5]=l=>r.value.remark=l),placeholder:a.$t("key.form.remark.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(me,{style:{height:"84px"},direction:"vertical"}),e($,{flex:"86px",style:{"text-align":"right"}},{default:t(()=>[e(_e,{direction:"vertical",size:18},{default:t(()=>[e(g,{type:"primary",onClick:L},{icon:t(()=>[e(Ue)]),default:t(()=>[p(" "+i(a.$t("key.form.search")),1)]),_:1}),e(g,{onClick:xe},{icon:t(()=>[e(pe)]),default:t(()=>[p(" "+i(a.$t("key.form.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(me,{style:{"margin-top":"0","margin-bottom":"16px"}}),e(te,{style:{"margin-bottom":"16px"}},{default:t(()=>[e($,{span:12},{default:t(()=>[e(_e,null,{default:t(()=>[e(g,{type:"primary",onClick:o[6]||(o[6]=l=>a.$router.push({name:"KeyCreate"}))},{default:t(()=>[p(i(a.$t("key.operation.create")),1)]),_:1}),e(g,{type:"primary",status:"success",disabled:A.value,title:A.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:o[7]||(o[7]=l=>N({action:"status",value:1}))},{default:t(()=>[p(" \u542F\u7528 ")]),_:1},8,["disabled","title"]),e(g,{type:"primary",status:"danger",disabled:A.value,title:A.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:o[8]||(o[8]=l=>N({action:"status",value:2}))},{default:t(()=>[p(" \u7981\u7528 ")]),_:1},8,["disabled","title"]),e(g,{type:"primary",status:"danger",disabled:A.value,title:A.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:o[9]||(o[9]=l=>N({action:"delete"}))},{default:t(()=>[p(" \u5220\u9664 ")]),_:1},8,["disabled","title"]),e(g,{type:"primary",status:"success",disabled:E.value,title:E.value?"\u8BF7\u67E5\u8BE2\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:o[10]||(o[10]=l=>N({action:"all-status",value:1}))},{default:t(()=>[p(" \u5168\u90E8\u542F\u7528 ")]),_:1},8,["disabled","title"]),e(g,{type:"primary",status:"danger",disabled:E.value,title:E.value?"\u8BF7\u67E5\u8BE2\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:o[11]||(o[11]=l=>N({action:"all-status",value:2}))},{default:t(()=>[p(" \u5168\u90E8\u7981\u7528 ")]),_:1},8,["disabled","title"]),e(g,{type:"primary",status:"danger",disabled:E.value,title:E.value?"\u8BF7\u67E5\u8BE2\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:o[12]||(o[12]=l=>N({action:"all-delete"}))},{default:t(()=>[p(" \u5168\u90E8\u5220\u9664 ")]),_:1},8,["disabled","title"])]),_:1})]),_:1}),e($,{span:12,style:{display:"flex",height:"32px","align-items":"center","justify-content":"end"}},{default:t(()=>[e(ae,{content:a.$t("actions.refresh")},{default:t(()=>[D("div",{class:"action-icon",onClick:L},[e(pe,{size:"18"})])]),_:1},8,["content"]),e(Oe,{onSelect:Be},{content:t(()=>[(n(!0),c(K,null,P(s(we),l=>(n(),f(Pe,{key:l.value,value:l.value,class:ct({active:l.value===W.value})},{default:t(()=>[D("span",null,i(l.name),1)]),_:2},1032,["value","class"]))),128))]),default:t(()=>[e(ae,{content:a.$t("actions.density")},{default:t(()=>[D("div",_a,[e(Ke,{size:"18"})])]),_:1},8,["content"])]),_:1}),e(ae,{content:a.$t("actions.column_setting")},{default:t(()=>[e(Re,{trigger:"click",position:"bl",onPopupVisibleChange:Ie},{content:t(()=>[D("div",fa,[(n(!0),c(K,null,P(H.value,(l,h)=>(n(),c("div",{key:l.dataIndex,class:"setting"},[D("div",va,[e(He)]),D("div",null,[e(je,{modelValue:l.checked,"onUpdate:modelValue":le=>l.checked=le,onChange:le=>Ve(le,l,h)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),D("div",ka,i(l.title==="#"?"\u5E8F\u5217\u53F7":l.title),1)]))),128))])]),default:t(()=>[D("div",ya,[e(Te,{size:"18"})])]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),e(We,{ref_key:"tableRef",ref:X,"row-key":"id",loading:s(J),pagination:S,columns:V.value,data:x.value,bordered:!1,size:W.value,"row-selection":_,onPageChange:Ee,onPageSizeChange:Fe,onSelectionChange:Ae},{key:t(({record:l})=>[p(i(l.key.length>11?l.key.substr(0,10)+l.key.substr(-10):l.key)+" ",1),e(Ge,{class:"copy-btn",onClick:h=>qe(l.id)},null,8,["onClick"])]),models:t(({record:l})=>[l.models?(n(),c("span",ba,[e(g,{type:"text",size:"small",onClick:h=>Ne(l.id)},{default:t(()=>[p(" \u67E5\u770B ")]),_:2},1032,["onClick"])])):(n(),c("span",ga,i("-")))]),model_agent_names:t(({record:l})=>{var h;return[p(i(((h=l==null?void 0:l.model_agent_names)==null?void 0:h.join(","))||"-"),1)]}),used_quota:t(({record:l})=>[p(" $"+i(l.used_quota>0?s(ge)(l.used_quota):"0.00"),1)]),remark:t(({record:l})=>[p(i(l.remark||"-"),1)]),status:t(({record:l})=>[e(Je,{modelValue:l.status,"onUpdate:modelValue":h=>l.status=h,"checked-value":1,"unchecked-value":2,onChange:h=>De({id:`${l.id}`,status:Number(`${l.status}`)})},null,8,["modelValue","onUpdate:modelValue","onChange"])]),operations:t(({record:l})=>[e(g,{type:"text",size:"small",onClick:h=>ze(l.id)},{default:t(()=>[p(i(a.$t("key.columns.operations.view")),1)]),_:2},1032,["onClick"]),e(g,{type:"text",size:"small",onClick:h=>a.$router.push({name:"KeyUpdate",query:{id:`${l.id}`}})},{default:t(()=>[p(i(a.$t("key.columns.operations.update")),1)]),_:2},1032,["onClick"]),e(Qe,{content:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u5417?",onOk:h=>O({id:`${l.id}`})},{default:t(()=>[e(g,{type:"text",size:"small"},{default:t(()=>[p(i(a.$t("key.columns.operations.delete")),1)]),_:1})]),_:2},1032,["onOk"])]),_:1},8,["loading","pagination","columns","data","size","row-selection"]),e(Xe,{title:a.$t("menu.key.detail"),"unmount-on-close":"","render-to-body":"",width:700,footer:!1,visible:Y.value,onCancel:Le},{default:t(()=>[e(ma,{id:R.value},null,8,["id"])]),_:1},8,["title","visible"]),e(Ye,{visible:Z.value,"onUpdate:visible":o[13]||(o[13]=l=>Z.value=l),title:"\u6A21\u578B","modal-style":{padding:"25px 15px 20px 15px"},"unmount-on-close":"","hide-cancel":"",simple:"",width:"1080px","ok-text":"\u5173\u95ED"},{default:t(()=>[e(Qt,{id:R.value,action:re.value},null,8,["id","action"])]),_:1},8,["visible"])]),_:1})])}}});const Ya=nt(wa,[["__scopeId","data-v-3f638b16"]]);export{Ya as default};
