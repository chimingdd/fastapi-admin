import{k as L,_ as N}from"./index.a2ab6872.js";/* empty css                *//* empty css                *//* empty css              *//* empty css               *//* empty css                *//* empty css               *//* empty css               *//* empty css              *//* empty css                */import{d as S,e as c,B as x,C as Q,aH as e,aG as l,aL as u,aM as m,F as f,u as s,bT as n,aK as T,aF as E,b1 as G,b2 as j,aS as A,bQ as K,bV as M,bW as O,bO as P,aU as W,bi as z,b5 as J,bI as X,bR as Y,g as Z}from"./arco.a9260898.js";import{u as ee}from"./loading.1f346a94.js";import{q as ae}from"./common.df364eef.js";import{f as le}from"./admin_user.4aaa4c2c.js";import{f as te}from"./vue.ad52ddbe.js";import"./chart.d103b168.js";const oe={class:"container"},re={class:"wrapper"},ue={style:{"margin-left":"10px"}},se={class:"submit-btn"},de={name:"UserCreate"},ne=S({...de,setup(pe){const{proxy:w}=Z(),h=te(),b=c(),t=c({name:"",email:"",account:"",password:"",quota:c(),quota_expires_at:"",remark:""}),{loading:y,setLoading:v}=ee(!1),V=async()=>{var o;if(!await((o=b.value)==null?void 0:o.validate())){v(!0);try{await le(t.value).then(()=>{w.$message.success("\u65B0\u5EFA\u6210\u529F"),h.push({name:"UserList"})})}catch{}finally{v(!1)}}},g=a=>{t.value.quota=a*5e5};return(a,o)=>{const $=L,_=T,k=E,i=G,p=j,C=A,d=K,U=M,D=O,B=P,q=W,H=z,I=J,F=X,R=Y;return x(),Q("div",oe,[e(k,{class:"container-breadcrumb"},{default:l(()=>[e(_,null,{default:l(()=>[e($)]),_:1}),e(_,null,{default:l(()=>[u(m(a.$t("menu.user")),1)]),_:1}),e(_,null,{default:l(()=>[u(m(a.$t("menu.user.create")),1)]),_:1})]),_:1}),e(R,{loading:s(y),style:{width:"100%"}},{default:l(()=>[e(F,{class:"general-card","body-style":{padding:"0 20px 20px 20px"},bordered:!1},{default:l(()=>[f("div",re,[e(I,{ref_key:"formRef",ref:b,model:t.value,class:"form","label-col-props":{span:5},"wrapper-col-props":{span:18}},{default:l(()=>[e(p,{field:"name",label:a.$t("user.label.name"),rules:[{required:!0,message:a.$t("user.error.name.required")},{match:/^.{1,30}$/,message:a.$t("user.error.name.pattern")}]},{default:l(()=>[e(i,{modelValue:t.value.name,"onUpdate:modelValue":o[0]||(o[0]=r=>t.value.name=r),placeholder:a.$t("user.placeholder.name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(p,{field:"email",label:a.$t("user.label.email"),rules:[{required:!0,message:a.$t("user.error.email.required")}]},{default:l(()=>[e(i,{modelValue:t.value.email,"onUpdate:modelValue":o[1]||(o[1]=r=>t.value.email=r),placeholder:a.$t("user.placeholder.email"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(p,{field:"account",label:a.$t("user.label.account"),rules:[{required:!0,message:a.$t("user.error.account.required")}]},{default:l(()=>[e(i,{modelValue:t.value.account,"onUpdate:modelValue":o[2]||(o[2]=r=>t.value.account=r),placeholder:a.$t("user.placeholder.account"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(p,{field:"password",label:a.$t("user.label.password"),rules:[{required:!0,message:a.$t("user.error.password.required")},{match:/^.{6,}$/,message:a.$t("user.error.password.pattern")}]},{default:l(()=>[e(i,{modelValue:t.value.password,"onUpdate:modelValue":o[3]||(o[3]=r=>t.value.password=r),placeholder:a.$t("user.placeholder.password"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(p,{field:"quota",label:a.$t("user.label.quota"),rules:[{required:!0,message:a.$t("user.error.quota.required")}]},{default:l(()=>[e(C,{modelValue:t.value.quota,"onUpdate:modelValue":o[4]||(o[4]=r=>t.value.quota=r),placeholder:a.$t("user.placeholder.quota"),precision:0,min:-9999999999999,max:9999999999999},null,8,["modelValue","placeholder"]),f("div",ue," $"+m(t.value.quota?s(ae)(t.value.quota):"0"),1)]),_:1},8,["label","rules"]),e(p,null,{default:l(()=>[e(U,{type:"button",onChange:g},{default:l(()=>[e(d,{value:1},{default:l(()=>[u(" $1 ")]),_:1}),e(d,{value:2},{default:l(()=>[u(" $2 ")]),_:1}),e(d,{value:5},{default:l(()=>[u(" $5 ")]),_:1}),e(d,{value:10},{default:l(()=>[u(" $10 ")]),_:1}),e(d,{value:20},{default:l(()=>[u(" $20 ")]),_:1}),e(d,{value:50},{default:l(()=>[u(" $50 ")]),_:1}),e(d,{value:100},{default:l(()=>[u(" $100 ")]),_:1}),e(d,{value:200},{default:l(()=>[u(" $200 ")]),_:1}),e(d,{value:500},{default:l(()=>[u(" $500 ")]),_:1}),e(d,{value:1e3},{default:l(()=>[u(" $1000 ")]),_:1})]),_:1},8,["onChange"])]),_:1}),e(p,{field:"quota_expires_at",label:a.$t("user.label.quota_expires_at")},{default:l(()=>[e(D,{modelValue:t.value.quota_expires_at,"onUpdate:modelValue":o[5]||(o[5]=r=>t.value.quota_expires_at=r),placeholder:a.$t("user.placeholder.quota_expires_at"),"time-picker-props":{defaultValue:"23:59:59"},"disabled-date":r=>s(n)(r).isBefore(s(n)()),style:{width:"100%"},"show-time":"",shortcuts:[{label:"1",value:()=>s(n)(t.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(1,"day")},{label:"7",value:()=>s(n)(t.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(7,"day")},{label:"15",value:()=>s(n)(t.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(15,"day")},{label:"30",value:()=>s(n)(t.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(30,"day")},{label:"90",value:()=>s(n)(t.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(90,"day")},{label:"180",value:()=>s(n)(t.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(180,"day")},{label:"365",value:()=>s(n)(t.value.quota_expires_at||new Date().setHours(23,59,59,999)).add(365,"day")}]},null,8,["modelValue","placeholder","disabled-date","shortcuts"])]),_:1},8,["label"]),e(p,{field:"remark",label:a.$t("user.label.remark")},{default:l(()=>[e(B,{modelValue:t.value.remark,"onUpdate:modelValue":o[6]||(o[6]=r=>t.value.remark=r),placeholder:a.$t("user.placeholder.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(H,null,{default:l(()=>[f("div",se,[e(q,{type:"secondary",onClick:o[7]||(o[7]=r=>a.$router.push({name:"UserList"}))},{default:l(()=>[u(m(a.$t("button.cancel")),1)]),_:1}),e(q,{type:"primary",onClick:V},{default:l(()=>[u(m(a.$t("button.submit")),1)]),_:1})])]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["loading"])])}}});const Ue=N(ne,[["__scopeId","data-v-4c265755"]]);export{Ue as default};
