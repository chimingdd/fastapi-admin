import{a as P,_ as B,b as q,g as ge,i as he}from"./index.9266d92d.js";/* empty css               */import{d as S,c as H,B as u,aD as f,aG as e,aH as t,aL as d,aM as l,u as _,bh as T,bC as V,bF as z,r as j,bT as O,bu as Q,bk as X,bU as ee,bi as M,bV as te,bW as ae,b8 as oe,b9 as se,F as m,e as I,aZ as ne,bQ as Y,bR as Z,bJ as E,bL as G,j as fe,aE as F,bX as ye,bI as Ae,C as K,aJ as L,aI as J,br as ve,b7 as $,bY as xe,bE as le,bZ as re,b_ as pe,b$ as be}from"./arco.17b1a46f.js";/* empty css                *//* empty css              *//* empty css                *//* empty css               *//* empty css                */import{u as W}from"./loading.44762de3.js";/* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css               *//* empty css              */import"./chart.d5ce7f1f.js";import"./vue.32c094a4.js";const we=S({__name:"banner",setup(p){const o=P(),c=H(()=>({name:o.name}));return(a,y)=>{const r=T,s=V,i=z;return u(),f(s,{class:"banner"},{default:e(()=>[t(s,{span:8},{default:e(()=>[t(r,{heading:5,style:{"margin-top":"0"}},{default:e(()=>[d(l(a.$t("workplace.welcome"))+" "+l(_(c).name),1)]),_:1})]),_:1}),t(i,{class:"panel-border"})]),_:1})}}});const ke=B(we,[["__scopeId","data-v-5803762b"]]);const Ce="/assets/call.f5c375c2.png",Ie="/assets/app.3372a097.png",Be="data:image/png;base64,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",Se="/assets/app-key.0e50d4ab.png",De="/assets/user.f79cfac7.png",Ee="/assets/today-user.08410042.png",Qe="/assets/model.8e356dcb.png",Re="/assets/model-key.4ed93ba4.png";function Fe(p){return q.get(`/api/v1/dashboard/call/data/${p}`)}function Ue(){return q.get("/api/v1/dashboard/base/data")}function qe(){return q.get("/api/v1/dashboard/expense")}function Ke(p){return q.get("/api/v1/dashboard/data/top",{params:p})}function Le(p){return q.get(`/api/v1/dashboard/model/percent/${p}`)}const R=p=>(oe("data-v-27a94159"),p=p(),se(),p),Je=R(()=>m("img",{alt:"avatar",src:Ce},null,-1)),$e=R(()=>m("img",{alt:"avatar",src:Ie},null,-1)),Ne=R(()=>m("img",{alt:"avatar",src:Be},null,-1)),He=R(()=>m("img",{alt:"avatar",src:Se},null,-1)),Ve=R(()=>m("img",{alt:"avatar",src:De},null,-1)),Oe=R(()=>m("img",{alt:"avatar",src:Ee},null,-1)),Me=R(()=>m("img",{alt:"avatar",src:Qe},null,-1)),Ye=R(()=>m("img",{alt:"avatar",src:Re},null,-1)),Ze=S({__name:"data-panel",setup(p){const o=j({});return(async()=>{try{const{data:a}=await Ue();o.app=a.app,o.today_app=a.today_app,o.model=a.model,o.app_key=a.app_key,o.model_key=a.model_key,o.user=a.user,o.today_user=a.today_user,o.call=a.call}catch{}})(),(a,y)=>{const r=X,s=ee,i=M,n=te,b=z,v=ae,g=O("permission");return u(),f(v,{cols:24,"row-gap":12,class:"panel"},{default:e(()=>[t(n,{class:"panel-col",span:{xs:6,sm:6,md:6,lg:6,xl:6,xxl:6}},{default:e(()=>[t(i,null,{default:e(()=>[t(r,{size:54,class:"col-avatar"},{default:e(()=>[Je]),_:1}),t(s,{title:a.$t("workplace.call"),value:_(o).call,"show-group-separator":""},null,8,["title","value"])]),_:1})]),_:1}),t(n,{class:"panel-col",span:{xs:6,sm:6,md:6,lg:6,xl:6,xxl:6}},{default:e(()=>[t(i,null,{default:e(()=>[t(r,{size:54,class:"col-avatar"},{default:e(()=>[$e]),_:1}),t(s,{title:a.$t("workplace.app"),value:_(o).app,"show-group-separator":""},null,8,["title","value"])]),_:1})]),_:1}),Q((u(),f(n,{class:"panel-col",span:{xs:6,sm:6,md:6,lg:6,xl:6,xxl:6}},{default:e(()=>[t(i,null,{default:e(()=>[t(r,{size:54,class:"col-avatar"},{default:e(()=>[Ne]),_:1}),t(s,{title:a.$t("workplace.todayApp"),value:_(o).today_app,"show-group-separator":""},null,8,["title","value"])]),_:1})]),_:1})),[[g,["admin"]]]),t(n,{class:"panel-col",span:{xs:6,sm:6,md:6,lg:6,xl:6,xxl:6},style:{"border-right":"none"}},{default:e(()=>[t(i,null,{default:e(()=>[t(r,{size:54,class:"col-avatar"},{default:e(()=>[He]),_:1}),t(s,{title:a.$t("workplace.appKey"),value:_(o).app_key,"show-group-separator":""},null,8,["title","value"])]),_:1})]),_:1}),Q((u(),f(n,{span:24},{default:e(()=>[t(b,{class:"panel-border"})]),_:1})),[[g,["admin"]]]),Q((u(),f(n,{class:"panel-col",span:{xs:6,sm:6,md:6,lg:6,xl:6,xxl:6}},{default:e(()=>[t(i,null,{default:e(()=>[t(r,{size:54,class:"col-avatar"},{default:e(()=>[Ve]),_:1}),t(s,{title:a.$t("workplace.user"),value:_(o).user,"show-group-separator":""},null,8,["title","value"])]),_:1})]),_:1})),[[g,["admin"]]]),Q((u(),f(n,{class:"panel-col",span:{xs:6,sm:6,md:6,lg:6,xl:6,xxl:6},style:{"border-right":"none"}},{default:e(()=>[t(i,null,{default:e(()=>[t(r,{size:54,class:"col-avatar"},{default:e(()=>[Oe]),_:1}),t(s,{title:a.$t("workplace.todayUser"),value:_(o).today_user,"show-group-separator":""},null,8,["title","value"])]),_:1})]),_:1})),[[g,["admin"]]]),t(n,{class:"panel-col",span:{xs:6,sm:6,md:6,lg:6,xl:6,xxl:6},style:{"border-right":"none","border-left":"1px solid rgb(var(--gray-2))"}},{default:e(()=>[t(i,null,{default:e(()=>[t(r,{size:54,class:"col-avatar"},{default:e(()=>[Me]),_:1}),t(s,{title:a.$t("workplace.model"),value:_(o).model,"show-group-separator":""},null,8,["title","value"])]),_:1})]),_:1}),Q((u(),f(n,{class:"panel-col",span:{xs:6,sm:6,md:6,lg:6,xl:6,xxl:6},style:{"border-right":"none","border-left":"1px solid rgb(var(--gray-2))"}},{default:e(()=>[t(i,null,{default:e(()=>[t(r,{size:54,class:"col-avatar"},{default:e(()=>[Ye]),_:1}),t(s,{title:a.$t("workplace.modelKey"),value:_(o).model_key,"show-group-separator":""},null,8,["title","value"])]),_:1})]),_:1})),[[g,["admin"]]]),t(n,{span:24},{default:e(()=>[t(b,{class:"panel-border"})]),_:1})]),_:1})}}});const Ge=B(Ze,[["__scopeId","data-v-27a94159"]]);function ce(p){const o=ge(),c=H(()=>o.theme==="dark");return{chartOption:H(()=>p(c.value))}}const We=S({__name:"data-chart",setup(p){const o=x=>x.map(h=>`<div class="content-panel">
        <p>
          <span style="background-color: ${h.color}" class="tooltip-item-icon"></span>
          <span>${h.seriesName}</span>
        </p>
        <span class="tooltip-value">
        ${h.value.toLocaleString()}
        </span>
      </div>`).join("");function c(x){return{type:"text",bottom:"28",...x,style:{text:"",textAlign:"center",fill:"#4E5969",fontSize:12}}}const a=localStorage.getItem("userRole"),{loading:y,setLoading:r}=W(!0),s=I(15),i=I([]),n=I([]),b=I([]),v=I([]),g=I([]),D=I([]),k=I([c({left:"50"}),c({right:8})]),{chartOption:U}=ce(x=>({grid:{left:"50",right:"8",top:"10",bottom:"50"},legend:{bottom:-3,icon:"circle",textStyle:{color:"#4E5969"}},xAxis:{type:"category",offset:2,data:i.value,boundaryGap:!1,axisLabel:{color:"#4E5969",formatter(h,A){return A===0||A===28||A===i.value.length-1?"":`${h}`}},axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!0,interval:h=>h===0?!1:h!==i.value.length-1,lineStyle:{color:x?"#3F3F3F":"#E5E8EF"}},axisPointer:{show:!0,lineStyle:{color:"#23ADFF",width:2}}},yAxis:{type:"value",axisLabel:{formatter(h,A){return A===0?h:h>=1e9?`${h/1e9}b`:h>=1e4?`${h/1e4}w`:h>=1e3?`${h/1e3}k`:`${h}`}},axisLine:{show:!1},splitLine:{lineStyle:{type:"dashed",color:x?"#3F3F3F":"#E5E8EF"}}},tooltip:{show:!0,trigger:"axis",formatter(h){const[A]=h;return`<div>
            <p class="tooltip-title">${A.axisValueLabel}</p>
            ${o(h)}
          </div>`},className:"echarts-tooltip-diy"},graphic:{elements:k.value},series:[{name:"\u8C03\u7528\u6570",data:n.value,type:"line",smooth:!0,showSymbol:!1,color:x?"#3D72F6":"#00B2FF",symbol:"circle",symbolSize:10,emphasis:{focus:"series",itemStyle:{borderWidth:2,borderColor:"#E0E3FF"}}},{name:"\u4EE4\u724C\u6570",data:b.value,type:"line",smooth:!0,showSymbol:!1,color:x?"#A079DC":"#246EFF",symbol:"circle",symbolSize:10,emphasis:{focus:"series",itemStyle:{borderWidth:2,borderColor:"#E2F2FF"}}},{name:a==="admin"?"\u7528\u6237\u6570":"\u5E94\u7528\u6570",data:a==="admin"?v.value:g.value,type:"line",smooth:!0,showSymbol:!1,color:"#A079DC",symbol:"circle",symbolSize:10,emphasis:{focus:"series",itemStyle:{borderWidth:2,borderColor:"#E2F2FF"}}},{name:"\u5F02\u5E38\u6570",data:D.value,type:"line",smooth:!0,showSymbol:!1,color:"#F8BB20",symbol:"circle",symbolSize:10,emphasis:{focus:"series",itemStyle:{borderWidth:2,borderColor:"#E2F2FF"}}}]})),C=async x=>{r(!0);try{i.value=[],n.value=[],b.value=[],v.value=[],g.value=[],D.value=[];const{data:h}=await Fe(x);h.items.forEach((A,w)=>{i.value.push(A.date),n.value.push(A.call),b.value.push(A.tokens),v.value.push(A.user),g.value.push(A.app),D.value.push(A.abnormal),w===0&&(k.value[0].style.text=A.date),w===h.items.length-1&&(k.value[1].style.text=A.date)})}catch{}finally{r(!1)}},N=x=>{C(x)};return C(15),(x,h)=>{const A=Y,w=Z,de=ne("Chart"),ue=E,_e=G;return u(),f(_e,{loading:_(y),style:{width:"100%"}},{default:e(()=>[t(ue,{class:"general-card","header-style":{padding:"20px 20px 8px 20px"},"body-style":{padding:"20px"},title:x.$t("workplace.callData"),bordered:!1},{extra:e(()=>[t(w,{"model-value":s.value,"onUpdate:modelValue":h[0]||(h[0]=me=>s.value=me),type:"button",onChange:N},{default:e(()=>[t(A,{value:7},{default:e(()=>[d(l(x.$t("workplace.dateRange7")),1)]),_:1}),t(A,{value:15},{default:e(()=>[d(l(x.$t("workplace.dateRange15")),1)]),_:1}),t(A,{value:30},{default:e(()=>[d(l(x.$t("workplace.dateRange30")),1)]),_:1})]),_:1},8,["model-value","onChange"])]),default:e(()=>[t(de,{height:"380px",option:_(U)},null,8,["option"])]),_:1},8,["title"])]),_:1},8,["loading"])}}}),Pe=S({__name:"data-top",setup(p){const o=localStorage.getItem("userRole"),{loading:c,setLoading:a}=W(),y=I(15);let r=15,s="user";o==="user"&&(s="app");const i=I(),n=async()=>{try{a(!0);const{data:g}=await Ke({days:r,data_type:s});i.value=g.items}catch{}finally{a(!1)}},b=g=>{s=g,n()},v=g=>{r=g,n()};return n(),(g,D)=>{const k=Y,U=Z,C=ye,N=Ae,x=M,h=E,A=G;return u(),f(A,{loading:_(c),style:{width:"100%"}},{default:e(()=>[t(h,{class:"general-card","header-style":{padding:"20px 20px 8px 20px"},"body-style":{padding:"17px 20px 21px 20px"},bordered:!1},{title:e(()=>[d(l(g.$t("workplace.dataTop")),1)]),extra:e(()=>[t(U,{"model-value":y.value,"onUpdate:modelValue":D[0]||(D[0]=w=>y.value=w),type:"button",onChange:v},{default:e(()=>[t(k,{value:1},{default:e(()=>[d(l(g.$t("workplace.dateRange1")),1)]),_:1}),t(k,{value:7},{default:e(()=>[d(l(g.$t("workplace.dateRange7")),1)]),_:1}),t(k,{value:15},{default:e(()=>[d(l(g.$t("workplace.dateRange15")),1)]),_:1}),t(k,{value:30},{default:e(()=>[d(l(g.$t("workplace.dateRange30")),1)]),_:1})]),_:1},8,["model-value","onChange"])]),default:e(()=>[t(x,{direction:"vertical",size:10,fill:""},{default:e(()=>[t(U,{"model-value":_(s),"onUpdate:modelValue":D[1]||(D[1]=w=>fe(s)?s.value=w:s=w),type:"button",onChange:b},{default:e(()=>[_(o)==="admin"?(u(),f(k,{key:0,value:"user"},{default:e(()=>[d(l(g.$t("workplace.dataTop.user")),1)]),_:1})):F("",!0),t(k,{value:"app"},{default:e(()=>[d(l(g.$t("workplace.dataTop.app")),1)]),_:1}),_(o)==="user"?(u(),f(k,{key:1,value:"app_key"},{default:e(()=>[d(l(g.$t("workplace.dataTop.app_key")),1)]),_:1})):F("",!0),t(k,{value:"model"},{default:e(()=>[d(l(g.$t("workplace.dataTop.model")),1)]),_:1})]),_:1},8,["model-value","onChange"]),t(N,{data:i.value,pagination:!1,bordered:!1,scroll:{x:"100%",y:"500px"}},{columns:e(()=>[t(C,{title:"\u6392\u540D","data-index":"key",width:60},{cell:e(({rowIndex:w})=>[d(l(w+1),1)]),_:1}),_(s)==="user"&&_(o)==="admin"?(u(),f(C,{key:0,title:"\u7528\u6237ID","data-index":"user_id",align:"center"})):F("",!0),_(s)==="app_key"?(u(),f(C,{key:1,title:"\u5BC6\u94A5","data-index":"app_key",align:"center",ellipsis:"",tooltip:""})):F("",!0),_(s)==="app"||_(s)==="app_key"?(u(),f(C,{key:2,title:"\u5E94\u7528ID","data-index":"app_id",align:"center"})):F("",!0),_(s)==="app"&&_(o)==="admin"?(u(),f(C,{key:3,title:"\u7528\u6237ID","data-index":"user_id",align:"center"})):F("",!0),_(s)==="model"?(u(),f(C,{key:4,title:"\u6A21\u578B","data-index":"model",align:"center",ellipsis:"",tooltip:""})):F("",!0),t(C,{title:"\u8C03\u7528\u6570","data-index":"call",align:"center"},{cell:e(({record:w})=>[d(l(w.call.toLocaleString()),1)]),_:1}),t(C,{title:"\u4EE4\u724C\u6570","data-index":"tokens",align:"center",ellipsis:"",tooltip:""},{cell:e(({record:w})=>[d(l(w.tokens.toLocaleString()),1)]),_:1})]),_:1},8,["data"])]),_:1})]),_:1})]),_:1},8,["loading"])}}});const Te=B(Pe,[["__scopeId","data-v-7eebb7c1"]]),ze=S({__name:"model-percent",setup(p){const{loading:o,setLoading:c}=W(!0),a=I(15),y=I({models:[],items:[]}),{chartOption:r}=ce(n=>({legend:{left:"center",data:y.value.models,bottom:-5,icon:"circle",itemStyle:{borderWidth:0},textStyle:{color:"#4E5969"}},tooltip:{show:!0,trigger:"item"},series:[{type:"pie",radius:"60%",label:{formatter:"{d}%",fontSize:14,color:n?"rgba(255, 255, 255, 0.7)":"#4E5969"},itemStyle:{borderWidth:1,borderColor:"#D9F6FF"},data:y.value.items}]})),s=async n=>{c(!0);try{const{data:b}=await Le(n);y.value=b}catch{}finally{c(!1)}},i=n=>{s(n)};return s(15),(n,b)=>{const v=Y,g=Z,D=ne("Chart"),k=E,U=G;return u(),f(U,{loading:_(o),style:{width:"100%"}},{default:e(()=>[t(k,{class:"general-card","header-style":{padding:"20px 20px 8px 20px"},"body-style":{padding:"20px"},bordered:!1},{title:e(()=>[d(l(n.$t("workplace.modelPercent")),1)]),extra:e(()=>[t(g,{"model-value":a.value,"onUpdate:modelValue":b[0]||(b[0]=C=>a.value=C),type:"button",onChange:i},{default:e(()=>[t(v,{value:1},{default:e(()=>[d(l(n.$t("workplace.dateRange1")),1)]),_:1}),t(v,{value:7},{default:e(()=>[d(l(n.$t("workplace.dateRange7")),1)]),_:1}),t(v,{value:15},{default:e(()=>[d(l(n.$t("workplace.dateRange15")),1)]),_:1}),t(v,{value:30},{default:e(()=>[d(l(n.$t("workplace.dateRange30")),1)]),_:1})]),_:1},8,["model-value","onChange"])]),default:e(()=>[t(D,{height:"496px",option:_(r)},null,8,["option"])]),_:1})]),_:1},8,["loading"])}}});const je=B(ze,[["__scopeId","data-v-5daf80a5"]]),Xe={class:"icon"},et=S({__name:"quick-operation",setup(p){const o=[{text:"workplace.appManagement",icon:"icon-apps",router:"AppList",permission:["user"]},{text:"workplace.modelManagement",icon:"icon-common",router:"ModelList",permission:["admin"]},{text:"workplace.keyManagement",icon:"icon-safe",router:"AppKeyList",permission:["user"]},{text:"workplace.keyManagement",icon:"icon-safe",router:"ModelKeyList",permission:["admin"]},{text:"workplace.agentManagement",icon:"icon-bug",router:"ModelAgentList",permission:["admin"]},{text:"workplace.corpManagement",icon:"icon-bar-chart",router:"CorpList",permission:["admin"]},{text:"workplace.userManagement",icon:"icon-user",router:"UserList",permission:["admin"]},{text:"workplace.chatManagement",icon:"icon-message",router:"ChatList",permission:["user","admin"]},{text:"workplace.chatManagement",icon:"icon-message",router:"ChatList",permission:["user","admin"]},{text:"workplace.chatManagement",icon:"icon-message",router:"ChatList",permission:["user","admin"]},{text:"workplace.chatManagement",icon:"icon-message",router:"ChatList",permission:["user","admin"]}];return(c,a)=>{const y=$,r=xe,s=V,i=le,n=E,b=O("permission");return u(),f(n,{class:"general-card",title:c.$t("workplace.quick.operation"),"header-style":{padding:"10px 20px 0 20px",height:"36px"},"body-style":{padding:"10px 20px 2px 20px"},bordered:!1},{extra:e(()=>[t(y,null,{default:e(()=>[d(l(c.$t("workplace.quickOperation.setup")),1)]),_:1})]),default:e(()=>[t(i,{gutter:8},{default:e(()=>[(u(),K(L,null,J(o,v=>Q(t(s,{key:v.text,span:8,class:"wrapper",onClick:g=>c.$router.push({name:v.router})},{default:e(()=>[m("div",Xe,[(u(),f(ve(v.icon)))]),t(r,{class:"text"},{default:e(()=>[d(l(c.$t(v.text)),1)]),_:2},1024)]),_:2},1032,["onClick"]),[[b,v.permission]])),64))]),_:1})]),_:1},8,["title"])}}});const tt=B(et,[["__scopeId","data-v-c7464437"]]),at={class:"header"},ot=["src"],st=S({__name:"user-info",setup(p){const o=P();return(c,a)=>{const y=he,r=X,s=T,i=M,n=E;return u(),f(n,{class:"general-card","header-style":{padding:"20px 20px 0 20px"},"body-style":{padding:"20px 20px 17px 20px"},bordered:!1},{default:e(()=>[m("div",at,[t(i,{size:12,direction:"vertical",align:"center",onClick:a[0]||(a[0]=b=>c.$router.push({name:"Center"}))},{default:e(()=>[t(r,{size:64},{"trigger-icon":e(()=>[t(y)]),default:e(()=>[m("img",{src:_(o).avatar||"https://www.fastapi.ai/logo.png"},null,8,ot)]),_:1}),t(s,{heading:6,style:{margin:"0"}},{default:e(()=>[d(l(_(o).name),1)]),_:1})]),_:1})])]),_:1})}}});const nt=B(st,[["__scopeId","data-v-a0fae4c3"]]),ie=p=>(oe("data-v-87d23019"),p=p(),se(),p),lt={class:"quota-box"},rt={class:"quota-usd-box"},pt=ie(()=>m("div",{class:"quota"},"\u5269\u4F59\u989D\u5EA6",-1)),ct={class:"quota-usd"},it=ie(()=>m("div",{class:"used-quota"},"\u5DF2\u7528\u989D\u5EA6",-1)),dt={class:"used-quota-usd"},ut={class:"expires_at"},_t=S({__name:"expense",setup(p){const o=j({});return(async()=>{try{const{data:a}=await qe();o.quota=a.quota,o.quota_usd=a.quota_usd,o.used_quota=a.used_quota,o.used_quota_usd=a.used_quota_usd,o.quota_expires_at=a.quota_expires_at}catch{}})(),(a,y)=>{const r=ee,s=E;return u(),f(s,{class:"general-card",title:a.$t("workplace.expense"),"header-style":{padding:"10px 20px 0 20px",height:"36px"},"body-style":{padding:"10px 20px 20px 20px"},bordered:!1},{default:e(()=>[m("div",null,[m("div",null,[t(r,{title:a.$t("workplace.current.quota"),value:_(o).quota,"show-group-separator":""},null,8,["title","value"])]),m("div",lt,[m("div",rt,[pt,m("div",ct,"$"+l(_(o).quota_usd),1)]),m("div",null,[it,m("div",dt,"$"+l(_(o).used_quota_usd),1)])]),m("div",ut," \u989D\u5EA6\u8FC7\u671F\u65F6\u95F4: "+l(_(o).quota_expires_at||"2099-12-31 23:59:59"),1)])]),_:1},8,["title"])}}});const mt=B(_t,[["__scopeId","data-v-87d23019"]]);const gt=["src"],ht=S({__name:"author",setup(p){const o=["https://www.fastapi.ai/Author.png","https://www.fastapi.ai/AuthorQQ.png"];return(c,a)=>{const y=re,r=pe,s=E;return u(),f(s,{class:"general-card",title:c.$t("workplace.author"),"header-style":{padding:"10px 20px 0 20px",height:"36px"},"body-style":{padding:"10px 20px 15px 20px"},bordered:!1},{default:e(()=>[t(r,{"indicator-type":"slider","show-arrow":"hover","auto-play":"",style:{height:"252px"}},{default:e(()=>[(u(),K(L,null,J(o,(i,n)=>t(y,{key:n},{default:e(()=>[m("div",null,[m("img",{class:"author",src:i},null,8,gt)])]),_:2},1024)),64))]),_:1})]),_:1},8,["title"])}}});const ft=B(ht,[["__scopeId","data-v-630aa90e"]]),yt=["src"],At=S({__name:"sponsor",setup(p){const o=["https://www.fastapi.ai/public/images/fastapi.png","https://www.fastapi.ai/public/images/iimyun.png","https://www.fastapi.ai/public/images/yunapi.png"],c=["https://www.fastapi.ai","https://www.iimyun.com/cart?fid=3&gid=11","https://api.zyai.online"];return(a,y)=>{const r=$,s=re,i=pe,n=E;return u(),f(n,{class:"general-card",title:a.$t("workplace.sponsor"),"header-style":{padding:"10px 20px 0 20px",height:"36px"},"body-style":{padding:"10px 20px 20px 20px"},bordered:!1},{default:e(()=>[t(i,{"indicator-type":"slider","show-arrow":"hover","auto-play":"",style:{height:"167px"}},{default:e(()=>[(u(),K(L,null,J(o,(b,v)=>t(s,{key:v},{default:e(()=>[t(r,{href:c[v],target:"_blank"},{default:e(()=>[m("img",{class:"sponsor",src:b},null,8,yt)]),_:2},1032,["href"])]),_:2},1024)),64))]),_:1})]),_:1},8,["title"])}}});const vt=B(At,[["__scopeId","data-v-23fb2cac"]]),xt={class:"item-content"},bt=S({__name:"announcement",setup(p){const o=[{type:"blue",label:"\u901A\u77E5",content:"v0.4.0 \u7248\u672C\u53D1\u5E03\u5566! \u5566!! \u5566!!!"},{type:"blue",label:"\u901A\u77E5",content:"v0.3.0 \u7248\u672C\u53D1\u5E03\u5566! \u5566!! \u5566!!!"},{type:"blue",label:"\u901A\u77E5",content:"v0.2.0 \u7248\u672C\u53D1\u5E03\u5566! \u5566!! \u5566!!!"}];return(c,a)=>{const y=$,r=be,s=E;return u(),f(s,{class:"general-card",title:c.$t("workplace.announcement"),"header-style":{padding:"10px 20px 0 20px",height:"36px"},"body-style":{padding:"10px 20px 7px 20px"},bordered:!1},{extra:e(()=>[t(y,{target:"_blank",href:"https://github.com/iimeta/fastapi-admin/releases"},{default:e(()=>[d(l(c.$t("workplace.viewMore")),1)]),_:1})]),default:e(()=>[m("div",null,[(u(),K(L,null,J(o,(i,n)=>m("div",{key:n,class:"item"},[t(r,{color:i.type,size:"small"},{default:e(()=>[d(l(i.label),1)]),_:2},1032,["color"]),m("span",xt,[t(y,{target:"_blank",href:"https://github.com/iimeta/fastapi-admin/releases"},{default:e(()=>[d(l(i.content),1)]),_:2},1024)])])),64))])]),_:1},8,["title"])}}});const wt=B(bt,[["__scopeId","data-v-b44171c9"]]);const kt={};function Ct(p,o){const c=$,a=V,y=le,r=E;return u(),f(r,{class:"general-card",title:p.$t("workplace.docs"),"header-style":{padding:"10px 20px 0 20px",height:"36px"},"body-style":{padding:"10px 20px 10px 20px"},bordered:!1},{extra:e(()=>[t(c,{href:"https://4707373.fastapi.ai",target:"_blank"},{default:e(()=>[d(l(p.$t("workplace.viewMore")),1)]),_:1})]),default:e(()=>[t(y,null,{default:e(()=>[t(a,{span:12},{default:e(()=>[t(c,{href:"https://4707373.fastapi.ai",target:"_blank"},{default:e(()=>[d(l(p.$t("workplace.docs.productOverview")),1)]),_:1})]),_:1}),t(a,{span:12},{default:e(()=>[t(c,{href:"https://4707373.fastapi.ai",target:"_blank"},{default:e(()=>[d(l(p.$t("workplace.docs.userGuide")),1)]),_:1})]),_:1}),t(a,{span:12},{default:e(()=>[t(c,{href:"https://4707373.fastapi.ai",target:"_blank"},{default:e(()=>[d(l(p.$t("workplace.docs.workflow")),1)]),_:1})]),_:1}),t(a,{span:12},{default:e(()=>[t(c,{href:"https://4707373.fastapi.ai",target:"_blank"},{default:e(()=>[d(l(p.$t("workplace.docs.interfaceDocs")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["title"])}const It=B(kt,[["render",Ct],["__scopeId","data-v-03ae3dd7"]]),Bt={class:"container"},St={class:"left-side"},Dt={class:"panel"},Et={class:"right-side"},Qt={class:"panel moduler-wrap"},Rt={name:"Dashboard"},Ft=S({...Rt,setup(p){return(o,c)=>{const a=te,y=ae,r=O("permission");return u(),K("div",Bt,[m("div",St,[m("div",Dt,[t(ke),t(Ge),t(We)]),t(y,{cols:24,"col-gap":10,"row-gap":10,style:{"margin-top":"10px"}},{default:e(()=>[t(a,{span:{xs:24,sm:24,md:24,lg:12,xl:12,xxl:12}},{default:e(()=>[t(Te)]),_:1}),t(a,{span:{xs:24,sm:24,md:24,lg:12,xl:12,xxl:12}},{default:e(()=>[t(je)]),_:1})]),_:1})]),m("div",Et,[t(y,{cols:24,"row-gap":10},{default:e(()=>[t(a,{span:24},{default:e(()=>[m("div",Qt,[t(nt)])]),_:1}),Q((u(),f(a,{class:"panel moduler-wrap",span:24},{default:e(()=>[t(mt)]),_:1})),[[r,["user"]]]),Q((u(),f(a,{class:"panel moduler-wrap",span:24},{default:e(()=>[t(tt)]),_:1})),[[r,["admin"]]]),t(a,{class:"panel",span:24},{default:e(()=>[t(vt)]),_:1}),t(a,{class:"panel",span:24},{default:e(()=>[t(ft)]),_:1}),t(a,{class:"panel",span:24},{default:e(()=>[t(wt)]),_:1}),t(a,{class:"panel",span:24},{default:e(()=>[t(It)]),_:1})]),_:1})])])}}});const Xt=B(Ft,[["__scopeId","data-v-566e8db6"]]);export{Xt as default};
