import{i as D,_ as I}from"./index.b0442b91.js";/* empty css                *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css               */import{d as E,e as m,B as q,C as S,aH as t,aG as o,aL as n,aM as u,u as w,F as U,aD as z,aE as A,aK as G,aF as H,b1 as K,b2 as M,b4 as W,bl as j,aT as J,bW as O,aU as P,b5 as Q,bR as X,bq as Y,g as Z}from"./arco.98c6b47e.js";import{f as x,h as ee}from"./vue.a64f92cf.js";import{u as le}from"./loading.145cbdec.js";import{q as ae,e as te,f as se}from"./notice_template.a26653cb.js";import{q as oe}from"./admin_user.f2fceb56.js";import{q as ne}from"./admin_reseller.deab54ba.js";import{A as ue}from"./aieditor.ec45c6b7.js";import"./chart.30821537.js";/* empty css                *//* empty css                */const re={class:"container"},ie={class:"wrapper"},de={class:"submit-btn"},me={name:"NoticeTemplateUpdate"},pe=E({...me,setup(ce){const{proxy:v}=Z(),{loading:k,setLoading:i}=le(!1),b=x(),p=ee(),V=m(),l=m({id:"",name:"",scenes:[],title:"",content:"",channels:[],is_popup:!1,is_public:!0,remark:"",status:1}),N=m([]);(async()=>{i(!0);try{const{data:a}=await oe();N.value=a.items}catch{}finally{i(!1)}})();const L=m([]);(async()=>{i(!0);try{const{data:a}=await ne();L.value=a.items}catch{}finally{i(!1)}})(),(async(a={id:p.query.id})=>{i(!0);try{const{data:e}=await ae(a);l.value.id=e.id,l.value.name=e.name,l.value.scenes=e.scenes,l.value.title=e.title,l.value.content=e.content,l.value.channels=e.channels,l.value.is_popup=e.is_popup,l.value.is_public=e.is_public,l.value.remark=e.remark,l.value.status=e.status}catch{}finally{i(!1)}})();const T=async()=>{var e;if(!await((e=V.value)==null?void 0:e.validate())){i(!0);try{p.query.action?await te(l.value).then(()=>{v.$message.success("\u65B0\u589E\u6210\u529F"),b.push({name:"NoticeTemplateList"})}):await se(l.value).then(()=>{v.$message.success("\u66F4\u65B0\u6210\u529F"),b.push({name:"NoticeTemplateList"})})}catch{}finally{i(!1)}}};return(a,e)=>{const _=D,c=G,h=H,g=K,d=M,r=W,f=j,$=J,B=O,y=P,C=Q,F=X,R=Y;return q(),S("div",re,[t(h,{class:"container-breadcrumb"},{default:o(()=>[t(c,null,{default:o(()=>[t(_)]),_:1}),t(c,null,{default:o(()=>[n(u(a.$t("menu.notice")),1)]),_:1}),t(c,null,{default:o(()=>[n(u(a.$t(w(p).query.action?"menu.notice.template.create":"menu.notice.template.update")),1)]),_:1})]),_:1}),t(R,{loading:w(k),style:{width:"100%"}},{default:o(()=>[t(F,{class:"general-card","body-style":{padding:"0 20px 20px 20px"},bordered:!1},{default:o(()=>[U("div",ie,[t(C,{ref_key:"formRef",ref:V,model:l.value,class:"form","label-col-props":{span:3},"wrapper-col-props":{span:18}},{default:o(()=>[t(d,{field:"name",label:a.$t("notice.template.label.name"),rules:[{required:!0,message:a.$t("notice.template.error.name.required")}]},{default:o(()=>[t(g,{modelValue:l.value.name,"onUpdate:modelValue":e[0]||(e[0]=s=>l.value.name=s),placeholder:a.$t("notice.template.placeholder.name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(d,{field:"scenes",label:a.$t("notice.template.label.scenes"),rules:[{required:!0,message:a.$t("notice.template.error.scenes.required")}]},{default:o(()=>[t(f,{size:"small",wrap:""},{default:o(()=>[t(r,{modelValue:l.value.scenes,"onUpdate:modelValue":e[1]||(e[1]=s=>l.value.scenes=s),value:"code",class:"scenes"},{default:o(()=>[n(u(a.$t("notice.template.dict.scenes.code")),1)]),_:1},8,["modelValue"]),t(r,{modelValue:l.value.scenes,"onUpdate:modelValue":e[2]||(e[2]=s=>l.value.scenes=s),value:"login",class:"scenes"},{default:o(()=>[n(u(a.$t("notice.template.dict.scenes.login")),1)]),_:1},8,["modelValue"]),t(r,{modelValue:l.value.scenes,"onUpdate:modelValue":e[3]||(e[3]=s=>l.value.scenes=s),value:"register",class:"scenes"},{default:o(()=>[n(u(a.$t("notice.template.dict.scenes.register")),1)]),_:1},8,["modelValue"]),t(r,{modelValue:l.value.scenes,"onUpdate:modelValue":e[4]||(e[4]=s=>l.value.scenes=s),value:"forget_password",class:"scenes"},{default:o(()=>[n(u(a.$t("notice.template.dict.scenes.forget_password")),1)]),_:1},8,["modelValue"]),t(r,{modelValue:l.value.scenes,"onUpdate:modelValue":e[5]||(e[5]=s=>l.value.scenes=s),value:"change_password",class:"scenes"},{default:o(()=>[n(u(a.$t("notice.template.dict.scenes.change_password")),1)]),_:1},8,["modelValue"]),t(r,{modelValue:l.value.scenes,"onUpdate:modelValue":e[6]||(e[6]=s=>l.value.scenes=s),value:"change_email",class:"scenes"},{default:o(()=>[n(u(a.$t("notice.template.dict.scenes.change_email")),1)]),_:1},8,["modelValue"]),t(r,{modelValue:l.value.scenes,"onUpdate:modelValue":e[7]||(e[7]=s=>l.value.scenes=s),value:"quota_warning",class:"scenes"},{default:o(()=>[n(u(a.$t("notice.template.dict.scenes.quota_warning")),1)]),_:1},8,["modelValue"]),t(r,{modelValue:l.value.scenes,"onUpdate:modelValue":e[8]||(e[8]=s=>l.value.scenes=s),value:"quota_exhaustion",class:"scenes"},{default:o(()=>[n(u(a.$t("notice.template.dict.scenes.quota_exhaustion")),1)]),_:1},8,["modelValue"]),t(r,{modelValue:l.value.scenes,"onUpdate:modelValue":e[9]||(e[9]=s=>l.value.scenes=s),value:"quota_expire_warning",class:"scenes"},{default:o(()=>[n(u(a.$t("notice.template.dict.scenes.quota_expire_warning")),1)]),_:1},8,["modelValue"]),t(r,{modelValue:l.value.scenes,"onUpdate:modelValue":e[10]||(e[10]=s=>l.value.scenes=s),value:"quota_expire",class:"scenes"},{default:o(()=>[n(u(a.$t("notice.template.dict.scenes.quota_expire")),1)]),_:1},8,["modelValue"]),t(r,{modelValue:l.value.scenes,"onUpdate:modelValue":e[11]||(e[11]=s=>l.value.scenes=s),value:"notice",class:"scenes"},{default:o(()=>[n(u(a.$t("notice.template.dict.scenes.notice")),1)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["label","rules"]),t(d,{field:"channels",label:a.$t("notice.template.label.channels"),rules:[{required:!0,message:a.$t("notice.template.error.channels.required")}]},{default:o(()=>[t(f,{size:"large"},{default:o(()=>[t(r,{modelValue:l.value.channels,"onUpdate:modelValue":e[12]||(e[12]=s=>l.value.channels=s),value:"web","default-checked":!0},{default:o(()=>[n(u(a.$t("notice.template.dict.channels.web")),1)]),_:1},8,["modelValue"]),t(r,{modelValue:l.value.channels,"onUpdate:modelValue":e[13]||(e[13]=s=>l.value.channels=s),value:"email"},{default:o(()=>[n(u(a.$t("notice.template.dict.channels.email")),1)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["label","rules"]),l.value.channels.includes("web")?(q(),z(d,{key:0,field:"is_popup",label:a.$t("notice.template.label.is_popup")},{default:o(()=>[t($,{modelValue:l.value.is_popup,"onUpdate:modelValue":e[14]||(e[14]=s=>l.value.is_popup=s)},null,8,["modelValue"])]),_:1},8,["label"])):A("",!0),t(d,{field:"is_public",label:a.$t("notice.template.label.is_public")},{default:o(()=>[t($,{modelValue:l.value.is_public,"onUpdate:modelValue":e[15]||(e[15]=s=>l.value.is_public=s)},null,8,["modelValue"])]),_:1},8,["label"]),t(d,{field:"title",label:a.$t("notice.template.label.title"),rules:[{required:!0,message:a.$t("notice.template.error.title.required")}]},{default:o(()=>[t(g,{modelValue:l.value.title,"onUpdate:modelValue":e[16]||(e[16]=s=>l.value.title=s),placeholder:a.$t("notice.template.placeholder.title"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(d,{field:"content",label:a.$t("notice.template.label.content"),rules:[{required:!0,message:a.$t("notice.template.error.content.required")}]},{default:o(()=>[t(ue,{modelValue:l.value.content,"onUpdate:modelValue":e[17]||(e[17]=s=>l.value.content=s),style:{flex:"1",height:"1024px"}},null,8,["modelValue"])]),_:1},8,["label","rules"]),t(d,{field:"remark",label:a.$t("notice.template.label.remark")},{default:o(()=>[t(B,{modelValue:l.value.remark,"onUpdate:modelValue":e[18]||(e[18]=s=>l.value.remark=s),placeholder:a.$t("notice.template.placeholder.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(f,null,{default:o(()=>[U("div",de,[t(y,{type:"secondary",onClick:e[19]||(e[19]=s=>a.$router.push({name:"NoticeTemplateList"}))},{default:o(()=>[n(u(a.$t("button.cancel")),1)]),_:1}),t(y,{type:"primary",onClick:T},{default:o(()=>[n(u(a.$t("button.submit")),1)]),_:1})])]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["loading"])])}}});const Ie=I(pe,[["__scopeId","data-v-ec6bf011"]]);export{Ie as default};
