import{u as Ye,F as He,p as Re,y as je,i as Je,z as Oe,_ as Ke}from"./index.7ec569d4.js";/* empty css                *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css               *//* empty css              *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css               *//* empty css               *//* empty css              */import{d as Ge,r as me,e as g,c as O,w as pe,bS as Qe,B as t,C as i,aH as a,aG as e,aL as p,aM as n,bu as h,aD as o,aJ as N,aI as L,u as d,F,D as We,aE as Xe,bT as fe,n as Ze,g as et,aK as tt,aF as at,bA as lt,bB as ot,b2 as ut,bC as nt,b1 as st,aS as it,bU as dt,bD as _t,b5 as rt,bE as ct,ab as mt,aU as pt,bi as ft,bj as yt,bl as vt,bm as ht,b4 as kt,bF as bt,bM as gt,bH as wt,bJ as $t,bK as Dt,ad as Ct,bL as Bt,bN as Ft,ba as Et,b6 as xt,aV as It,bI as Vt}from"./arco.54c7388d.js";import{u as At}from"./loading.7321a6c2.js";import{q as qt}from"./common.df364eef.js";import{V as St,f as zt,g as Nt,h as Lt}from"./styles.2e44b955.js";import{g as Pt}from"./app.cf116f39.js";import{c as K,S as Mt}from"./sortable.esm.777e758f.js";import{q as Ut}from"./model.c47bb2c9.js";import{u as Tt}from"./vue.aa90ed69.js";import"./chart.f14251fc.js";import"./base.87fcf6e2.js";const Yt={class:"container"},Ht={class:"action-icon"},Rt={class:"action-icon"},jt={id:"tableSetting"},Jt={style:{"margin-right":"4px",cursor:"move"}},Ot={class:"title"},Kt={style:{margin:"10px 0 30px 10px"}},Gt={key:1},Qt={key:1},Wt={key:1},Xt={key:1},Zt={key:1},ea={key:1},ta={key:1},aa={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},la={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},oa={key:1},ua={key:1},na={key:1},sa={key:1},ia={key:1},da={key:1},_a={key:1},ra={key:1},ca={key:1},ma={key:1},pa={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},fa={key:1},ya={key:1},va={key:1},ha={key:1},ka={key:1},ba={key:1},ga={key:1},wa={key:1},$a={key:1},Da={key:1},Ca={key:1},Ba={key:1},Fa={key:1},Ea={key:1},xa={key:1},Ia={key:1},Va={key:1},Aa={key:1},qa={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},Sa={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},za={key:1},Na={key:1},La={key:1},Pa={key:1},Ma={key:1},Ua={key:1},Ta={key:1},Ya={key:1},Ha={key:1},Ra={key:1},ja={key:1},Ja={key:1},Oa={key:1},Ka={key:1},Ga={key:1,style:{"max-height":"220px",display:"block",overflow:"auto"}},Qa={key:1},Wa={name:"ChatList"},Xa=Ge({...Wa,setup(Za){const ye=me({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),G=g([]);(async()=>{try{const{data:s}=await Pt();G.value=s.items}catch{}})();const Q=g([]);(async()=>{try{const{data:s}=await Ut();Q.value=s.items}catch{}})();const W=()=>({app_id:g(),trace_id:g(),user_id:g(),key:"",models:[],total_time:g(),status:g(),req_time:[fe().format("YYYY-MM-DD 00:00:00"),fe().format("YYYY-MM-DD 23:59:59")]}),{loading:_,setLoading:X}=At(!0),{t:b}=Ye(),Z=g([]),k=g(W()),x=g([]),q=g([]),P=g("medium"),I={current:1,pageSize:20,showTotal:!0,showPageSize:!0,pageSizeOptions:[20,50,100,500,1e3]},S=me({...I}),ve=O(()=>[{name:b("size.mini"),value:"mini"},{name:b("size.small"),value:"small"},{name:b("size.medium"),value:"medium"},{name:b("size.large"),value:"large"}]),V=localStorage.getItem("userRole"),ee=O(()=>[{title:b(V==="admin"?"chat.columns.user_id":"chat.columns.app_id"),dataIndex:V==="admin"?"user_id":"app_id",slotName:V==="admin"?"user_id":"app_id",align:"center",width:75},{title:b("chat.columns.model"),dataIndex:"model",slotName:"model",align:"center"},{title:b("chat.columns.characters"),dataIndex:"characters",slotName:"characters",align:"center",ellipsis:!0,tooltip:!0},{title:b("chat.columns.minute"),dataIndex:"minute",slotName:"minute",align:"center"},{title:b("chat.columns.total_price"),dataIndex:"total_tokens",slotName:"total_tokens",align:"center"},{title:b("chat.columns.total_time"),dataIndex:"total_time",slotName:"total_time",align:"center"},{title:b("chat.columns.internal_time"),dataIndex:"internal_time",slotName:"internal_time",align:"center"},{title:b("chat.columns.status"),dataIndex:"status",slotName:"status",align:"center",width:65},{title:b("chat.columns.req_time"),dataIndex:"req_time",slotName:"req_time",align:"center",width:132},{title:b("chat.columns.operations"),dataIndex:"operations",slotName:"operations",align:"center",width:75}]);V==="user"&&ee.value.splice(6,1);const te=O(()=>[{label:b("chat.dict.status.1"),value:1},{label:b("chat.dict.status.2"),value:2},{label:b("chat.dict.status.-1"),value:-1}]);V==="admin"&&te.value.push({label:b("chat.dict.status.3"),value:3},{label:b("chat.dict.status.-100"),value:-100});const z=async(s={...I,...k.value})=>{X(!0);try{const{data:f}=await zt(s);Z.value=f.items,S.current=s.current,S.pageSize=s.pageSize,S.total=f.paging.total}catch{}finally{X(!1)}},ae=()=>{z({...I,...k.value})},he=s=>{z({...I,...k.value,current:s})},ke=s=>{I.pageSize=s,z({...I,...k.value})};z();const be=()=>{k.value=W()},ge=(s,f)=>{P.value=s},we=(s,f,w)=>{s?x.value.splice(w,0,f):x.value=q.value.filter(C=>C.dataIndex!==f.dataIndex)},le=(s,f,w,C=!1)=>{const B=C?K(s):s;return f>-1&&w>-1&&B.splice(f,1,B.splice(w,1,B[f]).pop()),B},$e=s=>{s&&Ze(()=>{const f=document.getElementById("tableSetting");new Mt(f,{onEnd(w){const{oldIndex:C,newIndex:B}=w;le(x.value,C,B),le(q.value,C,B)}})})};pe(()=>ee.value,s=>{x.value=K(s),x.value.forEach((f,w)=>{f.checked=!0}),q.value=K(x.value)},{deep:!0,immediate:!0});const M=g(!1),{copy:oe,copied:ue}=Tt(),{proxy:De}=et(),l=g({}),Ce=async s=>{M.value=!0,_.value=!0;try{const{data:f}=await Nt({id:s});l.value=f}catch{}finally{_.value=!1}},Be=()=>{M.value=!1},ne=s=>{oe(s)};pe(ue,()=>{ue.value&&De.$message.success("\u590D\u5236\u6210\u529F")});const U=async(s,f)=>{const{data:w}=await Lt({id:s,field:f});oe(w.value)};return(s,f)=>{const w=He,C=tt,B=at,se=lt,T=ot,E=ut,$=nt,ie=st,de=it,Fe=dt,Y=_t,Ee=rt,_e=ct,xe=mt,H=pt,re=Re,ce=ft,R=yt,Ie=je,Ve=vt,Ae=ht,qe=Je,Se=Oe,ze=kt,Ne=bt,y=gt,Le=wt,r=$t,c=Dt,A=Ct,m=Bt,j=Ft,Pe=Et,Me=xt,Ue=It,Te=Vt,v=Qe("permission");return t(),i("div",Yt,[a(B,{class:"container-breadcrumb"},{default:e(()=>[a(C,null,{default:e(()=>[a(w)]),_:1}),a(C,null,{default:e(()=>[p(n(s.$t("menu.audio")),1)]),_:1}),a(C,null,{default:e(()=>[p(n(s.$t("menu.audio.list")),1)]),_:1})]),_:1}),a(Te,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 20px"}},{default:e(()=>[a(Y,null,{default:e(()=>[a($,{flex:1},{default:e(()=>[a(Ee,{model:k.value,"label-col-props":{span:5},"wrapper-col-props":{span:18},"label-align":"left"},{default:e(()=>[a(Y,{gutter:16},{default:e(()=>[h((t(),o($,{span:8},{default:e(()=>[a(E,{field:"app_id",label:s.$t("chat.form.app_id")},{default:e(()=>[a(T,{modelValue:k.value.app_id,"onUpdate:modelValue":f[0]||(f[0]=u=>k.value.app_id=u),placeholder:s.$t("chat.form.selectDefault"),"allow-search":"","allow-clear":""},{default:e(()=>[(t(!0),i(N,null,L(G.value,u=>(t(),o(se,{key:u.app_id,value:u.app_id,label:u.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[v,["user"]]]),h((t(),o($,{span:8},{default:e(()=>[a(E,{field:"trace_id",label:s.$t("chat.form.trace_id")},{default:e(()=>[a(ie,{modelValue:k.value.trace_id,"onUpdate:modelValue":f[1]||(f[1]=u=>k.value.trace_id=u),placeholder:s.$t("chat.form.trace_id.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[v,["admin"]]]),h((t(),o($,{span:8},{default:e(()=>[a(E,{field:"user_id",label:s.$t("chat.form.user_id")},{default:e(()=>[a(de,{modelValue:k.value.user_id,"onUpdate:modelValue":f[2]||(f[2]=u=>k.value.user_id=u),placeholder:s.$t("chat.form.user_id.placeholder"),min:1,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[v,["admin"]]]),h((t(),o($,{span:8},{default:e(()=>[a(E,{field:"key",label:s.$t("chat.form.key")},{default:e(()=>[a(ie,{modelValue:k.value.key,"onUpdate:modelValue":f[3]||(f[3]=u=>k.value.key=u),placeholder:s.$t("chat.form.key.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})),[[v,["user"]]]),a($,{span:8},{default:e(()=>[a(E,{field:"models",label:s.$t("chat.form.models")},{default:e(()=>[a(T,{modelValue:k.value.models,"onUpdate:modelValue":f[4]||(f[4]=u=>k.value.models=u),placeholder:s.$t("chat.form.selectDefault"),"max-tag-count":2,multiple:"","allow-search":"","allow-clear":""},{default:e(()=>[(t(!0),i(N,null,L(Q.value,u=>(t(),o(se,{key:u.id,value:u.id,label:u.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a($,{span:8},{default:e(()=>[a(E,{field:"total_time",label:s.$t("chat.form.total_time")},{default:e(()=>[a(de,{modelValue:k.value.total_time,"onUpdate:modelValue":f[5]||(f[5]=u=>k.value.total_time=u),precision:0,min:1,placeholder:s.$t("chat.form.total_time.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a($,{span:8},{default:e(()=>[a(E,{field:"status",label:s.$t("chat.form.status")},{default:e(()=>[a(T,{modelValue:k.value.status,"onUpdate:modelValue":f[6]||(f[6]=u=>k.value.status=u),options:d(te),placeholder:s.$t("chat.form.selectDefault"),"allow-clear":""},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),_:1}),a($,{span:8},{default:e(()=>[a(E,{field:"req_time",label:s.$t("chat.form.req_time")},{default:e(()=>[a(Fe,{modelValue:k.value.req_time,"onUpdate:modelValue":f[7]||(f[7]=u=>k.value.req_time=u),placeholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"],"time-picker-props":{defaultValue:["00:00:00","23:59:59"]},"show-time":""},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),a(_e,{style:{height:"84px"},direction:"vertical"}),a($,{flex:"86px",style:{"text-align":"right"}},{default:e(()=>[a(ce,{direction:"vertical",size:18},{default:e(()=>[a(H,{type:"primary",onClick:ae},{icon:e(()=>[a(xe)]),default:e(()=>[p(" "+n(s.$t("chat.form.search")),1)]),_:1}),a(H,{onClick:be},{icon:e(()=>[a(re)]),default:e(()=>[p(" "+n(s.$t("chat.form.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(_e,{style:{"margin-top":"0"}}),a(Y,{style:{"margin-bottom":"16px"}},{default:e(()=>[a($,{span:24,style:{display:"flex","align-items":"center","justify-content":"end"}},{default:e(()=>[a(R,{content:s.$t("actions.refresh")},{default:e(()=>[F("div",{class:"action-icon",onClick:ae},[a(re,{size:"18"})])]),_:1},8,["content"]),a(Ae,{onSelect:ge},{content:e(()=>[(t(!0),i(N,null,L(d(ve),u=>(t(),o(Ve,{key:u.value,value:u.value,class:We({active:u.value===P.value})},{default:e(()=>[F("span",null,n(u.name),1)]),_:2},1032,["value","class"]))),128))]),default:e(()=>[a(R,{content:s.$t("actions.density")},{default:e(()=>[F("div",Ht,[a(Ie,{size:"18"})])]),_:1},8,["content"])]),_:1}),a(R,{content:s.$t("actions.column_setting")},{default:e(()=>[a(Ne,{trigger:"click",position:"bl",onPopupVisibleChange:$e},{content:e(()=>[F("div",jt,[(t(!0),i(N,null,L(q.value,(u,D)=>(t(),i("div",{key:u.dataIndex,class:"setting"},[F("div",Jt,[a(Se)]),F("div",null,[a(ze,{modelValue:u.checked,"onUpdate:modelValue":J=>u.checked=J,onChange:J=>we(J,u,D)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),F("div",Ot,n(u.title==="#"?"\u5E8F\u5217\u53F7":u.title),1)]))),128))])]),default:e(()=>[F("div",Rt,[a(qe,{size:"18"})])]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),a(Le,{"row-key":"id",loading:d(_),pagination:S,columns:x.value,data:Z.value,bordered:!1,size:P.value,"row-selection":ye,onPageChange:he,onPageSizeChange:ke},{user_id:e(({record:u})=>[p(n(u.is_smart_match?"-":u.user_id),1)]),characters:e(({record:u})=>[p(n(u.characters||"-"),1)]),minute:e(({record:u})=>[p(n(u.minute||"-"),1)]),total_tokens:e(({record:u})=>[p(n(u.total_tokens?`$${d(qt)(u.total_tokens)}`:u.status===1&&u.billing_method===2?0:"-"),1)]),total_time:e(({record:u})=>[u.total_time>18e4?h((t(),o(y,{key:0,color:"red"},{default:e(()=>[p(n(u.total_time),1)]),_:2},1024)),[[v,["user"]]]):u.total_time>12e4?h((t(),o(y,{key:1,color:"orange"},{default:e(()=>[p(n(u.total_time),1)]),_:2},1024)),[[v,["user"]]]):u.total_time>9e4?h((t(),o(y,{key:2,color:"gold"},{default:e(()=>[p(n(u.total_time),1)]),_:2},1024)),[[v,["user"]]]):h((t(),o(y,{key:3,color:"green"},{default:e(()=>[p(n(u.total_time||"-"),1)]),_:2},1024)),[[v,["user"]]]),u.total_time>12e4?h((t(),o(y,{key:4,color:"red"},{default:e(()=>[p(n(u.total_time),1)]),_:2},1024)),[[v,["admin"]]]):u.total_time>9e4?h((t(),o(y,{key:5,color:"orange"},{default:e(()=>[p(n(u.total_time),1)]),_:2},1024)),[[v,["admin"]]]):u.total_time>6e4?h((t(),o(y,{key:6,color:"gold"},{default:e(()=>[p(n(u.total_time),1)]),_:2},1024)),[[v,["admin"]]]):h((t(),o(y,{key:7,color:"green"},{default:e(()=>[p(n(u.total_time||"-"),1)]),_:2},1024)),[[v,["admin"]]])]),internal_time:e(({record:u})=>[u.internal_time>1e3?h((t(),o(y,{key:0,color:"red"},{default:e(()=>[p(n(u.internal_time),1)]),_:2},1024)),[[v,["user"]]]):u.internal_time>500?h((t(),o(y,{key:1,color:"orange"},{default:e(()=>[p(n(u.internal_time),1)]),_:2},1024)),[[v,["user"]]]):u.internal_time>300?h((t(),o(y,{key:2,color:"gold"},{default:e(()=>[p(n(u.internal_time),1)]),_:2},1024)),[[v,["user"]]]):h((t(),o(y,{key:3,color:"green"},{default:e(()=>[p(n(u.internal_time||"-"),1)]),_:2},1024)),[[v,["user"]]]),u.internal_time>500?h((t(),o(y,{key:4,color:"red"},{default:e(()=>[p(n(u.internal_time),1)]),_:2},1024)),[[v,["admin"]]]):u.internal_time>300?h((t(),o(y,{key:5,color:"orange"},{default:e(()=>[p(n(u.internal_time),1)]),_:2},1024)),[[v,["admin"]]]):u.internal_time>100?h((t(),o(y,{key:6,color:"gold"},{default:e(()=>[p(n(u.internal_time),1)]),_:2},1024)),[[v,["admin"]]]):h((t(),o(y,{key:7,color:"green"},{default:e(()=>[p(n(u.internal_time||"-"),1)]),_:2},1024)),[[v,["admin"]]])]),status:e(({record:u})=>[u.status===-1?(t(),o(y,{key:0,color:"red"},{default:e(()=>[p(n(s.$t(`chat.dict.status.${u.status}`)),1)]),_:2},1024)):u.status===2?(t(),o(y,{key:1,color:"gold"},{default:e(()=>[p(n(s.$t(`chat.dict.status.${u.status}`)),1)]),_:2},1024)):u.status===3?(t(),o(y,{key:2,color:"orange"},{default:e(()=>[p(n(s.$t(`chat.dict.status.${u.status}`)),1)]),_:2},1024)):(t(),o(y,{key:3,color:"green"},{default:e(()=>[p(n(s.$t(`chat.dict.status.${u.status}`)),1)]),_:2},1024))]),operations:e(({record:u})=>[a(H,{type:"text",size:"small",onClick:D=>Ce(u.id)},{default:e(()=>[p(n(s.$t("chat.columns.operations.view")),1)]),_:2},1032,["onClick"])]),_:1},8,["loading","pagination","columns","data","size","row-selection"]),a(Ue,{title:"\u65E5\u5FD7\u8BE6\u60C5",visible:M.value,width:700,footer:!1,"unmount-on-close":"","render-to-body":"",onCancel:Be},{default:e(()=>[F("div",Kt,[h((t(),o(j,{column:2,bordered:"","value-style":{width:"350px",padding:"5px 8px 5px 20px"}},{default:e(()=>[a(m,{label:"Trace ID",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",Gt,[p(n(l.value.trace_id)+" ",1),a(A,{class:"copy-btn",onClick:f[8]||(f[8]=u=>ne(l.value.trace_id))})]))]),_:1}),a(m,{label:"Host",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",Qt,n(l.value.host||"-"),1))]),_:1}),a(m,{label:"\u8C03\u7528\u5BC6\u94A5",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",Wt,[p(n(l.value.creator)+" ",1),a(A,{class:"copy-btn",onClick:f[9]||(f[9]=u=>U(l.value.id,"creator"))})]))]),_:1}),a(m,{label:"\u7528\u6237ID"},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",Xt,n(l.value.user_id||"-"),1))]),_:1}),a(m,{label:"\u5E94\u7528ID",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",Zt,n(l.value.app_id||"-"),1))]),_:1}),a(m,{label:"\u6A21\u578B"},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",ea,n(l.value.model||"-"),1))]),_:1}),a(m,{label:"\u6A21\u578B\u7C7B\u578B"},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",ta,n(s.$t(`dict.model_type.${l.value.type}`)),1))]),_:1}),a(m,{label:"\u63D0\u95EE",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",aa,n(l.value.input||"-"),1))]),_:1}),a(m,{label:"\u56DE\u7B54"},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",la,n(l.value.text||"-"),1))]),_:1}),a(m,{label:"\u8BA1\u8D39\u65B9\u5F0F",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",oa,n(s.$t(`chat.dict.billing_method.${l.value.audio_quota.billing_method}`)),1))]),_:1}),a(m,{label:"\u82B1\u8D39\u4EE4\u724C\u6570",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",ua,n(l.value.total_tokens?l.value.total_tokens:l.value.status===1&&l.value.audio_quota.billing_method===2?0:"-"),1))]),_:1}),a(m,{label:"\u63D0\u95EE\u500D\u7387",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",na,n(l.value.type!==6&&l.value.audio_quota.prompt_ratio||"-"),1))]),_:1}),a(m,{label:"\u56DE\u7B54\u500D\u7387",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",sa,n(l.value.type!==5&&l.value.audio_quota.completion_ratio||"-"),1))]),_:1}),a(m,{label:"\u63D0\u95EE\u5B57\u7B26\u6570",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",ia,n(l.value.characters||"-"),1))]),_:1}),a(m,{label:"\u56DE\u7B54\u5206\u949F\u6570",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",da,n(l.value.minute||"-"),1))]),_:1}),a(m,{label:"\u603B\u8017\u65F6",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",_a,[l.value.total_time>18e4?(t(),o(y,{key:0,color:"red"},{default:e(()=>[p(n(l.value.total_time)+" ms ",1)]),_:1})):l.value.total_time>12e4?(t(),o(y,{key:1,color:"orange"},{default:e(()=>[p(n(l.value.total_time)+" ms ",1)]),_:1})):l.value.total_time>9e4?(t(),o(y,{key:2,color:"gold"},{default:e(()=>[p(n(l.value.total_time)+" ms ",1)]),_:1})):(t(),o(y,{key:3,color:"green"},{default:e(()=>[p(n(l.value.total_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(m,{label:"\u7ED3\u679C",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",ra,[l.value.status===1?(t(),o(y,{key:0,color:"green"},{default:e(()=>[p(n(s.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1})):l.value.status===2?(t(),o(y,{key:1,color:"gold"},{default:e(()=>[p(n(s.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1})):l.value.status===3?(t(),o(y,{key:2,color:"orange"},{default:e(()=>[p(n(s.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1})):(t(),o(y,{key:3,color:"red"},{default:e(()=>[p(n(s.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1}))]))]),_:1}),a(m,{label:"\u5BA2\u6237\u7AEFIP",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",ca,n(l.value.client_ip||"-"),1))]),_:1}),a(m,{label:"\u8BF7\u6C42\u65F6\u95F4",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",ma,n(l.value.req_time||"-"),1))]),_:1}),a(m,{label:"\u9519\u8BEF\u4FE1\u606F",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",pa,n(l.value.err_msg||"-"),1))]),_:1})]),_:1})),[[v,["user"]]]),h((t(),o(j,{column:2,bordered:"","value-style":{width:"350px",padding:"5px 8px 5px 20px"}},{default:e(()=>[a(m,{label:"Trace ID",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",fa,[p(n(l.value.trace_id)+" ",1),a(A,{class:"copy-btn",onClick:f[10]||(f[10]=u=>ne(l.value.trace_id))})]))]),_:1}),a(m,{label:"Host"},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",ya,n(l.value.host||"-"),1))]),_:1}),a(m,{label:"\u8C03\u7528\u5BC6\u94A5",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",va,[p(n(l.value.is_smart_match?"-":l.value.creator)+" ",1),l.value.is_smart_match?Xe("",!0):(t(),o(A,{key:0,class:"copy-btn",onClick:f[11]||(f[11]=u=>U(l.value.id,"creator"))}))]))]),_:1}),a(m,{label:"\u7528\u6237ID"},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",ha,n(l.value.is_smart_match?"-":l.value.user_id||"-"),1))]),_:1}),a(m,{label:"\u5E94\u7528ID",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",ka,n(l.value.is_smart_match?"-":l.value.app_id||"-"),1))]),_:1}),a(m,{label:"\u516C\u53F8"},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",ba,n(l.value.corp_name),1))]),_:1}),a(m,{label:"\u6A21\u578B\u7C7B\u578B"},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",ga,n(s.$t(`dict.model_type.${l.value.type}`)),1))]),_:1}),a(m,{label:"\u8BF7\u6C42\u6A21\u578B\u540D\u79F0"},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",wa,n(l.value.name||"-"),1))]),_:1}),a(m,{label:"\u8BF7\u6C42\u6A21\u578B"},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",$a,n(l.value.model||"-"),1))]),_:1}),a(m,{label:"\u771F\u5B9E\u6A21\u578B\u540D\u79F0"},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",Da,n(l.value.real_model_name),1))]),_:1}),a(m,{label:"\u771F\u5B9E\u6A21\u578B"},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",Ca,n(l.value.real_model),1))]),_:1}),a(m,{label:"\u540E\u5907\u4EE3\u7406"},{default:e(()=>{var u,D;return[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",Ba,n(((D=(u=l.value)==null?void 0:u.fallback_config)==null?void 0:D.model_agent_name)||"-"),1))]}),_:1}),a(m,{label:"\u540E\u5907\u6A21\u578B"},{default:e(()=>{var u,D;return[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",Fa,n(((D=(u=l.value)==null?void 0:u.fallback_config)==null?void 0:D.model)||"-"),1))]}),_:1}),a(m,{label:"\u542F\u7528\u8F6C\u53D1"},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",Ea,n(s.$t(`chat.dict.is_enable_forward.${l.value.is_enable_forward||!1}`)),1))]),_:1}),a(m,{label:"\u8F6C\u53D1\u89C4\u5219"},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",xa,n(l.value.is_enable_forward?s.$t(`chat.dict.forward_rule.${l.value.forward_config.forward_rule||"1"}`):"-"),1))]),_:1}),a(m,{label:"\u542F\u7528\u4EE3\u7406",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",Ia,n(s.$t(`chat.dict.is_enable_model_agent.${l.value.is_enable_model_agent||!1}`)),1))]),_:1}),a(m,{label:"\u4EE3\u7406\u540D\u79F0"},{default:e(()=>{var u,D;return[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",Va,n(((D=(u=l.value)==null?void 0:u.model_agent)==null?void 0:D.name)||"-"),1))]}),_:1}),a(m,{label:"\u5BC6\u94A5"},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",Aa,[p(n(l.value.key?l.value.key.length>0?l.value.key.substr(0,l.value.key.length/2>10?10:l.value.key.length/2)+"************************************"+l.value.key.substr(-(l.value.key.length/2>5?5:l.value.key.length/2)):l.value.key:"-")+" ",1),a(A,{class:"copy-btn",onClick:f[12]||(f[12]=u=>U(l.value.id,"key"))})]))]),_:1}),a(m,{label:"\u63D0\u95EE",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",qa,n(l.value.input||"-"),1))]),_:1}),a(m,{label:"\u56DE\u7B54"},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",Sa,n(l.value.text||"-"),1))]),_:1}),a(m,{label:"\u8BA1\u8D39\u65B9\u5F0F",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",za,n(s.$t(`chat.dict.billing_method.${l.value.audio_quota.billing_method}`)),1))]),_:1}),a(m,{label:"\u82B1\u8D39\u4EE4\u724C\u6570",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",Na,n(l.value.total_tokens?l.value.total_tokens:l.value.status===1&&l.value.audio_quota.billing_method===2?0:"-"),1))]),_:1}),a(m,{label:"\u63D0\u95EE\u500D\u7387",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",La,n(l.value.type!==6&&l.value.audio_quota.prompt_ratio||"-"),1))]),_:1}),a(m,{label:"\u56DE\u7B54\u500D\u7387",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",Pa,n(l.value.type!==5&&l.value.audio_quota.completion_ratio||"-"),1))]),_:1}),a(m,{label:"\u63D0\u95EE\u5B57\u7B26\u6570",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",Ma,n(l.value.characters||"-"),1))]),_:1}),a(m,{label:"\u56DE\u7B54\u5206\u949F\u6570",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",Ua,n(l.value.minute||"-"),1))]),_:1}),a(m,{label:"\u603B\u8017\u65F6",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",Ta,[l.value.total_time>12e4?(t(),o(y,{key:0,color:"red"},{default:e(()=>[p(n(l.value.total_time)+" ms ",1)]),_:1})):l.value.total_time>9e4?(t(),o(y,{key:1,color:"orange"},{default:e(()=>[p(n(l.value.total_time)+" ms ",1)]),_:1})):l.value.total_time>6e4?(t(),o(y,{key:2,color:"gold"},{default:e(()=>[p(n(l.value.total_time)+" ms ",1)]),_:1})):(t(),o(y,{key:3,color:"green"},{default:e(()=>[p(n(l.value.total_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(m,{label:"\u5185\u8017",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",Ya,[l.value.internal_time>500?(t(),o(y,{key:0,color:"red"},{default:e(()=>[p(n(l.value.internal_time)+" ms ",1)]),_:1})):l.value.internal_time>300?(t(),o(y,{key:1,color:"orange"},{default:e(()=>[p(n(l.value.internal_time)+" ms ",1)]),_:1})):l.value.internal_time>100?(t(),o(y,{key:2,color:"gold"},{default:e(()=>[p(n(l.value.internal_time)+" ms ",1)]),_:1})):(t(),o(y,{key:3,color:"green"},{default:e(()=>[p(n(l.value.internal_time||"-")+" ms",1)]),_:1}))]))]),_:1}),a(m,{label:"\u7ED3\u679C",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",Ha,[l.value.status===1?(t(),o(y,{key:0,color:"green"},{default:e(()=>[p(n(s.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1})):l.value.status===2?(t(),o(y,{key:1,color:"gold"},{default:e(()=>[p(n(s.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1})):l.value.status===3?(t(),o(y,{key:2,color:"orange"},{default:e(()=>[p(n(s.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1})):(t(),o(y,{key:3,color:"red"},{default:e(()=>[p(n(s.$t(`chat.dict.status.${l.value.status}`)),1)]),_:1}))]))]),_:1}),a(m,{label:"\u672C\u5730IP",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",Ra,n(l.value.local_ip||"-"),1))]),_:1}),a(m,{label:"\u5BA2\u6237\u7AEFIP",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",ja,n(l.value.client_ip||"-"),1))]),_:1}),a(m,{label:"\u8FDC\u7A0BIP",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",Ja,n(l.value.remote_ip||"-"),1))]),_:1}),a(m,{label:"\u8BF7\u6C42\u65F6\u95F4",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",Oa,n(l.value.req_time||"-"),1))]),_:1}),a(m,{label:"\u521B\u5EFA\u65F6\u95F4",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{widths:["200px"],rows:1})]),_:1})):(t(),i("span",Ka,n(l.value.created_at||"-"),1))]),_:1}),a(m,{label:"\u9519\u8BEF\u4FE1\u606F",span:2},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:1})]),_:1})):(t(),i("span",Ga,n(l.value.err_msg||"-"),1))]),_:1})]),_:1})),[[v,["admin"]]]),h((t(),o(j,{layout:"inline-vertical",column:2,style:{"margin-top":"10px",position:"relative"}},{default:e(()=>[a(m,{span:2},{default:e(()=>[a(Me,{type:"card"},{default:e(()=>[a(Pe,{key:"1",title:"\u6A21\u578B\u4EE3\u7406"},{default:e(()=>[d(_)?(t(),o(c,{key:0,animation:!0},{default:e(()=>[a(r,{rows:3})]),_:1})):(t(),o(ce,{key:1},{default:e(()=>[l.value.model_agent?(t(),o(d(St),{key:0,data:l.value.model_agent,"show-length":!0},null,8,["data"])):(t(),i("span",Qa,"-"))]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})),[[v,["admin"]]])])]),_:1},8,["visible"])]),_:1})])}}});const Nl=Ke(Xa,[["__scopeId","data-v-024401ad"]]);export{Nl as default};
