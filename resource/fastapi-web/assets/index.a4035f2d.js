import{k as F,_ as I}from"./index.20263c1a.js";/* empty css               *//* empty css               *//* empty css               *//* empty css                *//* empty css                */import{d as L,e as s,B as D,C as N,aH as r,aG as u,aL as n,aM as m,F as V,u as R,aK as S,aF as K,b1 as T,b2 as E,aS as G,bK as H,aU as J,bi as M,b5 as j,bJ as z,bL as A,g as O}from"./arco.17b1a46f.js";import{u as P}from"./loading.44762de3.js";import{f as Q,g as W}from"./admin_user.7d765df1.js";import{h as X,f as Y}from"./vue.32c094a4.js";import"./chart.d5ce7f1f.js";import"./base.87fcf6e2.js";const Z={class:"container"},x={class:"wrapper"},ee={class:"submit-btn"},le={name:"UserUpdate"},ae=L({...le,setup(re){const{proxy:$}=O(),{loading:_,setLoading:p}=P(!1),h=X(),U=Y(),f=s(),l=s({id:"",name:"",account:"",password:"",terminal:"web",quota_expires_at:"",rps:s(),rpm:s(),rpd:s(),tps:s(),tpm:s(),tpd:s(),ips:s(),ipm:s(),ipd:s(),remark:"",status:1});(async(a={id:h.query.id})=>{p(!0);try{const{data:e}=await Q(a);l.value.id=e.id,l.value.name=e.name,l.value.account=e.account,l.value.quota_expires_at=e.quota_expires_at,l.value.rps=e.rps,l.value.rpm=e.rpm,l.value.rpd=e.rpd,l.value.tps=e.tps,l.value.tpm=e.tpm,l.value.tpd=e.tpd,l.value.ips=e.ips,l.value.ipm=e.ipm,l.value.ipd=e.ipd,l.value.remark=e.remark,l.value.status=e.status}catch{}finally{p(!1)}})();const y=async()=>{var e;if(!await((e=f.value)==null?void 0:e.validate())){p(!0);try{await W(l.value).then(()=>{$.$message.success("\u66F4\u65B0\u6210\u529F"),U.push({name:"UserList"})})}catch{}finally{p(!1)}}};return(a,e)=>{const b=F,i=S,g=K,c=T,t=E,d=G,w=H,v=J,k=M,q=j,B=z,C=A;return D(),N("div",Z,[r(g,{class:"container-breadcrumb"},{default:u(()=>[r(i,null,{default:u(()=>[r(b)]),_:1}),r(i,null,{default:u(()=>[n(m(a.$t("menu.user")),1)]),_:1}),r(i,null,{default:u(()=>[n(m(a.$t("menu.user.update")),1)]),_:1})]),_:1}),r(C,{loading:R(_),style:{width:"100%"}},{default:u(()=>[r(B,{class:"general-card","body-style":{padding:"0 20px 20px 20px"},bordered:!1},{default:u(()=>[V("div",x,[r(q,{ref_key:"formRef",ref:f,model:l.value,class:"form","label-col-props":{span:5},"wrapper-col-props":{span:18}},{default:u(()=>[r(t,{field:"name",label:a.$t("user.label.name"),rules:[{required:!0,message:a.$t("user.error.name.required")},{match:/^.{1,30}$/,message:a.$t("user.error.name.pattern")}]},{default:u(()=>[r(c,{modelValue:l.value.name,"onUpdate:modelValue":e[0]||(e[0]=o=>l.value.name=o),placeholder:a.$t("user.placeholder.name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),r(t,{field:"account",label:a.$t("user.label.account"),rules:[{required:!0,message:a.$t("user.error.account.required")}]},{default:u(()=>[r(c,{modelValue:l.value.account,"onUpdate:modelValue":e[1]||(e[1]=o=>l.value.account=o),placeholder:a.$t("user.placeholder.account"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),r(t,{field:"password",label:a.$t("user.label.password"),rules:[{match:/^.{6,}$/,message:a.$t("user.error.password.pattern")}]},{default:u(()=>[r(c,{modelValue:l.value.password,"onUpdate:modelValue":e[2]||(e[2]=o=>l.value.password=o),placeholder:a.$t("user.update.placeholder.password"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),r(t,{field:"rps",label:a.$t("user.label.rps")},{default:u(()=>[r(d,{modelValue:l.value.rps,"onUpdate:modelValue":e[3]||(e[3]=o=>l.value.rps=o),placeholder:a.$t("user.placeholder.rps"),precision:0,min:0,max:9999999999999},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(t,{field:"rpm",label:a.$t("user.label.rpm")},{default:u(()=>[r(d,{modelValue:l.value.rpm,"onUpdate:modelValue":e[4]||(e[4]=o=>l.value.rpm=o),placeholder:a.$t("user.placeholder.rpm"),precision:0,min:0,max:9999999999999},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(t,{field:"rpd",label:a.$t("user.label.rpd")},{default:u(()=>[r(d,{modelValue:l.value.rpd,"onUpdate:modelValue":e[5]||(e[5]=o=>l.value.rpd=o),placeholder:a.$t("user.placeholder.rpd"),precision:0,min:0,max:9999999999999},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(t,{field:"tps",label:a.$t("user.label.tps")},{default:u(()=>[r(d,{modelValue:l.value.tps,"onUpdate:modelValue":e[6]||(e[6]=o=>l.value.tps=o),placeholder:a.$t("user.placeholder.tps"),precision:0,min:0,max:9999999999999},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(t,{field:"tpm",label:a.$t("user.label.tpm")},{default:u(()=>[r(d,{modelValue:l.value.tpm,"onUpdate:modelValue":e[7]||(e[7]=o=>l.value.tpm=o),placeholder:a.$t("user.placeholder.tpm"),precision:0,min:0,max:9999999999999},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(t,{field:"tpd",label:a.$t("user.label.tpd")},{default:u(()=>[r(d,{modelValue:l.value.tpd,"onUpdate:modelValue":e[8]||(e[8]=o=>l.value.tpd=o),placeholder:a.$t("user.placeholder.tpd"),precision:0,min:0,max:9999999999999},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(t,{field:"ips",label:a.$t("user.label.ips")},{default:u(()=>[r(d,{modelValue:l.value.ips,"onUpdate:modelValue":e[9]||(e[9]=o=>l.value.ips=o),placeholder:a.$t("user.placeholder.ips"),precision:0,min:0,max:9999999999999},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(t,{field:"ipm",label:a.$t("user.label.ipm")},{default:u(()=>[r(d,{modelValue:l.value.ipm,"onUpdate:modelValue":e[10]||(e[10]=o=>l.value.ipm=o),placeholder:a.$t("user.placeholder.ipm"),precision:0,min:0,max:9999999999999},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(t,{field:"ipd",label:a.$t("user.label.ipd")},{default:u(()=>[r(d,{modelValue:l.value.ipd,"onUpdate:modelValue":e[11]||(e[11]=o=>l.value.ipd=o),placeholder:a.$t("user.placeholder.ipd"),precision:0,min:0,max:9999999999999},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(t,{field:"remark",label:a.$t("user.label.remark")},{default:u(()=>[r(w,{modelValue:l.value.remark,"onUpdate:modelValue":e[12]||(e[12]=o=>l.value.remark=o),placeholder:a.$t("user.placeholder.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(k,null,{default:u(()=>[V("div",ee,[r(v,{type:"secondary",onClick:e[13]||(e[13]=o=>a.$router.push({name:"UserList"}))},{default:u(()=>[n(m(a.$t("form.button.cancel")),1)]),_:1}),r(v,{type:"primary",onClick:y},{default:u(()=>[n(m(a.$t("form.button.submit")),1)]),_:1})])]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["loading"])])}}});const Ve=I(ae,[["__scopeId","data-v-ce5085c4"]]);export{Ve as default};
