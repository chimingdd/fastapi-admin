import{_ as k,z as D}from"./index.95d19ec3.js";import{u as B}from"./loading.e3b9231d.js";/* empty css                */import{d as w,e as y,B as m,aD as $,aG as a,aH as e,aL as i,aM as d,b2 as z,b3 as R,bL as U,aV as C,b6 as A,C as I,aJ as K,aI as E,aE as N,bC as O,bD as j,aU as G,aT as H,bj as T,bA as J,F as P,bt as Q,u as W,aK as X,aF as Y,bM as Z,bN as x,bK as ee,bO as ae}from"./arco.a6f3e581.js";import{d as te}from"./app.1d8cd086.js";/* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css              *//* empty css              *//* empty css               */import{q as le}from"./model.cc15f1d7.js";/* empty css               */import"./chart.5d3761cb.js";import"./vue.7b8f6a6a.js";const oe=w({__name:"base-info",emits:["changeStep"],setup(V,{emit:b}){const c=y(),l=y({name:"",remark:""}),_=async()=>{var t;await((t=c.value)==null?void 0:t.validate())||b("changeStep","forward",{...l.value})};return(p,t)=>{const o=z,u=R,s=U,n=C,h=A;return m(),$(h,{ref_key:"formRef",ref:c,model:l.value,class:"form","label-col-props":{span:5},"wrapper-col-props":{span:18}},{default:a(()=>[e(u,{field:"name",label:p.$t("app.label.name"),rules:[{required:!0,message:p.$t("app.error.name.required")},{match:/^.{1,20}$/,message:p.$t("app.error.name.pattern")}]},{default:a(()=>[e(o,{modelValue:l.value.name,"onUpdate:modelValue":t[0]||(t[0]=f=>l.value.name=f),placeholder:p.$t("app.placeholder.name")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(u,{field:"remark",label:p.$t("app.label.remark"),rules:[{required:!1}]},{default:a(()=>[e(s,{modelValue:l.value.remark,"onUpdate:modelValue":t[1]||(t[1]=f=>l.value.remark=f),placeholder:p.$t("app.placeholder.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(u,null,{default:a(()=>[e(n,{type:"primary",onClick:_},{default:a(()=>[i(d(p.$t("app.button.next")),1)]),_:1})]),_:1})]),_:1},8,["model"])}}});const se=k(oe,[["__scopeId","data-v-3cb6d50a"]]),ne=w({__name:"advanced",emits:["changeStep"],setup(V,{emit:b}){const{setLoading:c}=B(!0),l=y([]);(async()=>{c(!0);try{const{data:s}=await le();l.value=s.items}catch{}finally{c(!1)}})();const p=y(),t=y({models:[],is_limit_quota:!1,quota:y(),ip_whitelist:"",ip_blacklist:""}),o=async()=>{var n;await((n=p.value)==null?void 0:n.validate())||b("changeStep","submit",{...t.value})},u=()=>{b("changeStep","backward")};return(s,n)=>{const h=O,f=j,v=R,q=G,S=H,g=U,L=C,F=T,M=A;return m(),$(M,{ref_key:"formRef",ref:p,model:t.value,class:"form","label-col-props":{span:4},"wrapper-col-props":{span:18}},{default:a(()=>[e(v,{field:"models",label:s.$t("app.label.models"),rules:[{required:!1}]},{default:a(()=>[e(f,{modelValue:t.value.models,"onUpdate:modelValue":n[0]||(n[0]=r=>t.value.models=r),placeholder:s.$t("app.placeholder.models"),"max-tag-count":3,multiple:"","allow-clear":""},{default:a(()=>[(m(!0),I(K,null,E(l.value,r=>(m(),$(h,{key:r.id,value:r.id,label:r.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),e(v,{field:"is_limit_quota",label:s.$t("app.label.isLimitQuota")},{default:a(()=>[e(q,{modelValue:t.value.is_limit_quota,"onUpdate:modelValue":n[1]||(n[1]=r=>t.value.is_limit_quota=r)},null,8,["modelValue"])]),_:1},8,["label"]),t.value.is_limit_quota?(m(),$(v,{key:0,field:"quota",label:s.$t("app.label.quota"),rules:[{required:!0,message:s.$t("app.error.quota.required")}]},{default:a(()=>[e(S,{modelValue:t.value.quota,"onUpdate:modelValue":n[2]||(n[2]=r=>t.value.quota=r),precision:0,min:1,placeholder:s.$t("app.placeholder.quota")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):N("",!0),e(v,{field:"ip_whitelist",label:s.$t("app.label.ip_whitelist"),rules:[{required:!1}]},{default:a(()=>[e(g,{modelValue:t.value.ip_whitelist,"onUpdate:modelValue":n[3]||(n[3]=r=>t.value.ip_whitelist=r),placeholder:s.$t("app.placeholder.ip_whitelist"),"auto-size":{minRows:5,maxRows:10}},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(v,{field:"ip_blacklist",label:s.$t("app.label.ip_blacklist"),rules:[{required:!1}]},{default:a(()=>[e(g,{modelValue:t.value.ip_blacklist,"onUpdate:modelValue":n[4]||(n[4]=r=>t.value.ip_blacklist=r),placeholder:s.$t("app.placeholder.ip_blacklist"),"auto-size":{minRows:5,maxRows:10}},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(v,null,{default:a(()=>[e(F,null,{default:a(()=>[e(L,{type:"secondary",onClick:u},{default:a(()=>[i(d(s.$t("app.button.prev")),1)]),_:1}),e(L,{type:"primary",onClick:o},{default:a(()=>[i(d(s.$t("app.button.next")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}});const pe=k(ne,[["__scopeId","data-v-c1f7e052"]]),re={class:"success-wrap"},ue=w({__name:"success",emits:["changeStep"],setup(V,{emit:b}){const c=()=>{b("changeStep",1)};return(l,_)=>{const p=J,t=C,o=T;return m(),I("div",re,[e(p,{status:"success",title:l.$t("app.success.title"),subtitle:l.$t("app.success.create.subTitle")},null,8,["title","subtitle"]),e(o,{size:16},{default:a(()=>[e(t,{key:"finish",type:"secondary",onClick:_[0]||(_[0]=u=>l.$router.push({name:"AppList"}))},{default:a(()=>[i(d(l.$t("app.button.finish")),1)]),_:1}),e(t,{key:"again",type:"primary",onClick:c},{default:a(()=>[i(d(l.$t("app.button.again")),1)]),_:1})]),_:1})])}}});const ie=k(ue,[["__scopeId","data-v-9ee08270"]]),de={class:"container"},me={class:"wrapper"},ce={name:"AppCreate"},_e=w({...ce,setup(V){const{loading:b,setLoading:c}=B(!1),l=y(1),_=y({}),p=async()=>{c(!0);try{await te(_.value),l.value=3,_.value={}}catch{}finally{c(!1)}},t=(o,u)=>{if(typeof o=="number"){l.value=o;return}if(o==="forward"||o==="submit"){if(_.value={..._.value,...u},o==="submit"){p();return}l.value+=1}else o==="backward"&&(l.value-=1)};return(o,u)=>{const s=D,n=X,h=Y,f=Z,v=x,q=ee,S=ae;return m(),I("div",de,[e(h,{class:"container-breadcrumb"},{default:a(()=>[e(n,null,{default:a(()=>[e(s)]),_:1}),e(n,null,{default:a(()=>[i(d(o.$t("menu.app")),1)]),_:1}),e(n,null,{default:a(()=>[i(d(o.$t("menu.app.create")),1)]),_:1})]),_:1}),e(S,{loading:W(b),style:{width:"100%"}},{default:a(()=>[e(q,{class:"general-card",bordered:!1},{title:a(()=>[i(d(o.$t("app.title.create")),1)]),default:a(()=>[P("div",me,[e(v,{current:l.value,"onUpdate:current":u[0]||(u[0]=g=>l.value=g),style:{width:"660px"},"line-less":"",class:"steps"},{default:a(()=>[e(f,{description:o.$t("app.subTitle.baseInfo")},{default:a(()=>[i(d(o.$t("app.title.baseInfo")),1)]),_:1},8,["description"]),e(f,{description:o.$t("app.subTitle.advanced")},{default:a(()=>[i(d(o.$t("app.title.advanced")),1)]),_:1},8,["description"]),e(f,{description:o.$t("app.subTitle.create.finish")},{default:a(()=>[i(d(o.$t("app.title.create.finish")),1)]),_:1},8,["description"])]),_:1},8,["current"]),(m(),$(Q,null,[l.value===1?(m(),$(se,{key:0,onChangeStep:t})):l.value===2?(m(),$(pe,{key:1,onChangeStep:t})):l.value===3?(m(),$(ie,{key:2,onChangeStep:t})):N("",!0)],1024))])]),_:1})]),_:1},8,["loading"])])}}});const Re=k(_e,[["__scopeId","data-v-409597ef"]]);export{Re as default};
