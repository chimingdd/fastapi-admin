import{u as Vl,M as xl,s as Al,A as Ul,k as Sl,B as zl,_ as Il}from"./index.b0442b91.js";/* empty css                *//* empty css                *//* empty css               *//* empty css              *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css                *//* empty css               *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css               */import{d as Ml,r as Ne,e as i,c as ee,w as Ql,B as s,C as g,aH as t,aG as a,aL as o,aM as n,aJ as z,aI as I,aD as p,u as d,aE as F,F as M,D as Ll,n as Ol,aK as Nl,aF as Hl,bK as Pl,bL as Tl,b2 as Rl,bM as Gl,b1 as jl,bN as Jl,b5 as Kl,bO as Yl,ab as Wl,aU as Xl,bl as Zl,bu as ea,bw as la,bx as aa,b4 as ta,bv as ua,aT as oa,bP as na,bQ as ia,aV as sa,a_ as da,bY as ra,c5 as ma,bR as ca,g as pa}from"./arco.98c6b47e.js";import{u as _a}from"./loading.145cbdec.js";import{q as Q,p as _}from"./common.df364eef.js";import{q as va,s as fa,c as ga,d as ba,e as ya,f as $a}from"./model.a6a6f27e.js";import{c as ye,S as Ca}from"./sortable.esm.9b1f3954.js";import{f as Ea}from"./agent.a1f6f291.js";import{q as ka}from"./corp.fd8f455d.js";import{q as Fa}from"./group.757d732f.js";import{_ as ha}from"./index.vue_vue_type_script_setup_true_lang.9e92c426.js";import"./chart.30821537.js";import"./vue.a64f92cf.js";/* empty css                *//* empty css                */const wa={class:"container"},Ba={class:"action-icon"},qa={class:"action-icon"},Da={id:"tableSetting"},Va={style:{"margin-right":"4px",cursor:"move"}},xa={class:"title"},Aa={key:0},Ua={key:0},Sa={key:1},za={key:2},Ia={key:3},Ma={key:4},Qa={key:5},La={key:6},Oa={key:0},Na={name:"ModelList"},Ha=Ml({...Na,setup(Pa){const{loading:He,setLoading:$}=_a(!0),{proxy:P}=pa(),Pe=Ne({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),$e=i([]);(async()=>{$(!0);try{const{data:l}=await ka();$e.value=l.items}catch{}finally{$(!1)}})();const le=i([]);(async()=>{try{const{data:l}=await va();le.value=l.items}catch{}})();const ae=i([]);(async()=>{try{const{data:l}=await Ea();ae.value=l.items}catch{}})();const Ce=i([]);(async()=>{try{const{data:l}=await Fa();Ce.value=l.items}catch{}finally{$(!1)}})();const Te=async l=>{$(!0);try{await fa(l),P.$message.success("\u5220\u9664\u6210\u529F"),N()}catch{}finally{$(!1)}},Ee=()=>({corp:"",model:"",name:"",type:i(),group:"",status:i()}),{t:v}=Vl(),h=i([]),b=i(Ee()),L=i([]),K=i([]),te=i("medium"),y=i([]),m=i(!0),ue=i();let ke=!1;const O={current:1,pageSize:20,showTotal:!0,showPageSize:!0,pageSizeOptions:[20,50,100,500,1e3]},Y=Ne({...O}),Re=ee(()=>[{name:v("size.mini"),value:"mini"},{name:v("size.small"),value:"small"},{name:v("size.medium"),value:"medium"},{name:v("size.large"),value:"large"}]),Ge=ee(()=>[{title:v("model.columns.corp"),dataIndex:"corp_name",slotName:"corp_name",align:"center",width:120},{title:v("model.columns.model"),dataIndex:"model",slotName:"model",align:"center",ellipsis:!0,tooltip:!0},{title:v("model.columns.price"),dataIndex:"prompt_ratio",slotName:"prompt_ratio",align:"center"},{title:v("model.columns.group_names"),dataIndex:"group_names",slotName:"group_names",align:"center",ellipsis:!0,tooltip:!0},{title:v("model.columns.lb_strategy"),dataIndex:"lb_strategy",slotName:"lb_strategy",align:"center"},{title:v("model.columns.status"),dataIndex:"status",slotName:"status",align:"center",width:65},{title:v("model.columns.updated_at"),dataIndex:"updated_at",slotName:"updated_at",align:"center",width:132},{title:v("model.columns.operations"),dataIndex:"operations",slotName:"operations",align:"center",width:170}]),je=ee(()=>[{label:v("dict.model_type.1"),value:1},{label:v("dict.model_type.2"),value:2},{label:v("dict.model_type.3"),value:3},{label:v("dict.model_type.4"),value:4},{label:v("dict.model_type.5"),value:5},{label:v("dict.model_type.6"),value:6},{label:v("dict.model_type.100"),value:100},{label:v("dict.model_type.101"),value:101},{label:v("dict.model_type.102"),value:102}]),Je=ee(()=>[{label:v("model.dict.status.1"),value:1},{label:v("model.dict.status.2"),value:2}]),W=async(l={...O})=>{$(!0);try{const{data:u}=await ga(l);h.value=u.items,Y.current=l.current,Y.pageSize=l.pageSize,Y.total=u.paging.total,ke=u.items.length===0}catch{}finally{$(!1),ue.value.selectAll(!1)}},N=()=>{W({...O,...b.value})},Ke=l=>{W({...O,...b.value,current:l})},Ye=l=>{O.pageSize=l,W({...O,...b.value})};W();const We=()=>{b.value=Ee(),N()},Xe=async l=>{$(!0);try{await ba(l),P.$message.success("\u64CD\u4F5C\u6210\u529F"),N()}catch{}finally{$(!1)}},Ze=(l,u)=>{te.value=l},el=(l,u,f)=>{l?L.value.splice(f,0,u):L.value=K.value.filter(D=>D.dataIndex!==u.dataIndex)},Fe=(l,u,f,D=!1)=>{const A=D?ye(l):l;return u>-1&&f>-1&&A.splice(u,1,A.splice(f,1,A[u]).pop()),A},ll=l=>{l&&Ol(()=>{const u=document.getElementById("tableSetting");new Ca(u,{onEnd(f){const{oldIndex:D,newIndex:A}=f;Fe(L.value,D,A),Fe(K.value,D,A)}})})};Ql(()=>Ge.value,l=>{L.value=ye(l),L.value.forEach((u,f)=>{u.checked=!0}),K.value=ye(L.value)},{deep:!0,immediate:!0});const T=i(!1),he=i(),w=i({}),we=i(),R=i(!1),V=i({});V.value.lb_strategy="1";const al=async()=>{$(!0);try{w.value.url="",w.value.key="",w.value.is_config_model_agent=!0,w.value.is_cover_price=!1,T.value=!0}catch{}finally{$(!1)}},tl=async l=>{var f;if(await((f=he.value)==null?void 0:f.validate())){T.value=!0,l(!1);return}$(!0);try{await ya(w.value),l(),window.location.reload()}catch{l(!1)}finally{$(!1)}},ul=()=>{T.value=!1},ol=async l=>{var f;if(await((f=we.value)==null?void 0:f.validate())){R.value=!0,l(!1);return}l(),C({action:"agent",value:"all",lb_strategy:V.value.lb_strategy,model_agents:V.value.model_agents})},nl=()=>{R.value=!1},Be=i(),G=i(!1),X=i({}),il=async l=>{var f;if(await((f=Be.value)==null?void 0:f.validate())){G.value=!0,l(!1);return}l(),C({action:"forward",value:"all",target_model:X.value.target_model})},sl=()=>{G.value=!1},qe=i(),j=i(!1),B=i({}),dl=async l=>{var f;if(await((f=qe.value)==null?void 0:f.validate())){j.value=!0,l(!1);return}l(),C({action:"fallback",value:"all",fallback_config:{model_agent:B.value.model_agent,model:B.value.model}})},rl=()=>{j.value=!1},ml=l=>{y.value=l,m.value=!l.length},C=l=>{if(y.value.length===0)P.$message.info("\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E");else{let u=`\u662F\u5426\u786E\u5B9A\u64CD\u4F5C\u6240\u9009\u7684${y.value.length}\u6761\u6570\u636E?`;switch(l.action){case"agent":l.value===!0?u=`\u662F\u5426\u786E\u5B9A\u542F\u7528\u6240\u9009${y.value.length}\u6761\u6570\u636E\u7684\u6A21\u578B\u4EE3\u7406?`:l.value===!1?u=`\u662F\u5426\u786E\u5B9A\u5173\u95ED\u6240\u9009${y.value.length}\u6761\u6570\u636E\u7684\u6A21\u578B\u4EE3\u7406?`:l.value==="all"&&(l.model_agents?u=`\u662F\u5426\u786E\u5B9A\u5C06\u6240\u9009${y.value.length}\u6761\u6570\u636E\u7684\u6A21\u578B\u4EE3\u7406\u542F\u7528\u5E76\u4F7F\u7528\u6240\u9009\u7684\u6A21\u578B\u4EE3\u7406?`:R.value=!0);break;case"forward":l.value===!0?u=`\u662F\u5426\u786E\u5B9A\u542F\u7528\u6240\u9009${y.value.length}\u6761\u6570\u636E\u7684\u6A21\u578B\u8F6C\u53D1?`:l.value===!1?u=`\u662F\u5426\u786E\u5B9A\u5173\u95ED\u6240\u9009${y.value.length}\u6761\u6570\u636E\u7684\u6A21\u578B\u8F6C\u53D1?`:l.value==="all"&&(l.target_model?u=`\u662F\u5426\u786E\u5B9A\u5C06\u6240\u9009${y.value.length}\u6761\u6570\u636E\u7684\u6A21\u578B\u8F6C\u53D1\u542F\u7528\u5E76\u5168\u90E8\u8F6C\u53D1\u5230\u6240\u9009\u6A21\u578B?`:G.value=!0);break;case"fallback":l.value===!0?u=`\u662F\u5426\u786E\u5B9A\u542F\u7528\u6240\u9009${y.value.length}\u6761\u6570\u636E\u7684\u540E\u5907\u6A21\u578B?`:l.value===!1?u=`\u662F\u5426\u786E\u5B9A\u5173\u95ED\u6240\u9009${y.value.length}\u6761\u6570\u636E\u7684\u540E\u5907\u6A21\u578B?`:l.value==="all"&&(l.fallback_config?u=`\u662F\u5426\u786E\u5B9A\u5C06\u6240\u9009${y.value.length}\u6761\u6570\u636E\u7684\u540E\u5907\u914D\u7F6E\u542F\u7528\u5E76\u5168\u90E8\u540E\u5907\u5230\u6240\u9009\u914D\u7F6E?`:j.value=!0);break;case"status":l.value===1?u=`\u662F\u5426\u786E\u5B9A\u542F\u7528\u6240\u9009\u7684${y.value.length}\u6761\u6570\u636E?`:u=`\u662F\u5426\u786E\u5B9A\u7981\u7528\u6240\u9009\u7684${y.value.length}\u6761\u6570\u636E?`;break;case"delete":u=`\u662F\u5426\u786E\u5B9A\u5220\u9664\u6240\u9009\u7684${y.value.length}\u6761\u6570\u636E?`;break}if(l.action==="agent"&&l.value==="all"&&!l.model_agents||l.action==="forward"&&l.value==="all"&&!l.target_model||l.action==="fallback"&&l.value==="all"&&!l.fallback_config)return;P.$modal.warning({title:"\u8B66\u544A",titleAlign:"center",content:u,hideCancel:!1,onOk:()=>{$(!0),l.ids=y.value,$a(l).then(f=>{$(!1),P.$message.success("\u64CD\u4F5C\u6210\u529F"),N(),ue.value.selectAll(!1)})}})}},oe=i(!1),De=i([]),cl=l=>{oe.value=!0,De.value[0]=l},ne=i(!1),Ve=i([]),xe=i([]),pl=l=>{ne.value=!0,Ve.value=l.generation_quotas,xe.value[0]=l},ie=i(!1),se=i(!1),Ae=i(!1),Ue=i([]),Se=i([]),ze=i([]),Ie=i([]),_l=l=>{ie.value=!0,se.value=!1,Ue.value[0]=l.text_quota,Se.value=l.vision_quotas,l.search_quota>0&&(se.value=!0,ze.value[0]=l),l.search_quotas&&(Ae.value=!0,Ie.value=l.search_quotas)},de=i(!1),re=i([]),vl=l=>{re.value[0]=l,de.value=!0},me=i(!1),ce=i([]),fl=l=>{ce.value[0]=l,me.value=!0},pe=i(!1),Me=i(),gl=l=>{pe.value=!0,Me.value=l},bl=()=>{pe.value=!1};return(l,u)=>{const f=xl,D=Nl,A=Hl,H=Pl,S=Tl,E=Rl,x=Gl,Z=jl,_e=Jl,J=Kl,Qe=Yl,yl=Wl,c=Xl,Le=Al,ve=Zl,fe=ea,$l=Ul,Cl=la,El=aa,kl=Sl,Fl=zl,hl=ta,wl=ua,ge=oa,Bl=na,q=ia,ql=sa,U=da,Oe=ra,r=ma,Dl=ca;return s(),g("div",wa,[t(A,{class:"container-breadcrumb"},{default:a(()=>[t(D,null,{default:a(()=>[t(f)]),_:1}),t(D,null,{default:a(()=>[o(n(l.$t("menu.model")),1)]),_:1}),t(D,null,{default:a(()=>[o(n(l.$t("menu.model.list")),1)]),_:1})]),_:1}),t(Dl,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 20px"}},{default:a(()=>[t(_e,null,{default:a(()=>[t(x,{flex:1},{default:a(()=>[t(J,{model:b.value,"label-col-props":{span:5},"wrapper-col-props":{span:18},"label-align":"left"},{default:a(()=>[t(_e,{gutter:16},{default:a(()=>[t(x,{span:8},{default:a(()=>[t(E,{field:"corp",label:l.$t("model.form.corp")},{default:a(()=>[t(S,{modelValue:b.value.corp,"onUpdate:modelValue":u[0]||(u[0]=e=>b.value.corp=e),placeholder:l.$t("model.form.selectDefault"),scrollbar:!1,"allow-search":"","allow-clear":""},{default:a(()=>[(s(!0),g(z,null,I($e.value,e=>(s(),p(H,{key:e.id,value:e.id,label:e.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(x,{span:8},{default:a(()=>[t(E,{field:"model",label:l.$t("model.form.model")},{default:a(()=>[t(Z,{modelValue:b.value.model,"onUpdate:modelValue":u[1]||(u[1]=e=>b.value.model=e),placeholder:l.$t("model.form.model.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(x,{span:8},{default:a(()=>[t(E,{field:"name",label:l.$t("model.form.name")},{default:a(()=>[t(Z,{modelValue:b.value.name,"onUpdate:modelValue":u[2]||(u[2]=e=>b.value.name=e),placeholder:l.$t("model.form.name.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(x,{span:8},{default:a(()=>[t(E,{field:"group",label:l.$t("model.form.group")},{default:a(()=>[t(S,{modelValue:b.value.group,"onUpdate:modelValue":u[3]||(u[3]=e=>b.value.group=e),placeholder:l.$t("model.form.selectDefault"),scrollbar:!1,"allow-search":"","allow-clear":""},{default:a(()=>[(s(!0),g(z,null,I(Ce.value,e=>(s(),p(H,{key:e.id,value:e.id,label:e.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(x,{span:8},{default:a(()=>[t(E,{field:"status",label:l.$t("model.form.status")},{default:a(()=>[t(S,{modelValue:b.value.status,"onUpdate:modelValue":u[4]||(u[4]=e=>b.value.status=e),placeholder:l.$t("model.form.selectDefault"),options:d(Je),scrollbar:!1,"allow-clear":""},null,8,["modelValue","placeholder","options"])]),_:1},8,["label"])]),_:1}),t(x,{span:8},{default:a(()=>[t(E,{field:"type",label:l.$t("model.form.type")},{default:a(()=>[t(S,{modelValue:b.value.type,"onUpdate:modelValue":u[5]||(u[5]=e=>b.value.type=e),placeholder:l.$t("model.form.selectDefault"),options:d(je),scrollbar:!1,"allow-search":"","allow-clear":""},null,8,["modelValue","placeholder","options"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),t(Qe,{style:{height:"84px"},direction:"vertical"}),t(x,{flex:"86px",style:{"text-align":"right"}},{default:a(()=>[t(ve,{direction:"vertical",size:18},{default:a(()=>[t(c,{type:"primary",onClick:N},{icon:a(()=>[t(yl)]),default:a(()=>[o(" "+n(l.$t("model.form.search")),1)]),_:1}),t(c,{onClick:We},{icon:a(()=>[t(Le)]),default:a(()=>[o(" "+n(l.$t("model.form.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(Qe,{style:{"margin-top":"0","margin-bottom":"16px"}}),t(_e,{style:{"margin-bottom":"16px"}},{default:a(()=>[t(x,{span:12},{default:a(()=>[t(ve,null,{default:a(()=>[t(c,{type:"primary",onClick:u[6]||(u[6]=e=>l.$router.push({name:"ModelCreate"}))},{default:a(()=>[o(n(l.$t("model.operation.create")),1)]),_:1}),d(ke)?(s(),p(c,{key:0,type:"primary",status:"success",onClick:u[7]||(u[7]=e=>al())},{default:a(()=>[o(" \u521D\u59CB\u5316 ")]),_:1})):F("",!0),h.value.length!==0?(s(),p(c,{key:1,type:"primary",status:"warning",disabled:m.value,title:m.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:u[8]||(u[8]=e=>C({action:"agent",value:"all"}))},{default:a(()=>[o(" \u5168\u90E8\u4EE3\u7406 ")]),_:1},8,["disabled","title"])):F("",!0),h.value.length!==0?(s(),p(c,{key:2,type:"primary",status:"success",disabled:m.value,title:m.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:u[9]||(u[9]=e=>C({action:"agent",value:!0}))},{default:a(()=>[o(" \u542F\u7528\u4EE3\u7406 ")]),_:1},8,["disabled","title"])):F("",!0),h.value.length!==0?(s(),p(c,{key:3,type:"primary",status:"danger",disabled:m.value,title:m.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:u[10]||(u[10]=e=>C({action:"agent",value:!1}))},{default:a(()=>[o(" \u5173\u95ED\u4EE3\u7406 ")]),_:1},8,["disabled","title"])):F("",!0),h.value.length!==0?(s(),p(c,{key:4,type:"primary",status:"warning",disabled:m.value,title:m.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:u[11]||(u[11]=e=>C({action:"forward",value:"all"}))},{default:a(()=>[o(" \u5168\u90E8\u8F6C\u53D1 ")]),_:1},8,["disabled","title"])):F("",!0),h.value.length!==0?(s(),p(c,{key:5,type:"primary",status:"success",disabled:m.value,title:m.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:u[12]||(u[12]=e=>C({action:"forward",value:!0}))},{default:a(()=>[o(" \u542F\u7528\u8F6C\u53D1 ")]),_:1},8,["disabled","title"])):F("",!0),h.value.length!==0?(s(),p(c,{key:6,type:"primary",status:"danger",disabled:m.value,title:m.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:u[13]||(u[13]=e=>C({action:"forward",value:!1}))},{default:a(()=>[o(" \u5173\u95ED\u8F6C\u53D1 ")]),_:1},8,["disabled","title"])):F("",!0),h.value.length!==0?(s(),p(c,{key:7,type:"primary",status:"warning",disabled:m.value,title:m.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:u[14]||(u[14]=e=>C({action:"fallback",value:"all"}))},{default:a(()=>[o(" \u5168\u90E8\u540E\u5907 ")]),_:1},8,["disabled","title"])):F("",!0),h.value.length!==0?(s(),p(c,{key:8,type:"primary",status:"success",disabled:m.value,title:m.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:u[15]||(u[15]=e=>C({action:"fallback",value:!0}))},{default:a(()=>[o(" \u542F\u7528\u540E\u5907 ")]),_:1},8,["disabled","title"])):F("",!0),h.value.length!==0?(s(),p(c,{key:9,type:"primary",status:"danger",disabled:m.value,title:m.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:u[16]||(u[16]=e=>C({action:"fallback",value:!1}))},{default:a(()=>[o(" \u5173\u95ED\u540E\u5907 ")]),_:1},8,["disabled","title"])):F("",!0),h.value.length!==0?(s(),p(c,{key:10,type:"primary",status:"success",disabled:m.value,title:m.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:u[17]||(u[17]=e=>C({action:"status",value:1}))},{default:a(()=>[o(" \u542F\u7528 ")]),_:1},8,["disabled","title"])):F("",!0),h.value.length!==0?(s(),p(c,{key:11,type:"primary",status:"danger",disabled:m.value,title:m.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:u[18]||(u[18]=e=>C({action:"status",value:2}))},{default:a(()=>[o(" \u7981\u7528 ")]),_:1},8,["disabled","title"])):F("",!0),h.value.length!==0?(s(),p(c,{key:12,type:"primary",status:"danger",disabled:m.value,title:m.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:u[19]||(u[19]=e=>C({action:"delete"}))},{default:a(()=>[o(" \u5220\u9664 ")]),_:1},8,["disabled","title"])):F("",!0)]),_:1})]),_:1}),t(x,{span:12,style:{display:"flex",height:"32px","align-items":"center","justify-content":"end"}},{default:a(()=>[t(fe,{content:l.$t("actions.refresh")},{default:a(()=>[M("div",{class:"action-icon",onClick:N},[t(Le,{size:"18"})])]),_:1},8,["content"]),t(El,{onSelect:Ze},{content:a(()=>[(s(!0),g(z,null,I(d(Re),e=>(s(),p(Cl,{key:e.value,value:e.value,class:Ll({active:e.value===te.value})},{default:a(()=>[M("span",null,n(e.name),1)]),_:2},1032,["value","class"]))),128))]),default:a(()=>[t(fe,{content:l.$t("actions.density")},{default:a(()=>[M("div",Ba,[t($l,{size:"18"})])]),_:1},8,["content"])]),_:1}),t(fe,{content:l.$t("actions.column_setting")},{default:a(()=>[t(wl,{trigger:"click",position:"bl",onPopupVisibleChange:ll},{content:a(()=>[M("div",Da,[(s(!0),g(z,null,I(K.value,(e,k)=>(s(),g("div",{key:e.dataIndex,class:"setting"},[M("div",Va,[t(Fl)]),M("div",null,[t(hl,{modelValue:e.checked,"onUpdate:modelValue":be=>e.checked=be,onChange:be=>el(be,e,k)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),M("div",xa,n(e.title==="#"?"\u5E8F\u5217\u53F7":e.title),1)]))),128))])]),default:a(()=>[M("div",qa,[t(kl,{size:"18"})])]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),t(q,{ref_key:"tableRef",ref:ue,"row-key":"id",loading:d(He),pagination:Y,columns:L.value,data:h.value,bordered:!1,size:te.value,"row-selection":Pe,onPageChange:Ke,onPageSizeChange:Ye,onSelectionChange:ml},{type:a(({record:e})=>[o(n(l.$t(`dict.model_type.${e.type}`)),1)]),prompt_ratio:a(({record:e})=>[e.type===2?(s(),g("span",Aa,[e.image_quota.billing_method===2?(s(),g("span",Ua,n(`$${d(Q)(e.image_quota.fixed_quota)}/\u6B21`),1)):(s(),p(c,{key:1,type:"text",size:"small",onClick:k=>pl(e.image_quota)},{default:a(()=>[o(" \u67E5\u770B ")]),_:2},1032,["onClick"]))])):e.type===5?(s(),g("span",Sa,n(e.audio_quota.billing_method===1?`$${d(_)(e.audio_quota.prompt_ratio)}/k`:`$${d(Q)(e.audio_quota.fixed_quota)}/\u6B21`),1)):e.type===6?(s(),g("span",za,n(e.audio_quota.billing_method===1?`$${d(_)(e.audio_quota.completion_ratio)}/min`:`$${d(Q)(e.audio_quota.fixed_quota)}/\u6B21`),1)):e.type===100?(s(),g("span",Ia,[t(c,{type:"text",size:"small",onClick:k=>_l(e.multimodal_quota)},{default:a(()=>[o(" \u67E5\u770B ")]),_:2},1032,["onClick"])])):e.type===101?(s(),g("span",Ma,[t(c,{type:"text",size:"small",onClick:k=>vl(e.realtime_quota)},{default:a(()=>[o(" \u67E5\u770B ")]),_:2},1032,["onClick"])])):e.type===102?(s(),g("span",Qa,[t(c,{type:"text",size:"small",onClick:k=>fl(e.multimodal_audio_quota)},{default:a(()=>[o(" \u67E5\u770B ")]),_:2},1032,["onClick"])])):(s(),g("span",La,[e.text_quota.billing_method===2?(s(),g("span",Oa,n(`$${d(Q)(e.text_quota.fixed_quota)}/\u6B21`),1)):(s(),p(c,{key:1,type:"text",size:"small",onClick:k=>cl(e.text_quota)},{default:a(()=>[o(" \u67E5\u770B ")]),_:2},1032,["onClick"]))]))]),group_names:a(({record:e})=>{var k;return[o(n(((k=e==null?void 0:e.group_names)==null?void 0:k.join(","))||"-"),1)]}),lb_strategy:a(({record:e})=>[o(n(e.is_enable_model_agent?l.$t(`dict.lb_strategy.${e.lb_strategy||1}`):"-"),1)]),status:a(({record:e})=>[t(ge,{modelValue:e.status,"onUpdate:modelValue":k=>e.status=k,"checked-value":1,"unchecked-value":2,onChange:k=>Xe({id:`${e.id}`,status:Number(`${e.status}`)})},null,8,["modelValue","onUpdate:modelValue","onChange"])]),operations:a(({record:e})=>[t(c,{type:"text",size:"small",onClick:k=>gl(e.id)},{default:a(()=>[o(n(l.$t("model.columns.operations.view")),1)]),_:2},1032,["onClick"]),t(c,{type:"text",size:"small",onClick:k=>l.$router.push({name:"ModelUpdate",query:{id:`${e.id}`}})},{default:a(()=>[o(n(l.$t("model.columns.operations.update")),1)]),_:2},1032,["onClick"]),t(Bl,{content:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u5417?",onOk:k=>Te({id:`${e.id}`})},{default:a(()=>[t(c,{type:"text",size:"small"},{default:a(()=>[o(n(l.$t("model.columns.operations.delete")),1)]),_:1})]),_:2},1032,["onOk"])]),_:1},8,["loading","pagination","columns","data","size","row-selection"]),t(ql,{title:l.$t("menu.model.detail"),"unmount-on-close":"","render-to-body":"",width:700,footer:!1,visible:pe.value,onCancel:bl},{default:a(()=>[t(ha,{id:Me.value},null,8,["id"])]),_:1},8,["title","visible"]),t(U,{visible:T.value,"onUpdate:visible":u[24]||(u[24]=e=>T.value=e),title:l.$t("model.form.title.init_model"),onCancel:ul,onBeforeOk:tl},{default:a(()=>[t(J,{ref_key:"initForm",ref:he,model:w.value},{default:a(()=>[t(E,{field:"url",label:l.$t("model.label.url"),rules:[{required:!0,message:l.$t("model.error.url.required")}]},{default:a(()=>[t(Z,{modelValue:w.value.url,"onUpdate:modelValue":u[20]||(u[20]=e=>w.value.url=e),placeholder:l.$t("model.placeholder.url"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(E,{field:"key",label:l.$t("model.label.key"),rules:[{required:!0,message:l.$t("model.error.key.required")}]},{default:a(()=>[t(Z,{modelValue:w.value.key,"onUpdate:modelValue":u[21]||(u[21]=e=>w.value.key=e),placeholder:l.$t("model.placeholder.key"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(E,{field:"is_config_model_agent",label:l.$t("model.label.is_config_model_agent")},{default:a(()=>[t(ge,{modelValue:w.value.is_config_model_agent,"onUpdate:modelValue":u[22]||(u[22]=e=>w.value.is_config_model_agent=e)},null,8,["modelValue"])]),_:1},8,["label"]),t(E,{field:"is_cover_price",label:l.$t("model.label.is_cover_price")},{default:a(()=>[t(ge,{modelValue:w.value.is_cover_price,"onUpdate:modelValue":u[23]||(u[23]=e=>w.value.is_cover_price=e)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["visible","title"]),t(U,{visible:R.value,"onUpdate:visible":u[28]||(u[28]=e=>R.value=e),title:l.$t("model.form.title.model_agent"),onCancel:nl,onBeforeOk:ol},{default:a(()=>[t(J,{ref_key:"agentForm",ref:we,model:V.value},{default:a(()=>[t(E,{field:"lb_strategy",label:l.$t("model.label.lb_strategy"),rules:[{required:!0}]},{default:a(()=>[t(ve,{size:"large"},{default:a(()=>[t(Oe,{modelValue:V.value.lb_strategy,"onUpdate:modelValue":u[25]||(u[25]=e=>V.value.lb_strategy=e),value:"1","default-checked":!0},{default:a(()=>[o(" \u8F6E\u8BE2 ")]),_:1},8,["modelValue"]),t(Oe,{modelValue:V.value.lb_strategy,"onUpdate:modelValue":u[26]||(u[26]=e=>V.value.lb_strategy=e),value:"2"},{default:a(()=>[o("\u6743\u91CD")]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["label"]),t(E,{field:"model_agents",label:l.$t("model.label.model_agents"),rules:[{required:!0,message:l.$t("model.error.model_agents.required")}]},{default:a(()=>[t(S,{modelValue:V.value.model_agents,"onUpdate:modelValue":u[27]||(u[27]=e=>V.value.model_agents=e),placeholder:l.$t("model.placeholder.model_agents"),"max-tag-count":15,scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:a(()=>[(s(!0),g(z,null,I(ae.value,e=>(s(),p(H,{key:e.id,value:e.id,label:e.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])]),_:1},8,["model"])]),_:1},8,["visible","title"]),t(U,{visible:G.value,"onUpdate:visible":u[30]||(u[30]=e=>G.value=e),title:l.$t("model.form.title.forward"),onCancel:sl,onBeforeOk:il},{default:a(()=>[t(J,{ref_key:"forwardForm",ref:Be,model:X.value},{default:a(()=>[t(E,{field:"target_model",label:l.$t("model.label.target_model"),rules:[{required:!0,message:l.$t("model.error.target_model.required")}]},{default:a(()=>[t(S,{modelValue:X.value.target_model,"onUpdate:modelValue":u[29]||(u[29]=e=>X.value.target_model=e),placeholder:l.$t("model.placeholder.target_model"),scrollbar:!1,"allow-search":""},{default:a(()=>[(s(!0),g(z,null,I(le.value,e=>(s(),p(H,{key:e.id,value:e.id,label:e.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])]),_:1},8,["model"])]),_:1},8,["visible","title"]),t(U,{visible:j.value,"onUpdate:visible":u[33]||(u[33]=e=>j.value=e),title:l.$t("model.form.title.fallback"),onCancel:rl,onBeforeOk:dl},{default:a(()=>[t(J,{ref_key:"fallbackForm",ref:qe,model:B.value},{default:a(()=>[t(E,{field:"model_agent",label:l.$t("model.label.fallback_model_agent"),rules:[{required:!B.value.model_agent&&!B.value.model||!B.value.model,message:l.$t("model.error.fallback.required")}]},{default:a(()=>[t(S,{modelValue:B.value.model_agent,"onUpdate:modelValue":u[31]||(u[31]=e=>B.value.model_agent=e),placeholder:l.$t("model.placeholder.fallback_model_agent"),scrollbar:!1,"allow-search":"","allow-clear":""},{default:a(()=>[(s(!0),g(z,null,I(ae.value,e=>(s(),p(H,{key:e.id,value:e.id,label:e.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(E,{field:"model",label:l.$t("model.label.fallback_model"),rules:[{required:!B.value.model_agent&&!B.value.model||!B.value.model_agent,message:l.$t("model.error.fallback.required")}]},{default:a(()=>[t(S,{modelValue:B.value.model,"onUpdate:modelValue":u[32]||(u[32]=e=>B.value.model=e),placeholder:l.$t("model.placeholder.fallback_model"),scrollbar:!1,"allow-search":"","allow-clear":""},{default:a(()=>[(s(!0),g(z,null,I(le.value,e=>(s(),p(H,{key:e.id,value:e.id,label:e.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])]),_:1},8,["model"])]),_:1},8,["visible","title"]),t(U,{visible:oe.value,"onUpdate:visible":u[34]||(u[34]=e=>oe.value=e),title:l.$t("model.columns.text_price"),width:"600px","hide-cancel":"",simple:""},{default:a(()=>[t(q,{data:De.value,pagination:!1,bordered:!1},{columns:a(()=>[t(r,{title:"\u63D0\u95EE\u4EF7\u683C","data-index":"prompt_ratio",align:"center"},{cell:a(({record:e})=>[o(n(`$${d(_)(e.prompt_ratio)}/k`),1)]),_:1}),t(r,{title:"\u56DE\u7B54\u4EF7\u683C","data-index":"completion_ratio",align:"center"},{cell:a(({record:e})=>[o(n(`$${d(_)(e.completion_ratio)}/k`),1)]),_:1}),t(r,{title:"\u7F13\u5B58\u4EF7\u683C","data-index":"cached_ratio",align:"center"},{cell:a(({record:e})=>[o(n(`$${d(_)(e.cached_ratio)}/k`),1)]),_:1})]),_:1},8,["data"])]),_:1},8,["visible","title"]),t(U,{visible:ne.value,"onUpdate:visible":u[35]||(u[35]=e=>ne.value=e),title:l.$t("model.columns.image_price"),width:"600px","hide-cancel":"",simple:""},{default:a(()=>[t(q,{data:Ve.value,pagination:!1,bordered:!1,scroll:{maxHeight:"380px"},scrollbar:!1},{columns:a(()=>[t(r,{title:"\u8D28\u91CF","data-index":"quality",align:"center"}),t(r,{title:"\u5BBD\u5EA6","data-index":"width",align:"center"}),t(r,{title:"\u9AD8\u5EA6","data-index":"height",align:"center"}),t(r,{title:"\u4EF7\u683C","data-index":"fixed_quota",align:"center"},{cell:a(({record:e})=>[o(n(`$${d(Q)(e.fixed_quota)}/\u5F20`),1)]),_:1}),t(r,{title:"\u9ED8\u8BA4","data-index":"is_default",align:"center"},{cell:a(({record:e})=>[o(n(e.is_default?"\u662F":"-"),1)]),_:1})]),_:1},8,["data"]),t(q,{data:xe.value,pagination:!1,bordered:!1,style:{"margin-top":"15px"}},{columns:a(()=>[t(r,{title:"\u6587\u672C\u4EF7\u683C","data-index":"text_ratio",align:"center"},{cell:a(({record:e})=>[o(n(`$${d(_)(e.text_ratio)}/k`),1)]),_:1}),t(r,{title:"\u56FE\u50CF\u8F93\u5165\u4EF7\u683C","data-index":"input_ratio",align:"center"},{cell:a(({record:e})=>[o(n(`$${d(_)(e.input_ratio)}/k`),1)]),_:1}),t(r,{title:"\u56FE\u50CF\u8F93\u51FA\u4EF7\u683C","data-index":"output_ratio",align:"center"},{cell:a(({record:e})=>[o(n(`$${d(_)(e.output_ratio)}/k`),1)]),_:1}),t(r,{title:"\u56FE\u50CF\u7F13\u5B58\u4EF7\u683C","data-index":"cached_ratio",align:"center"},{cell:a(({record:e})=>[o(n(`$${d(_)(e.cached_ratio)}/k`),1)]),_:1})]),_:1},8,["data"])]),_:1},8,["visible","title"]),t(U,{visible:ie.value,"onUpdate:visible":u[36]||(u[36]=e=>ie.value=e),title:l.$t("model.columns.multimodal_price"),width:"550px","hide-cancel":"",simple:""},{default:a(()=>[t(q,{data:Ue.value,pagination:!1,bordered:!1},{columns:a(()=>[t(r,{title:"\u6587\u672C\u63D0\u95EE\u4EF7\u683C","data-index":"prompt_ratio",align:"center"},{cell:a(({record:e})=>[o(n(`$${d(_)(e.prompt_ratio)}/k`),1)]),_:1}),t(r,{title:"\u6587\u672C\u56DE\u7B54\u4EF7\u683C","data-index":"completion_ratio",align:"center"},{cell:a(({record:e})=>[o(n(`$${d(_)(e.completion_ratio)}/k`),1)]),_:1}),t(r,{title:"\u6587\u672C\u7F13\u5B58\u4EF7\u683C","data-index":"cached_ratio",align:"center"},{cell:a(({record:e})=>[o(n(`$${d(_)(e.cached_ratio)}/k`),1)]),_:1})]),_:1},8,["data"]),t(q,{data:Se.value,pagination:!1,bordered:!1,style:{"margin-top":"15px"}},{columns:a(()=>[t(r,{title:"\u8BC6\u56FE\u6A21\u5F0F","data-index":"mode",align:"center"}),t(r,{title:"\u8BC6\u56FE\u4EF7\u683C","data-index":"fixed_quota",align:"center"},{cell:a(({record:e})=>[o(n(`$${d(Q)(e.fixed_quota)}/\u5F20`),1)]),_:1}),t(r,{title:"\u9ED8\u8BA4","data-index":"is_default",align:"center"},{cell:a(({record:e})=>[o(n(e.is_default?"\u662F":"-"),1)]),_:1})]),_:1},8,["data"]),se.value?(s(),p(q,{key:0,data:ze.value,pagination:!1,bordered:!1,style:{"margin-top":"15px"}},{columns:a(()=>[t(r,{title:"\u641C\u7D22\u4EF7\u683C","data-index":"search_quota",align:"center"},{cell:a(({record:e})=>[o(n(`$${d(Q)(e.search_quota)}/\u6B21`),1)]),_:1})]),_:1},8,["data"])):F("",!0),Ae.value?(s(),p(q,{key:1,data:Ie.value,pagination:!1,bordered:!1,style:{"margin-top":"15px"}},{columns:a(()=>[t(r,{title:"\u641C\u7D22\u4E0A\u4E0B\u6587\u5927\u5C0F","data-index":"search_context_size",align:"center"}),t(r,{title:"\u641C\u7D22\u4EF7\u683C","data-index":"fixed_quota",align:"center"},{cell:a(({record:e})=>[o(n(`$${d(Q)(e.fixed_quota)}/\u6B21`),1)]),_:1}),t(r,{title:"\u9ED8\u8BA4","data-index":"is_default",align:"center"},{cell:a(({record:e})=>[o(n(e.is_default?"\u662F":"-"),1)]),_:1})]),_:1},8,["data"])):F("",!0)]),_:1},8,["visible","title"]),t(U,{visible:de.value,"onUpdate:visible":u[37]||(u[37]=e=>de.value=e),title:l.$t("model.columns.realtime_price"),width:"550px","hide-cancel":"",simple:""},{default:a(()=>[t(q,{data:re.value,pagination:!1,bordered:!1},{columns:a(()=>[t(r,{title:"\u6587\u672C\u63D0\u95EE\u4EF7\u683C","data-index":"text_quota.prompt_ratio",align:"center"},{cell:a(({record:e})=>[o(n(`$${d(_)(e.text_quota.prompt_ratio)}/k`),1)]),_:1}),t(r,{title:"\u6587\u672C\u56DE\u7B54\u4EF7\u683C","data-index":"text_quota.completion_ratio",align:"center"},{cell:a(({record:e})=>[o(n(`$${d(_)(e.text_quota.completion_ratio)}/k`),1)]),_:1}),t(r,{title:"\u6587\u672C\u7F13\u5B58\u4EF7\u683C","data-index":"text_quota.cached_ratio",align:"center"},{cell:a(({record:e})=>[o(n(`$${d(_)(e.text_quota.cached_ratio)}/k`),1)]),_:1})]),_:1},8,["data"]),t(q,{data:re.value,pagination:!1,bordered:!1,style:{"margin-top":"15px"}},{columns:a(()=>[t(r,{title:"\u97F3\u9891\u63D0\u95EE\u4EF7\u683C","data-index":"audio_quota.prompt_ratio",align:"center"},{cell:a(({record:e})=>[o(n(`$${d(_)(e.audio_quota.prompt_ratio)}/k`),1)]),_:1}),t(r,{title:"\u97F3\u9891\u56DE\u7B54\u4EF7\u683C","data-index":"audio_quota.completion_ratio",align:"center"},{cell:a(({record:e})=>[o(n(`$${d(_)(e.audio_quota.completion_ratio)}/k`),1)]),_:1}),t(r,{title:"\u97F3\u9891\u7F13\u5B58\u4EF7\u683C","data-index":"audio_quota.cached_ratio",align:"center"},{cell:a(({record:e})=>[o(n(`$${d(_)(e.audio_quota.cached_ratio)}/k`),1)]),_:1})]),_:1},8,["data"])]),_:1},8,["visible","title"]),t(U,{visible:me.value,"onUpdate:visible":u[38]||(u[38]=e=>me.value=e),title:l.$t("model.columns.multimodal_audio_price"),width:"550px","hide-cancel":"",simple:""},{default:a(()=>[t(q,{data:ce.value,pagination:!1,bordered:!1},{columns:a(()=>[t(r,{title:"\u6587\u672C\u63D0\u95EE\u4EF7\u683C","data-index":"text_quota.prompt_ratio",align:"center"},{cell:a(({record:e})=>[o(n(`$${d(_)(e.text_quota.prompt_ratio)}/k`),1)]),_:1}),t(r,{title:"\u6587\u672C\u56DE\u7B54\u4EF7\u683C","data-index":"text_quota.completion_ratio",align:"center"},{cell:a(({record:e})=>[o(n(`$${d(_)(e.text_quota.completion_ratio)}/k`),1)]),_:1}),t(r,{title:"\u6587\u672C\u7F13\u5B58\u4EF7\u683C","data-index":"text_quota.cached_ratio",align:"center"},{cell:a(({record:e})=>[o(n(`$${d(_)(e.text_quota.cached_ratio)}/k`),1)]),_:1})]),_:1},8,["data"]),t(q,{data:ce.value,pagination:!1,bordered:!1,style:{"margin-top":"15px"}},{columns:a(()=>[t(r,{title:"\u97F3\u9891\u63D0\u95EE\u4EF7\u683C","data-index":"audio_quota.prompt_ratio",align:"center"},{cell:a(({record:e})=>[o(n(`$${d(_)(e.audio_quota.prompt_ratio)}/k`),1)]),_:1}),t(r,{title:"\u97F3\u9891\u56DE\u7B54\u4EF7\u683C","data-index":"audio_quota.completion_ratio",align:"center"},{cell:a(({record:e})=>[o(n(`$${d(_)(e.audio_quota.completion_ratio)}/k`),1)]),_:1}),t(r,{title:"\u97F3\u9891\u7F13\u5B58\u4EF7\u683C","data-index":"audio_quota.cached_ratio",align:"center"},{cell:a(({record:e})=>[o(n(`$${d(_)(e.audio_quota.cached_ratio)}/k`),1)]),_:1})]),_:1},8,["data"])]),_:1},8,["visible","title"])]),_:1})])}}});const Ft=Il(Ha,[["__scopeId","data-v-c8e8bf7e"]]);export{Ft as default};
