import{i as j,_ as G}from"./index.396c28af.js";/* empty css                *//* empty css                *//* empty css              *//* empty css                *//* empty css               *//* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css                *//* empty css               */import{d as J,e as p,B as b,C as V,aH as a,aG as r,aL as s,aM as u,F as B,aJ as L,aI as D,aD as C,u as d,bT as i,aK as K,aF as M,b1 as P,b2 as Q,bA as W,bB as X,bQ as Y,bi as Z,b4 as x,aS as ee,bW as le,bO as ae,aU as te,b5 as oe,bI as re,bR as se,g as ue}from"./arco.75032696.js";import{f as de}from"./vue.ebfaaf45.js";import{u as ne}from"./loading.96e1cbd7.js";import{b as ie}from"./notice.f07976fc.js";import{q as me}from"./admin_user.bd9f7f2a.js";import{i as pe}from"./admin_reseller.fd79b084.js";import{A as ce}from"./aieditor.b45d2ecf.js";import"./chart.f8f3ffb1.js";const be={class:"container"},fe={class:"wrapper"},ve={class:"submit-btn"},_e={name:"NoticeCreate"},ye=J({..._e,setup(Ve){const{proxy:I}=ue(),{loading:F,setLoading:m}=ne(!1),H=de(),$=p(),t=p({title:"",content:"",category:p(),scope:"1",users:[],resellers:[],methods:["1","2"],priority:p(),expires_at:"",scheduled_time:"",remark:"",status:1}),g=p([]);(async()=>{m(!0);try{const{data:e}=await me();g.value=e.items}catch{}finally{m(!1)}})();const h=p([]);(async()=>{m(!0);try{const{data:e}=await pe();h.value=e.items}catch{}finally{m(!1)}})();const N=async()=>{var o;if(!await((o=$.value)==null?void 0:o.validate())){m(!0);try{await ie(t.value).then(()=>{I.$message.success("\u65B0\u5EFA\u6210\u529F"),H.push({name:"NoticeList"})})}catch{}finally{m(!1)}}};return(e,o)=>{const w=j,v=K,R=M,S=P,n=Q,c=W,_=X,f=Y,y=Z,k=x,A=ee,U=le,E=ae,q=te,T=oe,z=re,O=se;return b(),V("div",be,[a(R,{class:"container-breadcrumb"},{default:r(()=>[a(v,null,{default:r(()=>[a(w)]),_:1}),a(v,null,{default:r(()=>[s(u(e.$t("menu.sys")),1)]),_:1}),a(v,null,{default:r(()=>[s(u(e.$t("menu.notice.create")),1)]),_:1})]),_:1}),a(O,{loading:d(F),style:{width:"100%"}},{default:r(()=>[a(z,{class:"general-card","body-style":{padding:"0 20px 20px 20px"},bordered:!1},{default:r(()=>[B("div",fe,[a(T,{ref_key:"formRef",ref:$,model:t.value,class:"form","label-col-props":{span:3},"wrapper-col-props":{span:18}},{default:r(()=>[a(n,{field:"title",label:e.$t("notice.label.title"),rules:[{required:!0,message:e.$t("notice.error.title.required")}]},{default:r(()=>[a(S,{modelValue:t.value.title,"onUpdate:modelValue":o[0]||(o[0]=l=>t.value.title=l),placeholder:e.$t("notice.placeholder.title"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(n,{field:"category",label:e.$t("notice.label.category"),rules:[{required:!0,message:e.$t("notice.error.category.required")}]},{default:r(()=>[a(_,{modelValue:t.value.category,"onUpdate:modelValue":o[1]||(o[1]=l=>t.value.category=l),placeholder:e.$t("notice.placeholder.category"),scrollbar:!1,"allow-search":""},{default:r(()=>[a(c,{value:"1"},{default:r(()=>[s(u(e.$t("notice.dict.category.1")),1)]),_:1}),a(c,{value:"2"},{default:r(()=>[s(u(e.$t("notice.dict.category.2")),1)]),_:1}),a(c,{value:"3"},{default:r(()=>[s(u(e.$t("notice.dict.category.3")),1)]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(n,{field:"scope",label:e.$t("notice.label.scope"),rules:[{required:!0,message:e.$t("notice.error.scope.required")}]},{default:r(()=>[a(y,{size:"large"},{default:r(()=>[a(f,{modelValue:t.value.scope,"onUpdate:modelValue":o[2]||(o[2]=l=>t.value.scope=l),value:"1","default-checked":!0},{default:r(()=>[s(u(e.$t("notice.dict.scope.1")),1)]),_:1},8,["modelValue"]),a(f,{modelValue:t.value.scope,"onUpdate:modelValue":o[3]||(o[3]=l=>t.value.scope=l),value:"2"},{default:r(()=>[s(u(e.$t("notice.dict.scope.2")),1)]),_:1},8,["modelValue"]),a(f,{modelValue:t.value.scope,"onUpdate:modelValue":o[4]||(o[4]=l=>t.value.scope=l),value:"3"},{default:r(()=>[s(u(e.$t("notice.dict.scope.3")),1)]),_:1},8,["modelValue"]),a(f,{modelValue:t.value.scope,"onUpdate:modelValue":o[5]||(o[5]=l=>t.value.scope=l),value:"4"},{default:r(()=>[s(u(e.$t("notice.dict.scope.4")),1)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["label","rules"]),a(n,{field:"users",label:e.$t("notice.label.users"),rules:[{required:!0,message:e.$t("notice.error.users.required")}]},{default:r(()=>[a(_,{modelValue:t.value.users,"onUpdate:modelValue":o[6]||(o[6]=l=>t.value.users=l),placeholder:e.$t("notice.placeholder.users"),scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:r(()=>[(b(!0),V(L,null,D(g.value,l=>(b(),C(c,{key:l.user_id,value:l.user_id,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(n,{field:"resellers",label:e.$t("notice.label.resellers"),rules:[{required:!0,message:e.$t("notice.error.resellers.required")}]},{default:r(()=>[a(_,{modelValue:t.value.resellers,"onUpdate:modelValue":o[7]||(o[7]=l=>t.value.resellers=l),placeholder:e.$t("notice.placeholder.resellers"),scrollbar:!1,multiple:"","allow-search":"","allow-clear":""},{default:r(()=>[(b(!0),V(L,null,D(h.value,l=>(b(),C(c,{key:l.user_id,value:l.user_id,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(n,{field:"methods",label:e.$t("notice.label.methods"),rules:[{required:!0,message:e.$t("notice.error.methods.required")}]},{default:r(()=>[a(y,{size:"large"},{default:r(()=>[a(k,{modelValue:t.value.methods,"onUpdate:modelValue":o[8]||(o[8]=l=>t.value.methods=l),value:"1","default-checked":!0},{default:r(()=>[s(u(e.$t("notice.dict.methods.1")),1)]),_:1},8,["modelValue"]),a(k,{modelValue:t.value.methods,"onUpdate:modelValue":o[9]||(o[9]=l=>t.value.methods=l),value:"2"},{default:r(()=>[s(u(e.$t("notice.dict.methods.2")),1)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["label","rules"]),a(n,{field:"priority",label:e.$t("notice.label.priority")},{default:r(()=>[a(A,{modelValue:t.value.priority,"onUpdate:modelValue":o[10]||(o[10]=l=>t.value.priority=l),placeholder:e.$t("notice.placeholder.priority"),precision:0,min:-999,max:99999},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(n,{field:"expires_at",label:e.$t("notice.label.expires_at")},{default:r(()=>[a(U,{modelValue:t.value.expires_at,"onUpdate:modelValue":o[11]||(o[11]=l=>t.value.expires_at=l),placeholder:e.$t("notice.placeholder.expires_at"),"time-picker-props":{defaultValue:"23:59:59"},"disabled-date":l=>d(i)(l).isBefore(d(i)().subtract(1,"day")),style:{width:"100%"},"show-time":"",shortcuts:[{label:"1",value:()=>d(i)(t.value.expires_at||new Date().setHours(23,59,59,999)).add(1,"day")},{label:"7",value:()=>d(i)(t.value.expires_at||new Date().setHours(23,59,59,999)).add(7,"day")},{label:"15",value:()=>d(i)(t.value.expires_at||new Date().setHours(23,59,59,999)).add(15,"day")},{label:"30",value:()=>d(i)(t.value.expires_at||new Date().setHours(23,59,59,999)).add(30,"day")},{label:"90",value:()=>d(i)(t.value.expires_at||new Date().setHours(23,59,59,999)).add(90,"day")},{label:"180",value:()=>d(i)(t.value.expires_at||new Date().setHours(23,59,59,999)).add(180,"day")},{label:"365",value:()=>d(i)(t.value.expires_at||new Date().setHours(23,59,59,999)).add(365,"day")}]},null,8,["modelValue","placeholder","disabled-date","shortcuts"])]),_:1},8,["label"]),a(n,{field:"scheduled_time",label:e.$t("notice.label.scheduled_time")},{default:r(()=>[a(U,{modelValue:t.value.scheduled_time,"onUpdate:modelValue":o[12]||(o[12]=l=>t.value.scheduled_time=l),placeholder:e.$t("notice.placeholder.scheduled_time"),"disabled-date":l=>d(i)(l).isBefore(d(i)().subtract(1,"day")),style:{width:"100%"},"show-time":""},null,8,["modelValue","placeholder","disabled-date"])]),_:1},8,["label"]),a(n,{field:"content",label:e.$t("notice.label.content"),rules:[{required:!0,message:e.$t("notice.error.content.required")}]},{default:r(()=>[a(ce,{modelValue:t.value.content,"onUpdate:modelValue":o[13]||(o[13]=l=>t.value.content=l),style:{flex:"1",height:"500px"}},null,8,["modelValue"])]),_:1},8,["label","rules"]),a(n,{field:"remark",label:e.$t("notice.label.remark")},{default:r(()=>[a(E,{modelValue:t.value.remark,"onUpdate:modelValue":o[14]||(o[14]=l=>t.value.remark=l),placeholder:e.$t("notice.placeholder.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(y,null,{default:r(()=>[B("div",ve,[a(q,{type:"secondary",onClick:o[15]||(o[15]=l=>e.$router.push({name:"NoticeList"}))},{default:r(()=>[s(u(e.$t("button.cancel")),1)]),_:1}),a(q,{type:"primary",onClick:N},{default:r(()=>[s(u(e.$t("button.submit")),1)]),_:1})])]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["loading"])])}}});const Je=G(ye,[["__scopeId","data-v-b64d778f"]]);export{Je as default};
