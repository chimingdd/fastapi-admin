import{c as E,u as X,_ as T,i as Y}from"./index.8c6e134e.js";/* empty css                *//* empty css                *//* empty css               *//* empty css               */import{d as N,e as b,B as n,C as U,aH as l,aG as t,aJ as Z,aI as ee,aD as u,F as le,aE as i,aL as h,aM as F,aT as ae,bN as te,c3 as oe,aU as se,bJ as ne,bK as ue,bI as L,bC as G,bD as H,b1 as re,b2 as ie,aS as ce,b5 as de,a_ as pe,g as me,aK as fe,aF as _e,bb as ye,b6 as ge}from"./arco.a9260898.js";/* empty css               *//* empty css                *//* empty css                */import{u as be}from"./loading.1f346a94.js";import"./chart.d103b168.js";import"./vue.143177a1.js";function ve(){return E.get("/api/v1/sys/config/detail")}function he(_){return E.post("/api/v1/sys/config/update",_)}function Fe(_){return E.post("/api/v1/sys/config/change/status",_)}function $e(_){return E.post("/api/v1/sys/config/reset",_)}const ke={class:"list-wrap",style:{"margin-top":"10px"}},Ce={class:"card-wrap"},Ve={name:"Global"},we=N({...Ve,setup(_){const{proxy:c}=me(),{setLoading:y}=be(!0),{t:r}=X(),p=b(!1),g=b(""),m=b(),a=b({email:{},http:{},core:{}}),$=async e=>{switch(e.action){case"email":g.value=r("sys.config.item.title.email");break;case"http":g.value=r("sys.config.item.title.http");break;case"core":g.value=r("sys.config.item.title.core");break;default:g.value=r("menu.sys.config")}a.value.action=e.action,p.value=!0},k=async e=>{let s;switch(e.action){case"email":s=`\u662F\u5426\u786E\u5B9A\u91CD\u7F6E${r("sys.config.item.title.email")}?`;break;case"http":s=`\u662F\u5426\u786E\u5B9A\u91CD\u7F6E${r("sys.config.item.title.http")}?`;break;case"core":s=`\u662F\u5426\u786E\u5B9A\u91CD\u7F6E${r("sys.config.item.title.core")}?`;break;default:s="\u662F\u5426\u786E\u5B9A\u91CD\u7F6E\u6B64\u914D\u7F6E?"}c.$modal.warning({title:"\u8B66\u544A",titleAlign:"center",content:s,hideCancel:!1,onOk:()=>{O(e)}})},B=async e=>{var V;if(await((V=m.value)==null?void 0:V.validate())){p.value=!0,e(!1);return}y(!0);try{await he(a.value),e(),c.$message.success("\u64CD\u4F5C\u6210\u529F"),C()}catch{e(!1)}finally{y(!1)}},M=()=>{p.value=!1},O=async e=>{y(!0);try{await $e({action:e.action}),c.$message.success("\u64CD\u4F5C\u6210\u529F"),C()}finally{y(!1)}},R=async e=>{y(!0);try{await Fe({action:e.action,open:e.open||!1}),c.$message.success("\u64CD\u4F5C\u6210\u529F"),C()}finally{y(!1)}},D=b({}),q=b({}),C=async()=>{const{data:e}=await ve();D.value=e,a.value.email=e.email,a.value.http=e.http,a.value.core=e.core,q.value=[{action:"email",title:r("sys.config.item.title.email"),description:"\u914D\u7F6E\u90AE\u7BB1\u76F8\u5173\u4FE1\u606F",open:D.value.email.open,config:!0,reset:!0},{action:"http",title:r("sys.config.item.title.http"),description:"\u914D\u7F6EHTTP\u8BF7\u6C42\u8D85\u65F6\u65F6\u95F4\u548C\u4EE3\u7406\u5730\u5740",config:!0,reset:!0},{action:"core",title:r("sys.config.item.title.core"),description:"\u7CFB\u7EDF\u6838\u5FC3\u914D\u7F6E, \u8BF7\u8C28\u614E\u4FEE\u6539",config:!0,reset:!0},{action:"debug",title:r("sys.config.item.title.debug"),description:"\u7CFB\u7EDF\u8C03\u8BD5\u5F00\u5173, \u6253\u5F00\u540E, \u65E5\u5FD7\u4F1A\u6253\u5370\u66F4\u591A\u8BE6\u7EC6\u4FE1\u606F, \u65E5\u5FD7\u7EA7\u522B\u9700\u662F: DEBUG",open:D.value.debug.open}]};return C(),(e,s)=>{const V=ae,S=te,J=oe,x=se,A=ne,K=ue,P=L,j=G,z=H,f=re,d=ie,I=ce,Q=de,W=pe;return n(),U("div",ke,[l(z,{class:"list-row",gutter:24},{default:t(()=>[(n(!0),U(Z,null,ee(q.value,o=>(n(),u(j,{key:o.action,xs:12,sm:12,md:12,lg:6,xl:6,xxl:6,class:"list-col"},{default:t(()=>[le("div",Ce,[l(P,{title:o.title,bordered:!1,"header-style":{padding:"16px"},"body-style":{padding:"0px 16px"}},{extra:t(()=>[o.open!==void 0?(n(),u(V,{key:0,modelValue:o.open,"onUpdate:modelValue":w=>o.open=w,onChange:w=>R(o)},null,8,["modelValue","onUpdate:modelValue","onChange"])):i("",!0)]),actions:t(()=>[o.reset?(n(),u(x,{key:0,onClick:w=>k(o)},{default:t(()=>[h(F(e.$t("button.reset")),1)]),_:2},1032,["onClick"])):i("",!0),o.config?(n(),u(x,{key:1,type:"primary",onClick:w=>$(o)},{default:t(()=>[h(F(e.$t("button.config")),1)]),_:2},1032,["onClick"])):i("",!0)]),skeleton:t(()=>[l(K,{animation:!0},{default:t(()=>[l(A,{widths:["50%","50%","100%","40%"],rows:4}),l(A,{widths:["40%"],rows:1})]),_:1})]),default:t(()=>[l(J,null,{description:t(()=>[h(F(o.description)+" ",1),l(S,{style:{"margin-top":"10px"},data:o.data,layout:"inline-horizontal",column:2},null,8,["data"])]),_:2},1024)]),_:2},1032,["title"])])]),_:2},1024))),128))]),_:1}),l(W,{visible:p.value,"onUpdate:visible":s[10]||(s[10]=o=>p.value=o),title:e.$t(g.value),onCancel:M,onBeforeOk:B},{default:t(()=>[l(Q,{ref_key:"configForm",ref:m,model:a.value},{default:t(()=>[a.value.action==="email"?(n(),u(d,{key:0,field:"email.host",label:e.$t("sys.config.label.email.host"),rules:[{required:!0,message:e.$t("sys.config.error.email.host.required")}]},{default:t(()=>[l(f,{modelValue:a.value.email.host,"onUpdate:modelValue":s[0]||(s[0]=o=>a.value.email.host=o),placeholder:e.$t("sys.config.placeholder.email.host"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):i("",!0),a.value.action==="email"?(n(),u(d,{key:1,field:"email.port",label:e.$t("sys.config.label.email.port"),rules:[{required:!0,message:e.$t("sys.config.error.email.port.required")}]},{default:t(()=>[l(I,{modelValue:a.value.email.port,"onUpdate:modelValue":s[1]||(s[1]=o=>a.value.email.port=o),placeholder:e.$t("sys.config.placeholder.email.port"),min:1,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):i("",!0),a.value.action==="email"?(n(),u(d,{key:2,field:"email.user_name",label:e.$t("sys.config.label.email.user_name"),rules:[{required:!0,message:e.$t("sys.config.error.email.user_name.required")}]},{default:t(()=>[l(f,{modelValue:a.value.email.user_name,"onUpdate:modelValue":s[2]||(s[2]=o=>a.value.email.user_name=o),placeholder:e.$t("sys.config.placeholder.email.user_name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):i("",!0),a.value.action==="email"?(n(),u(d,{key:3,field:"email.password",label:e.$t("sys.config.label.email.password"),rules:[{required:!0,message:e.$t("sys.config.error.email.password.required")}]},{default:t(()=>[l(f,{modelValue:a.value.email.password,"onUpdate:modelValue":s[3]||(s[3]=o=>a.value.email.password=o),placeholder:e.$t("sys.config.placeholder.email.password"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):i("",!0),a.value.action==="email"?(n(),u(d,{key:4,field:"email.from_name",label:e.$t("sys.config.label.email.from_name"),rules:[{required:!0,message:e.$t("sys.config.error.email.from_name.required")}]},{default:t(()=>[l(f,{modelValue:a.value.email.from_name,"onUpdate:modelValue":s[4]||(s[4]=o=>a.value.email.from_name=o),placeholder:e.$t("sys.config.placeholder.email.from_name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):i("",!0),a.value.action==="http"?(n(),u(d,{key:5,field:"http.timeout",label:e.$t("sys.config.label.http.timeout"),rules:[{required:!0,message:e.$t("sys.config.error.http.timeout.required")}]},{default:t(()=>[l(I,{modelValue:a.value.http.timeout,"onUpdate:modelValue":s[5]||(s[5]=o=>a.value.http.timeout=o),placeholder:e.$t("sys.config.placeholder.http.timeout"),min:1,"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])):i("",!0),a.value.action==="http"?(n(),u(d,{key:6,field:"http.proxy_url",label:e.$t("sys.config.label.http.proxy_url")},{default:t(()=>[l(f,{modelValue:a.value.http.proxy_url,"onUpdate:modelValue":s[6]||(s[6]=o=>a.value.http.proxy_url=o),placeholder:e.$t("sys.config.placeholder.http.proxy_url"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):i("",!0),a.value.action==="core"?(n(),u(d,{key:7,field:"core.secret_key_prefix",label:e.$t("sys.config.label.core.secret_key_prefix")},{default:t(()=>[l(f,{modelValue:a.value.core.secret_key_prefix,"onUpdate:modelValue":s[7]||(s[7]=o=>a.value.core.secret_key_prefix=o),placeholder:e.$t("sys.config.placeholder.core.secret_key_prefix"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):i("",!0),a.value.action==="core"?(n(),u(d,{key:8,field:"core.error_prefix",label:e.$t("sys.config.label.core.error_prefix")},{default:t(()=>[l(f,{modelValue:a.value.core.error_prefix,"onUpdate:modelValue":s[8]||(s[8]=o=>a.value.core.error_prefix=o),placeholder:e.$t("sys.config.placeholder.core.error_prefix"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):i("",!0),a.value.action==="core"?(n(),u(d,{key:9,field:"core.channel_prefix",label:e.$t("sys.config.label.core.channel_prefix")},{default:t(()=>[l(f,{modelValue:a.value.core.channel_prefix,"onUpdate:modelValue":s[9]||(s[9]=o=>a.value.core.channel_prefix=o),placeholder:e.$t("sys.config.placeholder.core.channel_prefix"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):i("",!0)]),_:1},8,["model"])]),_:1},8,["visible","title"])])}}});const v=T(we,[["__scopeId","data-v-fc5b2306"]]),Ee={class:"container"},Be={name:"Card"},De=N({...Be,setup(_){return(c,y)=>{const r=Y,p=fe,g=_e,m=ye,a=ge,$=G,k=H,B=L;return n(),U("div",Ee,[l(g,{class:"container-breadcrumb"},{default:t(()=>[l(p,null,{default:t(()=>[l(r)]),_:1}),l(p,null,{default:t(()=>[h(F(c.$t("menu.sys")),1)]),_:1}),l(p,null,{default:t(()=>[h(F(c.$t("menu.sys.config")),1)]),_:1})]),_:1}),l(k,{gutter:20,align:"stretch"},{default:t(()=>[l($,{span:24},{default:t(()=>[l(B,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 14px"}},{default:t(()=>[l(k,{justify:"space-between"},{default:t(()=>[l($,{span:24},{default:t(()=>[l(a,{"default-active-tab":1,type:"rounded"},{default:t(()=>[l(m,{key:"1",title:c.$t("sys.config.tab.title.all")},{default:t(()=>[l(v),l(v)]),_:1},8,["title"]),l(m,{key:"2",title:c.$t("sys.config.tab.title.global")},{default:t(()=>[l(v)]),_:1},8,["title"]),l(m,{key:"3",title:c.$t("sys.config.tab.title.global")},{default:t(()=>[l(v)]),_:1},8,["title"]),l(m,{key:"4",title:c.$t("sys.config.tab.title.global")},{default:t(()=>[l(v)]),_:1},8,["title"]),l(m,{key:"5",title:c.$t("sys.config.tab.title.global")},{default:t(()=>[l(v)]),_:1},8,["title"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}});const Oe=T(De,[["__scopeId","data-v-0d23c00f"]]);export{Oe as default};
