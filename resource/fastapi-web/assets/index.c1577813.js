import{L as R,_ as h}from"./index.7d0ebe14.js";/* empty css               *//* empty css              *//* empty css                *//* empty css               *//* empty css               */import{d as I,e as m,B as D,C as E,aH as l,aG as o,aL as n,aM as u,u as $,F as q,aK as S,aF as A,b1 as z,b2 as G,b4 as H,bi as K,bO as M,aU as O,b5 as j,bN as J,bR as P,g as Q}from"./arco.ba78a5b2.js";import{f as W,h as X}from"./vue.2736b3ca.js";import{u as Y}from"./loading.0618e973.js";import{a as Z,f as x,g as ee}from"./notice_template.e22b0dd0.js";import{q as ae}from"./admin_user.93b3be74.js";import{q as te}from"./admin_reseller.a6eb8d76.js";import{A as le}from"./aieditor.cfcd3a66.js";import"./chart.df189e8a.js";/* empty css                *//* empty css               */const se={class:"container"},oe={class:"wrapper"},ne={class:"submit-btn"},ue={name:"NoticeTemplateUpdate"},re=I({...ue,setup(ie){const{proxy:f}=Q(),{loading:w,setLoading:i}=Y(!1),v=W(),c=X(),_=m(),a=m({id:"",name:"",scenes:[],title:"",content:"",channels:[],is_popup:!1,is_public:!0,remark:"",status:1}),U=m([]);(async()=>{i(!0);try{const{data:t}=await ae();U.value=t.items}catch{}finally{i(!1)}})();const k=m([]);(async()=>{i(!0);try{const{data:t}=await te();k.value=t.items}catch{}finally{i(!1)}})(),(async(t={id:c.query.id})=>{i(!0);try{const{data:e}=await Z(t);a.value.id=e.id,a.value.name=e.name,a.value.scenes=e.scenes,a.value.title=e.title,a.value.content=e.content,a.value.channels=e.channels,a.value.is_popup=e.is_popup,a.value.is_public=e.is_public,a.value.remark=e.remark,a.value.status=e.status}catch{}finally{i(!1)}})();const N=async()=>{var e;if(!await((e=_.value)==null?void 0:e.validate())){i(!0);try{c.query.action?await x(a.value).then(()=>{f.$message.success("\u65B0\u589E\u6210\u529F"),v.push({name:"NoticeTemplateList"})}):await ee(a.value).then(()=>{f.$message.success("\u66F4\u65B0\u6210\u529F"),v.push({name:"NoticeTemplateList"})})}catch{}finally{i(!1)}}};return(t,e)=>{const b=R,p=S,L=A,V=z,d=G,r=H,g=K,T=M,y=O,B=j,C=J,F=P;return D(),E("div",se,[l(L,{class:"container-breadcrumb"},{default:o(()=>[l(p,null,{default:o(()=>[l(b)]),_:1}),l(p,null,{default:o(()=>[n(u(t.$t("menu.notice")),1)]),_:1}),l(p,null,{default:o(()=>[n(u(t.$t($(c).query.action?"menu.notice.template.create":"menu.notice.template.update")),1)]),_:1})]),_:1}),l(F,{loading:$(w),style:{width:"100%"}},{default:o(()=>[l(C,{class:"general-card","body-style":{padding:"0 20px 20px 20px"},bordered:!1},{default:o(()=>[q("div",oe,[l(B,{ref_key:"formRef",ref:_,model:a.value,class:"form","label-col-props":{span:3},"wrapper-col-props":{span:18}},{default:o(()=>[l(d,{field:"name",label:t.$t("notice.template.label.name"),rules:[{required:!0,message:t.$t("notice.template.error.name.required")}]},{default:o(()=>[l(V,{modelValue:a.value.name,"onUpdate:modelValue":e[0]||(e[0]=s=>a.value.name=s),placeholder:t.$t("notice.template.placeholder.name"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),l(d,{field:"scenes",label:t.$t("notice.template.label.scenes"),rules:[{required:!0,message:t.$t("notice.template.error.scenes.required")}]},{default:o(()=>[l(g,{size:"small",wrap:""},{default:o(()=>[l(r,{modelValue:a.value.scenes,"onUpdate:modelValue":e[1]||(e[1]=s=>a.value.scenes=s),value:"code",class:"scenes"},{default:o(()=>[n(u(t.$t("notice.template.dict.scenes.code")),1)]),_:1},8,["modelValue"]),l(r,{modelValue:a.value.scenes,"onUpdate:modelValue":e[2]||(e[2]=s=>a.value.scenes=s),value:"login",class:"scenes"},{default:o(()=>[n(u(t.$t("notice.template.dict.scenes.login")),1)]),_:1},8,["modelValue"]),l(r,{modelValue:a.value.scenes,"onUpdate:modelValue":e[3]||(e[3]=s=>a.value.scenes=s),value:"register",class:"scenes"},{default:o(()=>[n(u(t.$t("notice.template.dict.scenes.register")),1)]),_:1},8,["modelValue"]),l(r,{modelValue:a.value.scenes,"onUpdate:modelValue":e[4]||(e[4]=s=>a.value.scenes=s),value:"forget_password",class:"scenes"},{default:o(()=>[n(u(t.$t("notice.template.dict.scenes.forget_password")),1)]),_:1},8,["modelValue"]),l(r,{modelValue:a.value.scenes,"onUpdate:modelValue":e[5]||(e[5]=s=>a.value.scenes=s),value:"change_password",class:"scenes"},{default:o(()=>[n(u(t.$t("notice.template.dict.scenes.change_password")),1)]),_:1},8,["modelValue"]),l(r,{modelValue:a.value.scenes,"onUpdate:modelValue":e[6]||(e[6]=s=>a.value.scenes=s),value:"change_email",class:"scenes"},{default:o(()=>[n(u(t.$t("notice.template.dict.scenes.change_email")),1)]),_:1},8,["modelValue"]),l(r,{modelValue:a.value.scenes,"onUpdate:modelValue":e[7]||(e[7]=s=>a.value.scenes=s),value:"quota_warning",class:"scenes"},{default:o(()=>[n(u(t.$t("notice.template.dict.scenes.quota_warning")),1)]),_:1},8,["modelValue"]),l(r,{modelValue:a.value.scenes,"onUpdate:modelValue":e[8]||(e[8]=s=>a.value.scenes=s),value:"quota_exhaustion",class:"scenes"},{default:o(()=>[n(u(t.$t("notice.template.dict.scenes.quota_exhaustion")),1)]),_:1},8,["modelValue"]),l(r,{modelValue:a.value.scenes,"onUpdate:modelValue":e[9]||(e[9]=s=>a.value.scenes=s),value:"quota_expire_warning",class:"scenes"},{default:o(()=>[n(u(t.$t("notice.template.dict.scenes.quota_expire_warning")),1)]),_:1},8,["modelValue"]),l(r,{modelValue:a.value.scenes,"onUpdate:modelValue":e[10]||(e[10]=s=>a.value.scenes=s),value:"quota_expire",class:"scenes"},{default:o(()=>[n(u(t.$t("notice.template.dict.scenes.quota_expire")),1)]),_:1},8,["modelValue"]),l(r,{modelValue:a.value.scenes,"onUpdate:modelValue":e[11]||(e[11]=s=>a.value.scenes=s),value:"notice",class:"scenes"},{default:o(()=>[n(u(t.$t("notice.template.dict.scenes.notice")),1)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["label","rules"]),l(d,{field:"title",label:t.$t("notice.template.label.title"),rules:[{required:!0,message:t.$t("notice.template.error.title.required")}]},{default:o(()=>[l(V,{modelValue:a.value.title,"onUpdate:modelValue":e[12]||(e[12]=s=>a.value.title=s),placeholder:t.$t("notice.template.placeholder.title"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),l(d,{field:"content",label:t.$t("notice.template.label.content"),rules:[{required:!0,message:t.$t("notice.template.error.content.required")}]},{default:o(()=>[l(le,{modelValue:a.value.content,"onUpdate:modelValue":e[13]||(e[13]=s=>a.value.content=s),style:{flex:"1",height:"1024px"}},null,8,["modelValue"])]),_:1},8,["label","rules"]),l(d,{field:"remark",label:t.$t("notice.template.label.remark")},{default:o(()=>[l(T,{modelValue:a.value.remark,"onUpdate:modelValue":e[14]||(e[14]=s=>a.value.remark=s),placeholder:t.$t("notice.template.placeholder.remark")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(g,null,{default:o(()=>[q("div",ne,[l(y,{type:"secondary",onClick:e[15]||(e[15]=s=>t.$router.push({name:"NoticeTemplateList"}))},{default:o(()=>[n(u(t.$t("button.cancel")),1)]),_:1}),l(y,{type:"primary",onClick:N},{default:o(()=>[n(u(t.$t("button.submit")),1)]),_:1})])]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["loading"])])}}});const Be=h(re,[["__scopeId","data-v-f9958a7b"]]);export{Be as default};
