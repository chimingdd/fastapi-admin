import{u as gl,H as bl,p as yl,y as kl,i as Cl,z as $l,_ as El}from"./index.3ca20ef0.js";/* empty css                *//* empty css                *//* empty css               *//* empty css              *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css               */import{d as Fl,r as xe,e as i,c as ee,w as hl,B as o,C as c,aH as t,aG as u,aL as n,aM as d,aJ as U,aI as S,aD as f,u as p,aE as F,F as A,D as wl,n as Bl,aK as Dl,aF as Vl,bA as ql,bB as Al,b2 as xl,bC as Il,b1 as zl,bD as Ul,b5 as Sl,bE as Ml,ab as Ll,aU as Ol,bi as Hl,bj as Nl,bl as Ql,bm as Pl,b4 as Tl,bF as Rl,aT as jl,bG as Gl,bH as Jl,aV as Zl,a_ as Kl,bZ as Wl,bI as Xl,g as Yl}from"./arco.86f0f56d.js";import{u as et}from"./loading.0ba7f8b6.js";import{p as V,q as J}from"./common.7a0e8d62.js";import{q as lt,s as tt,a as at,b as ut,c as ot,d as nt}from"./model.a6831e33.js";import{c as me,S as it}from"./sortable.esm.07e6d21c.js";import{f as st}from"./agent.36844cca.js";import{q as dt}from"./corp.8ac454f2.js";import{_ as rt}from"./index.vue_vue_type_script_setup_true_lang.4c2f2aab.js";import"./chart.dbe284dd.js";import"./vue.e2e8d4fd.js";import"./base.87fcf6e2.js";/* empty css                *//* empty css                */const mt={class:"container"},ct={class:"action-icon"},pt={class:"action-icon"},vt={id:"tableSetting"},ft={style:{"margin-right":"4px",cursor:"move"}},_t={class:"title"},gt={key:0},bt={key:1},yt={key:2},kt={key:3},Ct={key:4},$t={key:0},Et={key:1},Ft={key:2},ht={key:3},wt={key:4},Bt={key:5},Dt={name:"ModelList"},Vt=Fl({...Dt,setup(qt){const{loading:Ie,setLoading:y}=et(!0),{proxy:L}=Yl(),ze=xe({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),ce=i([]);(async()=>{y(!0);try{const{data:l}=await dt();ce.value=l.items}catch{}finally{y(!1)}})();const le=i([]);(async()=>{try{const{data:l}=await lt();le.value=l.items}catch{}})();const te=i([]);(async()=>{try{const{data:l}=await st();te.value=l.items}catch{}})();const Ue=async l=>{y(!0);try{await tt(l),L.$message.success("\u5220\u9664\u6210\u529F"),O()}catch{}finally{y(!1)}},pe=()=>({corp:"",name:"",model:"",type:i(),status:i(),remark:""}),{t:v}=gl(),k=i([]),_=i(pe()),x=i([]),Z=i([]),ae=i("medium"),g=i([]),s=i(!0),ve=i();let fe=!1;const M={current:1,pageSize:20,showTotal:!0,showPageSize:!0,pageSizeOptions:[20,50,100,500,1e3]},K=xe({...M}),Se=ee(()=>[{name:v("size.mini"),value:"mini"},{name:v("size.small"),value:"small"},{name:v("size.medium"),value:"medium"},{name:v("size.large"),value:"large"}]),Me=ee(()=>[{title:v("model.columns.corp"),dataIndex:"corp_name",slotName:"corp_name",align:"center",width:110},{title:v("model.columns.name"),dataIndex:"name",slotName:"name",align:"center",ellipsis:!0,tooltip:!0},{title:v("model.columns.model"),dataIndex:"model",slotName:"model",align:"center",ellipsis:!0,tooltip:!0},{title:v("model.columns.prompt_price"),dataIndex:"prompt_ratio",slotName:"prompt_ratio",align:"center"},{title:v("model.columns.completion_price"),dataIndex:"completion_ratio",slotName:"completion_ratio",align:"center"},{title:v("model.columns.status"),dataIndex:"status",slotName:"status",align:"center",width:65},{title:v("model.columns.updated_at"),dataIndex:"updated_at",slotName:"updated_at",align:"center",width:132},{title:v("model.columns.operations"),dataIndex:"operations",slotName:"operations",align:"center",width:170}]),Le=ee(()=>[{label:v("model.dict.type.1"),value:1},{label:v("model.dict.type.2"),value:2},{label:v("model.dict.type.3"),value:3},{label:v("model.dict.type.4"),value:4},{label:v("model.dict.type.100"),value:100}]),Oe=ee(()=>[{label:v("model.dict.status.1"),value:1},{label:v("model.dict.status.2"),value:2}]),W=async(l={...M})=>{y(!0);try{const{data:a}=await at(l);k.value=a.items,K.current=l.current,K.pageSize=l.pageSize,K.total=a.paging.total,fe=a.items.length===0}catch{}finally{y(!1)}},O=()=>{W({...M,..._.value})},He=l=>{W({...M,..._.value,current:l})},Ne=l=>{M.pageSize=l,W({...M,..._.value})};W();const Qe=()=>{_.value=pe()},Pe=async l=>{y(!0);try{await ut(l),L.$message.success("\u64CD\u4F5C\u6210\u529F"),O()}catch{}finally{y(!1)}},Te=(l,a)=>{ae.value=l},Re=(l,a,m)=>{l?x.value.splice(m,0,a):x.value=Z.value.filter(B=>B.dataIndex!==a.dataIndex)},_e=(l,a,m,B=!1)=>{const q=B?me(l):l;return a>-1&&m>-1&&q.splice(a,1,q.splice(m,1,q[a]).pop()),q},je=l=>{l&&Bl(()=>{const a=document.getElementById("tableSetting");new it(a,{onEnd(m){const{oldIndex:B,newIndex:q}=m;_e(x.value,B,q),_e(Z.value,B,q)}})})};hl(()=>Me.value,l=>{x.value=me(l),x.value.forEach((a,m)=>{a.checked=!0}),Z.value=me(x.value)},{deep:!0,immediate:!0});const H=i(!1),ge=i(),w=i({}),be=i(),N=i(!1),X=i({}),Ge=async()=>{y(!0);try{w.value.url="",w.value.key="",w.value.is_config_model_agent=!0,H.value=!0}catch{}finally{y(!1)}},Je=async l=>{var m;if(await((m=ge.value)==null?void 0:m.validate())){H.value=!0,l(!1);return}y(!0);try{await ot(w.value),l(),window.location.reload()}catch{l(!1)}finally{y(!1)}},Ze=()=>{H.value=!1},Ke=async l=>{var m;if(await((m=be.value)==null?void 0:m.validate())){N.value=!0,l(!1);return}l(),b({action:"agent",value:"all",model_agents:X.value.model_agents})},We=()=>{N.value=!1},ye=i(),Q=i(!1),Y=i({}),Xe=async l=>{var m;if(await((m=ye.value)==null?void 0:m.validate())){Q.value=!0,l(!1);return}l(),b({action:"forward",value:"all",target_model:Y.value.target_model})},Ye=()=>{Q.value=!1},ke=i(),P=i(!1),C=i({}),el=async l=>{var m;if(await((m=ke.value)==null?void 0:m.validate())){P.value=!0,l(!1);return}l(),b({action:"fallback",value:"all",fallback_config:{model_agent:C.value.model_agent,model:C.value.model}})},ll=()=>{P.value=!1},tl=l=>{g.value=l,s.value=!l.length},b=l=>{if(g.value.length===0)L.$message.info("\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E");else{let a=`\u662F\u5426\u786E\u5B9A\u64CD\u4F5C\u6240\u9009\u7684${g.value.length}\u6761\u6570\u636E?`;switch(l.action){case"agent":l.value===!0?a=`\u662F\u5426\u786E\u5B9A\u542F\u7528\u6240\u9009${g.value.length}\u6761\u6570\u636E\u7684\u6A21\u578B\u4EE3\u7406?`:l.value===!1?a=`\u662F\u5426\u786E\u5B9A\u5173\u95ED\u6240\u9009${g.value.length}\u6761\u6570\u636E\u7684\u6A21\u578B\u4EE3\u7406?`:l.value==="all"&&(l.model_agents?a=`\u662F\u5426\u786E\u5B9A\u5C06\u6240\u9009${g.value.length}\u6761\u6570\u636E\u7684\u6A21\u578B\u4EE3\u7406\u542F\u7528\u5E76\u4F7F\u7528\u6240\u9009\u7684\u6A21\u578B\u4EE3\u7406?`:N.value=!0);break;case"forward":l.value===!0?a=`\u662F\u5426\u786E\u5B9A\u542F\u7528\u6240\u9009${g.value.length}\u6761\u6570\u636E\u7684\u6A21\u578B\u8F6C\u53D1?`:l.value===!1?a=`\u662F\u5426\u786E\u5B9A\u5173\u95ED\u6240\u9009${g.value.length}\u6761\u6570\u636E\u7684\u6A21\u578B\u8F6C\u53D1?`:l.value==="all"&&(l.target_model?a=`\u662F\u5426\u786E\u5B9A\u5C06\u6240\u9009${g.value.length}\u6761\u6570\u636E\u7684\u6A21\u578B\u8F6C\u53D1\u542F\u7528\u5E76\u5168\u90E8\u8F6C\u53D1\u5230\u6240\u9009\u6A21\u578B?`:Q.value=!0);break;case"fallback":l.value===!0?a=`\u662F\u5426\u786E\u5B9A\u542F\u7528\u6240\u9009${g.value.length}\u6761\u6570\u636E\u7684\u540E\u5907\u6A21\u578B?`:l.value===!1?a=`\u662F\u5426\u786E\u5B9A\u5173\u95ED\u6240\u9009${g.value.length}\u6761\u6570\u636E\u7684\u540E\u5907\u6A21\u578B?`:l.value==="all"&&(l.fallback_config?a=`\u662F\u5426\u786E\u5B9A\u5C06\u6240\u9009${g.value.length}\u6761\u6570\u636E\u7684\u540E\u5907\u914D\u7F6E\u542F\u7528\u5E76\u5168\u90E8\u540E\u5907\u5230\u6240\u9009\u914D\u7F6E?`:P.value=!0);break;case"status":l.value===1?a=`\u662F\u5426\u786E\u5B9A\u542F\u7528\u6240\u9009\u7684${g.value.length}\u6761\u6570\u636E?`:a=`\u662F\u5426\u786E\u5B9A\u7981\u7528\u6240\u9009\u7684${g.value.length}\u6761\u6570\u636E?`;break;case"delete":a=`\u662F\u5426\u786E\u5B9A\u5220\u9664\u6240\u9009\u7684${g.value.length}\u6761\u6570\u636E?`;break}if(l.action==="agent"&&l.value==="all"&&!l.model_agents||l.action==="forward"&&l.value==="all"&&!l.target_model||l.action==="fallback"&&l.value==="all"&&!l.fallback_config)return;L.$modal.warning({title:"\u8B66\u544A",titleAlign:"center",content:a,hideCancel:!1,onOk:()=>{y(!0),l.ids=g.value,nt(l).then(m=>{y(!1),L.$message.success("\u64CD\u4F5C\u6210\u529F"),O(),ve.value.selectAll(!1)})}})}},ue=i(!1),Ce=i([]),al=l=>{Ce.value=l,ue.value=!0},oe=i(!1),$e=i([]),Ee=i([]),Fe=l=>{oe.value=!0,$e.value[0]=l.text_quota,Ee.value=l.image_quotas},ne=i(!1),he=i([]),we=l=>{he.value[0]=l,ne.value=!0},ie=i(!1),Be=i(),ul=l=>{ie.value=!0,Be.value=l},ol=()=>{ie.value=!1};return(l,a)=>{const m=bl,B=Dl,q=Vl,T=ql,I=Al,$=xl,D=Il,R=zl,se=Ul,j=Sl,De=Ml,nl=Ll,r=Ol,Ve=yl,qe=Hl,de=Nl,il=kl,sl=Ql,dl=Pl,rl=Cl,ml=$l,cl=Tl,pl=Rl,Ae=jl,vl=Gl,G=Jl,fl=Zl,z=Kl,E=Wl,_l=Xl;return o(),c("div",mt,[t(q,{class:"container-breadcrumb"},{default:u(()=>[t(B,null,{default:u(()=>[t(m)]),_:1}),t(B,null,{default:u(()=>[n(d(l.$t("menu.model")),1)]),_:1}),t(B,null,{default:u(()=>[n(d(l.$t("menu.model.list")),1)]),_:1})]),_:1}),t(_l,{class:"general-card",bordered:!1,"header-style":{padding:"20px"},"body-style":{padding:"25px 20px 20px 20px"}},{default:u(()=>[t(se,null,{default:u(()=>[t(D,{flex:1},{default:u(()=>[t(j,{model:_.value,"label-col-props":{span:5},"wrapper-col-props":{span:18},"label-align":"left"},{default:u(()=>[t(se,{gutter:16},{default:u(()=>[t(D,{span:8},{default:u(()=>[t($,{field:"corp",label:l.$t("model.form.corp")},{default:u(()=>[t(I,{modelValue:_.value.corp,"onUpdate:modelValue":a[0]||(a[0]=e=>_.value.corp=e),placeholder:l.$t("model.form.selectDefault"),"allow-search":"","allow-clear":""},{default:u(()=>[(o(!0),c(U,null,S(ce.value,e=>(o(),f(T,{key:e.id,value:e.id,label:e.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(D,{span:8},{default:u(()=>[t($,{field:"name",label:l.$t("model.form.name")},{default:u(()=>[t(R,{modelValue:_.value.name,"onUpdate:modelValue":a[1]||(a[1]=e=>_.value.name=e),placeholder:l.$t("model.form.name.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(D,{span:8},{default:u(()=>[t($,{field:"model",label:l.$t("model.form.model")},{default:u(()=>[t(R,{modelValue:_.value.model,"onUpdate:modelValue":a[2]||(a[2]=e=>_.value.model=e),placeholder:l.$t("model.form.model.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(D,{span:8},{default:u(()=>[t($,{field:"type",label:l.$t("model.form.type")},{default:u(()=>[t(I,{modelValue:_.value.type,"onUpdate:modelValue":a[3]||(a[3]=e=>_.value.type=e),options:p(Le),placeholder:l.$t("model.form.selectDefault"),"allow-search":"","allow-clear":""},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),_:1}),t(D,{span:8},{default:u(()=>[t($,{field:"status",label:l.$t("model.form.status")},{default:u(()=>[t(I,{modelValue:_.value.status,"onUpdate:modelValue":a[4]||(a[4]=e=>_.value.status=e),options:p(Oe),placeholder:l.$t("model.form.selectDefault"),"allow-clear":""},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),_:1}),t(D,{span:8},{default:u(()=>[t($,{field:"remark",label:l.$t("model.form.remark")},{default:u(()=>[t(R,{modelValue:_.value.remark,"onUpdate:modelValue":a[5]||(a[5]=e=>_.value.remark=e),placeholder:l.$t("model.form.remark.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),t(De,{style:{height:"84px"},direction:"vertical"}),t(D,{flex:"86px",style:{"text-align":"right"}},{default:u(()=>[t(qe,{direction:"vertical",size:18},{default:u(()=>[t(r,{type:"primary",onClick:O},{icon:u(()=>[t(nl)]),default:u(()=>[n(" "+d(l.$t("model.form.search")),1)]),_:1}),t(r,{onClick:Qe},{icon:u(()=>[t(Ve)]),default:u(()=>[n(" "+d(l.$t("model.form.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(De,{style:{"margin-top":"0","margin-bottom":"16px"}}),t(se,{style:{"margin-bottom":"16px"}},{default:u(()=>[t(D,{span:12},{default:u(()=>[t(qe,null,{default:u(()=>[t(r,{type:"primary",onClick:a[6]||(a[6]=e=>l.$router.push({name:"ModelCreate"}))},{default:u(()=>[n(d(l.$t("model.operation.create")),1)]),_:1}),p(fe)?(o(),f(r,{key:0,type:"primary",status:"success",onClick:a[7]||(a[7]=e=>Ge())},{default:u(()=>[n(" \u521D\u59CB\u5316 ")]),_:1})):F("",!0),k.value.length!==0?(o(),f(r,{key:1,type:"primary",status:"warning",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:a[8]||(a[8]=e=>b({action:"agent",value:"all"}))},{default:u(()=>[n(" \u5168\u90E8\u4EE3\u7406 ")]),_:1},8,["disabled","title"])):F("",!0),k.value.length!==0?(o(),f(r,{key:2,type:"primary",status:"success",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:a[9]||(a[9]=e=>b({action:"agent",value:!0}))},{default:u(()=>[n(" \u542F\u7528\u4EE3\u7406 ")]),_:1},8,["disabled","title"])):F("",!0),k.value.length!==0?(o(),f(r,{key:3,type:"primary",status:"danger",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:a[10]||(a[10]=e=>b({action:"agent",value:!1}))},{default:u(()=>[n(" \u5173\u95ED\u4EE3\u7406 ")]),_:1},8,["disabled","title"])):F("",!0),k.value.length!==0?(o(),f(r,{key:4,type:"primary",status:"warning",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:a[11]||(a[11]=e=>b({action:"forward",value:"all"}))},{default:u(()=>[n(" \u5168\u90E8\u8F6C\u53D1 ")]),_:1},8,["disabled","title"])):F("",!0),k.value.length!==0?(o(),f(r,{key:5,type:"primary",status:"success",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:a[12]||(a[12]=e=>b({action:"forward",value:!0}))},{default:u(()=>[n(" \u542F\u7528\u8F6C\u53D1 ")]),_:1},8,["disabled","title"])):F("",!0),k.value.length!==0?(o(),f(r,{key:6,type:"primary",status:"danger",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:a[13]||(a[13]=e=>b({action:"forward",value:!1}))},{default:u(()=>[n(" \u5173\u95ED\u8F6C\u53D1 ")]),_:1},8,["disabled","title"])):F("",!0),k.value.length!==0?(o(),f(r,{key:7,type:"primary",status:"warning",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:a[14]||(a[14]=e=>b({action:"fallback",value:"all"}))},{default:u(()=>[n(" \u5168\u90E8\u540E\u5907 ")]),_:1},8,["disabled","title"])):F("",!0),k.value.length!==0?(o(),f(r,{key:8,type:"primary",status:"success",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:a[15]||(a[15]=e=>b({action:"fallback",value:!0}))},{default:u(()=>[n(" \u542F\u7528\u540E\u5907 ")]),_:1},8,["disabled","title"])):F("",!0),k.value.length!==0?(o(),f(r,{key:9,type:"primary",status:"danger",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:a[16]||(a[16]=e=>b({action:"fallback",value:!1}))},{default:u(()=>[n(" \u5173\u95ED\u540E\u5907 ")]),_:1},8,["disabled","title"])):F("",!0),k.value.length!==0?(o(),f(r,{key:10,type:"primary",status:"success",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:a[17]||(a[17]=e=>b({action:"status",value:1}))},{default:u(()=>[n(" \u542F\u7528 ")]),_:1},8,["disabled","title"])):F("",!0),k.value.length!==0?(o(),f(r,{key:11,type:"primary",status:"danger",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:a[18]||(a[18]=e=>b({action:"status",value:2}))},{default:u(()=>[n(" \u7981\u7528 ")]),_:1},8,["disabled","title"])):F("",!0),k.value.length!==0?(o(),f(r,{key:12,type:"primary",status:"danger",disabled:s.value,title:s.value?"\u8BF7\u9009\u62E9\u8981\u64CD\u4F5C\u7684\u6570\u636E":"",onClick:a[19]||(a[19]=e=>b({action:"delete"}))},{default:u(()=>[n(" \u5220\u9664 ")]),_:1},8,["disabled","title"])):F("",!0)]),_:1})]),_:1}),t(D,{span:12,style:{display:"flex",height:"32px","align-items":"center","justify-content":"end"}},{default:u(()=>[t(de,{content:l.$t("actions.refresh")},{default:u(()=>[A("div",{class:"action-icon",onClick:O},[t(Ve,{size:"18"})])]),_:1},8,["content"]),t(dl,{onSelect:Te},{content:u(()=>[(o(!0),c(U,null,S(p(Se),e=>(o(),f(sl,{key:e.value,value:e.value,class:wl({active:e.value===ae.value})},{default:u(()=>[A("span",null,d(e.name),1)]),_:2},1032,["value","class"]))),128))]),default:u(()=>[t(de,{content:l.$t("actions.density")},{default:u(()=>[A("div",ct,[t(il,{size:"18"})])]),_:1},8,["content"])]),_:1}),t(de,{content:l.$t("actions.column_setting")},{default:u(()=>[t(pl,{trigger:"click",position:"bl",onPopupVisibleChange:je},{content:u(()=>[A("div",vt,[(o(!0),c(U,null,S(Z.value,(e,h)=>(o(),c("div",{key:e.dataIndex,class:"setting"},[A("div",ft,[t(ml)]),A("div",null,[t(cl,{modelValue:e.checked,"onUpdate:modelValue":re=>e.checked=re,onChange:re=>Re(re,e,h)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),A("div",_t,d(e.title==="#"?"\u5E8F\u5217\u53F7":e.title),1)]))),128))])]),default:u(()=>[A("div",pt,[t(rl,{size:"18"})])]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),t(G,{ref_key:"tableRef",ref:ve,"row-key":"id",loading:p(Ie),pagination:K,columns:x.value,data:k.value,bordered:!1,size:ae.value,"row-selection":ze,onPageChange:He,onPageSizeChange:Ne,onSelectionChange:tl},{type:u(({record:e})=>[n(d(l.$t(`model.dict.type.${e.type}`)),1)]),prompt_ratio:u(({record:e})=>[e.type===5?(o(),c("span",gt,d(e.audio_quota.billing_method===1?`$${p(V)(e.audio_quota.prompt_ratio)}/k`:`$${p(J)(e.audio_quota.fixed_quota)}/\u6B21`),1)):e.type===6?(o(),c("span",bt,"-")):e.type===100?(o(),c("span",yt,[t(r,{type:"text",size:"small",onClick:h=>Fe(e.multimodal_quota)},{default:u(()=>[n(" \u67E5\u770B ")]),_:2},1032,["onClick"])])):e.type===101?(o(),c("span",kt,[t(r,{type:"text",size:"small",onClick:h=>we(e.realtime_quota)},{default:u(()=>[n(" \u67E5\u770B ")]),_:2},1032,["onClick"])])):(o(),c("span",Ct,d(e.text_quota.billing_method===1?`$${p(V)(e.text_quota.prompt_ratio)}/k`:"-"),1))]),completion_ratio:u(({record:e})=>[e.type===2?(o(),c("span",$t,[t(r,{type:"text",size:"small",onClick:h=>al(e.image_quotas)},{default:u(()=>[n(" \u67E5\u770B ")]),_:2},1032,["onClick"])])):e.type===5?(o(),c("span",Et,"-")):e.type===6?(o(),c("span",Ft,d(e.audio_quota.billing_method===1?`$${p(V)(e.audio_quota.completion_ratio)}/min`:`$${p(J)(e.audio_quota.fixed_quota)}/\u6B21`),1)):e.type===100?(o(),c("span",ht,[t(r,{type:"text",size:"small",onClick:h=>Fe(e.multimodal_quota)},{default:u(()=>[n(" \u67E5\u770B ")]),_:2},1032,["onClick"])])):e.type===101?(o(),c("span",wt,[t(r,{type:"text",size:"small",onClick:h=>we(e.realtime_quota)},{default:u(()=>[n(" \u67E5\u770B ")]),_:2},1032,["onClick"])])):(o(),c("span",Bt,d(e.text_quota.billing_method===1?`$${p(V)(e.text_quota.completion_ratio)}/k`:`$${p(J)(e.text_quota.fixed_quota)}/\u6B21`),1))]),status:u(({record:e})=>[t(Ae,{modelValue:e.status,"onUpdate:modelValue":h=>e.status=h,"checked-value":1,"unchecked-value":2,onChange:h=>Pe({id:`${e.id}`,status:Number(`${e.status}`)})},null,8,["modelValue","onUpdate:modelValue","onChange"])]),operations:u(({record:e})=>[t(r,{type:"text",size:"small",onClick:h=>ul(e.id)},{default:u(()=>[n(d(l.$t("model.columns.operations.view")),1)]),_:2},1032,["onClick"]),t(r,{type:"text",size:"small",onClick:h=>l.$router.push({name:"ModelUpdate",query:{id:`${e.id}`}})},{default:u(()=>[n(d(l.$t("model.columns.operations.update")),1)]),_:2},1032,["onClick"]),t(vl,{content:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u5417?",onOk:h=>Ue({id:`${e.id}`})},{default:u(()=>[t(r,{type:"text",size:"small"},{default:u(()=>[n(d(l.$t("model.columns.operations.delete")),1)]),_:1})]),_:2},1032,["onOk"])]),_:1},8,["loading","pagination","columns","data","size","row-selection"]),t(fl,{title:l.$t("menu.model.detail"),"unmount-on-close":"","render-to-body":"",width:700,footer:!1,visible:ie.value,onCancel:ol},{default:u(()=>[t(rt,{id:Be.value},null,8,["id"])]),_:1},8,["title","visible"]),t(z,{visible:H.value,"onUpdate:visible":a[23]||(a[23]=e=>H.value=e),title:l.$t("model.form.title.init_model"),onCancel:Ze,onBeforeOk:Je},{default:u(()=>[t(j,{ref_key:"initForm",ref:ge,model:w.value},{default:u(()=>[t($,{field:"url",label:l.$t("model.label.url"),rules:[{required:!0,message:l.$t("model.error.url.required")}]},{default:u(()=>[t(R,{modelValue:w.value.url,"onUpdate:modelValue":a[20]||(a[20]=e=>w.value.url=e),placeholder:l.$t("model.placeholder.url"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t($,{field:"key",label:l.$t("model.label.key"),rules:[{required:!0,message:l.$t("model.error.key.required")}]},{default:u(()=>[t(R,{modelValue:w.value.key,"onUpdate:modelValue":a[21]||(a[21]=e=>w.value.key=e),placeholder:l.$t("model.placeholder.key"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t($,{field:"is_config_model_agent",label:l.$t("model.label.is_config_model_agent")},{default:u(()=>[t(Ae,{modelValue:w.value.is_config_model_agent,"onUpdate:modelValue":a[22]||(a[22]=e=>w.value.is_config_model_agent=e)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["visible","title"]),t(z,{visible:N.value,"onUpdate:visible":a[25]||(a[25]=e=>N.value=e),title:l.$t("model.form.title.model_agent"),onCancel:We,onBeforeOk:Ke},{default:u(()=>[t(j,{ref_key:"agentForm",ref:be,model:X.value},{default:u(()=>[t($,{field:"model_agents",label:l.$t("model.label.model_agents"),rules:[{required:!0,message:l.$t("model.error.model_agents.required")}]},{default:u(()=>[t(I,{modelValue:X.value.model_agents,"onUpdate:modelValue":a[24]||(a[24]=e=>X.value.model_agents=e),placeholder:l.$t("model.placeholder.model_agents"),"max-tag-count":15,multiple:"","allow-search":"","allow-clear":""},{default:u(()=>[(o(!0),c(U,null,S(te.value,e=>(o(),f(T,{key:e.id,value:e.id,label:e.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])]),_:1},8,["model"])]),_:1},8,["visible","title"]),t(z,{visible:Q.value,"onUpdate:visible":a[27]||(a[27]=e=>Q.value=e),title:l.$t("model.form.title.forward"),onCancel:Ye,onBeforeOk:Xe},{default:u(()=>[t(j,{ref_key:"forwardForm",ref:ye,model:Y.value},{default:u(()=>[t($,{field:"target_model",label:l.$t("model.label.target_model"),rules:[{required:!0,message:l.$t("model.error.target_model.required")}]},{default:u(()=>[t(I,{modelValue:Y.value.target_model,"onUpdate:modelValue":a[26]||(a[26]=e=>Y.value.target_model=e),placeholder:l.$t("model.placeholder.target_model"),"allow-search":""},{default:u(()=>[(o(!0),c(U,null,S(le.value,e=>(o(),f(T,{key:e.id,value:e.id,label:e.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])]),_:1},8,["model"])]),_:1},8,["visible","title"]),t(z,{visible:P.value,"onUpdate:visible":a[30]||(a[30]=e=>P.value=e),title:l.$t("model.form.title.fallback"),onCancel:ll,onBeforeOk:el},{default:u(()=>[t(j,{ref_key:"fallbackForm",ref:ke,model:C.value},{default:u(()=>[t($,{field:"model_agent",label:l.$t("model.label.fallback_model_agent"),rules:[{required:!C.value.model_agent&&!C.value.model||!C.value.model,message:l.$t("model.error.fallback.required")}]},{default:u(()=>[t(I,{modelValue:C.value.model_agent,"onUpdate:modelValue":a[28]||(a[28]=e=>C.value.model_agent=e),placeholder:l.$t("model.placeholder.fallback_model_agent"),"allow-search":"","allow-clear":""},{default:u(()=>[(o(!0),c(U,null,S(te.value,e=>(o(),f(T,{key:e.id,value:e.id,label:e.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t($,{field:"model",label:l.$t("model.label.fallback_model"),rules:[{required:!C.value.model_agent&&!C.value.model||!C.value.model_agent,message:l.$t("model.error.fallback.required")}]},{default:u(()=>[t(I,{modelValue:C.value.model,"onUpdate:modelValue":a[29]||(a[29]=e=>C.value.model=e),placeholder:l.$t("model.placeholder.fallback_model"),"allow-search":"","allow-clear":""},{default:u(()=>[(o(!0),c(U,null,S(le.value,e=>(o(),f(T,{key:e.id,value:e.id,label:e.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"])]),_:1},8,["model"])]),_:1},8,["visible","title"]),t(z,{visible:ue.value,"onUpdate:visible":a[31]||(a[31]=e=>ue.value=e),title:l.$t("model.columns.image_price"),width:"500px","hide-cancel":"",simple:""},{default:u(()=>[t(G,{data:Ce.value,pagination:!1,bordered:!1},{columns:u(()=>[t(E,{title:"\u5BBD\u5EA6","data-index":"width",align:"center"}),t(E,{title:"\u9AD8\u5EA6","data-index":"height",align:"center"}),t(E,{title:"\u4EF7\u683C","data-index":"fixed_quota",align:"center"},{cell:u(({record:e})=>[n(d(`$${p(J)(e.fixed_quota)}/\u5F20`),1)]),_:1}),t(E,{title:"\u9ED8\u8BA4","data-index":"is_default",align:"center"},{cell:u(({record:e})=>[n(d(e.is_default?"\u662F":"-"),1)]),_:1})]),_:1},8,["data"])]),_:1},8,["visible","title"]),t(z,{visible:oe.value,"onUpdate:visible":a[32]||(a[32]=e=>oe.value=e),title:l.$t("model.columns.multimodal_price"),width:"550px","hide-cancel":"",simple:""},{default:u(()=>[t(G,{data:$e.value,pagination:!1,bordered:!1},{columns:u(()=>[t(E,{title:"\u6587\u672C\u63D0\u95EE\u4EF7\u683C","data-index":"prompt_ratio",align:"center"},{cell:u(({record:e})=>[n(d(`$${p(V)(e.prompt_ratio)}/k`),1)]),_:1}),t(E,{title:"\u6587\u672C\u56DE\u7B54\u4EF7\u683C","data-index":"completion_ratio",align:"center"},{cell:u(({record:e})=>[n(d(`$${p(V)(e.completion_ratio)}/k`),1)]),_:1})]),_:1},8,["data"]),t(G,{style:{"margin-top":"15px"},data:Ee.value,pagination:!1,bordered:!1},{columns:u(()=>[t(E,{title:"\u8BC6\u56FE\u6A21\u5F0F","data-index":"mode",align:"center"}),t(E,{title:"\u8BC6\u56FE\u4EF7\u683C","data-index":"fixed_quota",align:"center"},{cell:u(({record:e})=>[n(d(`$${p(J)(e.fixed_quota)}/\u5F20`),1)]),_:1}),t(E,{title:"\u9ED8\u8BA4","data-index":"is_default",align:"center"},{cell:u(({record:e})=>[n(d(e.is_default?"\u662F":"-"),1)]),_:1})]),_:1},8,["data"])]),_:1},8,["visible","title"]),t(z,{visible:ne.value,"onUpdate:visible":a[33]||(a[33]=e=>ne.value=e),title:l.$t("model.columns.realtime_price"),width:"550px","hide-cancel":"",simple:""},{default:u(()=>[t(G,{data:he.value,pagination:!1,bordered:!1},{columns:u(()=>[t(E,{title:"\u6587\u672C\u63D0\u95EE\u4EF7\u683C","data-index":"text_quota.prompt_ratio",align:"center"},{cell:u(({record:e})=>[n(d(`$${p(V)(e.text_quota.prompt_ratio)}/k`),1)]),_:1}),t(E,{title:"\u6587\u672C\u56DE\u7B54\u4EF7\u683C","data-index":"text_quota.completion_ratio",align:"center"},{cell:u(({record:e})=>[n(d(`$${p(V)(e.text_quota.completion_ratio)}/k`),1)]),_:1}),t(E,{title:"\u97F3\u9891\u63D0\u95EE\u4EF7\u683C","data-index":"audio_quota.prompt_ratio",align:"center"},{cell:u(({record:e})=>[n(d(`$${p(V)(e.audio_quota.prompt_ratio)}/k`),1)]),_:1}),t(E,{title:"\u97F3\u9891\u56DE\u7B54\u4EF7\u683C","data-index":"audio_quota.completion_ratio",align:"center"},{cell:u(({record:e})=>[n(d(`$${p(V)(e.audio_quota.completion_ratio)}/k`),1)]),_:1})]),_:1},8,["data"])]),_:1},8,["visible","title"])]),_:1})])}}});const ca=El(Vt,[["__scopeId","data-v-d7187907"]]);export{ca as default};
